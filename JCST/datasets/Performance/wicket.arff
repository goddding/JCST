@relation 'WicketBug'

@attribute Text string
@attribute class-att {0,1}

@data

'missing base    URL encoding    yesterday i showed the concept of omponents to a friend and stumled into something i dont understand and think it might be a bug  I have a small panelcompoment that holds a searchform  textfield   submit  nothing special here  the code behind looks like    Override public void onSubmit      String suchFeld   getSuchfeld    if suchFeld length   gt      PageParameters params   new PageParameters    params add  finde  suchFeld   setResponsePage Suche class params     else   setResponsePage getPage   getClass         the component is put into a  BasePage   public BasePage           add bar   add new SuchPanel  SuchPanel           wich is then extended by the real page public class Foo extends BasePage      Creates a new instance of Zigarren    public Foo      wich works all fine  however if the class name contains non ascii letters e g           etc   it gives me a bug if nothing is entered into the search and the partpublic class Zubeh  r extends BasePage      Creates a new instance of Zubeh  r    public Zubeh  r       setResponsePage getPage   getClass      comes to action  the trouble is that the page might have the URL  wicket bookmarkablePage  de pages Zubeh C  B rbut the form tries to go to   wicket bookmarkablePage  de pages Zubeh F rwich results in a CODE     in the App Server   ',0
'Wrong source paths in build xml    The paths used in the ant build xml don t match the actual file structure  In particular  the following changes should be made The following lines should be changed  lt property name  src main dir  value  src java    gt   lt property name  src test dir  value  src test    gt into   lt property name  src main dir  value  src main java    gt    lt property name  src test dir  value  src test java    gt    ',0
'WicketTester fails when calling clickLink on a ResourceLink to a mounted resource    Basics of the testcase are    in WebApplicationapplication getSharedResources   add  mountedResource   new MountedResource    ResourceReference mountedResourceRef   new ResourceReference  mountedResource   application mountSharedResource   mountedLink   mountedResourceRef getSharedResourceKey       in WebPageadd new ResourceLink  mountedResourceLink   new ResourceReference  mountedResource        in testcase itselftester startPage LinksPage class  tester clickLink  mountedResourceLink    I ve attached an Eclipse generated project  it has a build xml which should work on the command line  and uses TestNG for the tests The  war  which can be built using Eclipse  has working links    ',0
'FormTester does not set request parameters for unchanged form fields    When using the FormTester  the Form is correctly having its field values  but FormTester does not call setFormComponentValue   for every field  Thus  the request parameters are not set for the next request  when submit   is called The workaround is to call setValue   for every field The attached patch fixes the problem for AbstractTextComponent  It also adds a new method getTextComponentValue   as a shortcut to access a field value    ',0
'NPE in Check java    The Forms examples fails with an NPE in Check java if  group hasRawInput      String   inputs   group getInputAsArray    for  String input   inputs   lt  lt  lt  lt  lt  lt  NPE   if  value equals input     tag put  checked    checked         Juergen   ',0
'Lazy registration fails for mounted resources     If you mount a CSS resource which has background image url   links  the lazy resolution code in SharedResourceRequestTarget doesn t search class aliases when it tries to locate the image  which is rather annoying    ',0
'NullPointerException after deserialize wicket util concurrent CopyOnWriteArrayList    wicket feedback FeedbackMessages by default using wicket util concurrent CopyOnWriteArrayList for storage  however CopyOnWriteArrayList internally use a transient Object   array  without checking null and lazy initialization  This may cause NullPointerException after session replication or the like  Below is stack trace while testing terracotta session clustering  WicketMessage  unable to get object  model  Model classname      wicket feedback FeedbackMessagesModel      attached true  called with component  MarkupContainer      Component id   messages  page   ngc wicket pages MainPage   path     globalFeedback feedbackul messages FeedbackPanel MessageListView  isVisible   true  isVersioned   false      Root cause java lang NullPointerExceptionat wicket util concurrent CopyOnWriteArrayList size  CopyOnWriteArrayList java     at wicket feedback FeedbackMessages messages FeedbackMessages java     at wicket feedback FeedbackMessagesModel onGetObject FeedbackMessagesModel java     at wicket model AbstractDetachableModel getObject  AbstractDetachableModel java     at wicket Component getModelObject Component java     at wicket markup html panel FeedbackPanel updateFeedback FeedbackPanel java     at wicket Page   component  Page java     at wicket MarkupContainer visitChildren MarkupContainer java     at wicket Page renderPage Page java        ',0
'wrong handling of exceptions for Resource respond and ComponentResourceRequestTarget respond    Resource s exception handling is too fragile  Currently  before fix  it looks like this  private final void respond final IResourceStream resourceStream  final Response response    try   final OutputStream out   response getOutputStream    try   Streams copy resourceStream getInputStream    out     finally   resourceStream close    out flush        catch  Exception e    Throwable throwable   e  boolean ignoreException   false  while  throwable    null    if  throwable instanceof SocketException    String message   throwable getMessage    ignoreException   message    null  amp  amp   message indexOf  Connection reset by peer            message  indexOf  Software caused connection abort             else   ignoreException   throwable getClass   getName    indexOf  ClientAbortException    gt      if  ignoreException    if  log isDebugEnabled      log debug  Socket exception ignored for sending Resource      response to client  ClientAbort    e     break      throwable   throwable getCause      if   ignoreException    throw new WicketRuntimeException  Unable to render resource stream     resourceStream  e        and ComponentResourceRequestTarget re threw this exception  resulting in Wicket trying to render an error page  One problem with the above code is that it is simply does not cover all appservers versions os ses  nor it that something we should want to support  For instance  an aborted request in Jetty on Linux  OSX results in an IOException  or more concrete EofException  Besides the fact that this can get you weird behavior in general  handling the exception like we did there is never a good idea  We should never try to render an error page for any exception during a resource request but instead set an appropriate status code  I propose status code      INTERNAL SERVER ERROR  for this and put that in ComponentResourceRequestTarget  and alter Resource so that it always re throws any exception    ',0
'mounted URLs fail if filterPath is blank    The path in RequestParameters needs to begin with a     or it will not be found when checking against mounted paths  The slash is prefixed in WicketFilter line     when checking isWicketRequest    but it is not prefixed later when looking for the request target  Proposed fix in patch  to be attached  performs this operation in ServletWebRequest getPath    I m not sure if that is the ideal spot  but I ve confirmed that it fixes the problem    ',0
'While testing with FormTester  onSelectionChanged is not being invoked if DropDownChoice is enabled for notifications    Method DropDownChoice onSelectionChanged is never called when testing a drop down by calling formTester select  dropDownChoiceNotified      In my page  form add new DropDownChoice  dropDownChoiceNotified   candidateChoices  bookChoiceRenderer    private static final long serialVersionUID    L  protected boolean wantOnSelectionChangedNotifications     return true    protected void onSelectionChanged Object arg     super onSelectionChanged arg    throw new RuntimeException  notification   arg         In my unit Test I do  formTester select  dropDownChoiceNotified      and the drop down component is not being notified It works fine when testing in a container though    ',0
'Component reAttach and versioning    I m reAttaching a component doing something like  MyFooPanel p    new MyFooPanel this   panel   MyBarPanel p    new MyBarPanel this   panel    p  reAttach    When I try to restore to the initial page version I found that the component with id  panel  is not a children component of the page  I have investigated it and I think it is because when the component is reAttached the order in which the changes are added to the ChangesList is   Add p   Remove p  When the initial version is restored the undo functionality is done in reverse mode like   Add p   Remove p  The problem is p  and p  have the same id  so when p  is removed what is removing is p  that has just added  Oscar    ',0
'Uncaught exception guesing urls using CryptedUrlWebRequestCodingStrategy    When used the CryptedUrlWebRequestCodingStrategy strategy in my wicket application I get an uncaught exception when trying to hack urls in the browser address bar Configuration   Override protected IRequestCycleProcessor newRequestCycleProcessor     return new CompoundRequestCycleProcessor new CryptedUrlWebRequestCodingStrategy  new WebRequestCodingStrategy     null  null  null  null        newRequestCycleProcessor Exception java lang ArrayIndexOutOfBoundsException     at wicket util crypt Base  UrlSafe decodeBase   Base  UrlSafe java      at wicket util crypt AbstractCrypt decryptUrlSafe AbstractCrypt java     at wicket protocol http request CryptedUrlWebRequestCodingStrategy decodeURL CryptedUrlWebRequestCodingStrategy java      at wicket protocol http request CryptedUrlWebRequestCodingStrategy decode CryptedUrlWebRequestCodingStrategy java     at wicket Request getRequestParameters Request java      at wicket RequestCycle step RequestCycle java      at wicket RequestCycle steps RequestCycle java       at wicket RequestCycle request RequestCycle java      at wicket protocol http WicketServlet doGet WicketServlet java      at javax servlet http HttpServlet service HttpServlet java      at javax servlet http HttpServlet service HttpServlet java      at org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java      at org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java      at org jboss web tomcat filters ReplyHeaderFilter doFilter ReplyHeaderFilter java     at org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java      at org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java      at org apache catalina core StandardWrapperValve invoke StandardWrapperValve java      at org apache catalina core StandardContextValve invoke StandardContextValve java      at org jboss web tomcat security SecurityAssociationValve invoke SecurityAssociationValve java      at org jboss web tomcat security JaccContextValve invoke JaccContextValve java     at org apache catalina core StandardHostValve invoke StandardHostValve java      at org apache catalina valves ErrorReportValve invoke ErrorReportValve java      at org jboss web tomcat tc  jca CachedConnectionValve invoke CachedConnectionValve java      at org apache catalina core StandardEngineValve invoke StandardEngineValve java      at org apache catalina connector CoyoteAdapter service CoyoteAdapter java      at org apache coyote http   Http  Processor process Http  Processor java      at org apache coyote http   Http  BaseProtocol Http  ConnectionHandler processConnection Http  BaseProtocol java      at org apache tomcat util net PoolTcpEndpoint processSocket PoolTcpEndpoint java      at org apache tomcat util net MasterSlaveWorkerThread run MasterSlaveWorkerThread java      at java lang Thread run Thread java     I d except that this exception would be caught an a user is taken to a user friendly error page  possibly the default error page    ',0
'creating a mountBookmarkablePage with PageMap    from wicket user lists sourceforge net On          Igor Vaynberg  lt igor vaynberg gmail com gt  wrote lol  yesi think someone got a bit overzealous with typesafety  please create a jira issue for it and we will change PageMap pageMap to String pageMapName igorOn          Kadir Sener GUMUS  lt chaoticknight gmail com gt  wrote Hi i want to mount a bookmarkablePage with custom pagemap parameter in Application init   but as a normal result i am experiencing with no session error  Because PageMap forName     requires a session  so can i ask you what the method  mountBookmarkablePage String path  PageMap pageMap  Class bookmarkablePageClass   is for  where do i have to define that  i couldnt find any usage description for the method  Thanks Kadir   ',0
'Removing comments from markup can fail    Markup with comments in it sometimes causes Wicket to crash with a nasty StringIndexOutOfBoundsException    ',0
'NPE in RequestLogger     java lang NullPointerException at java util LinkedList writeObject LinkedList java      at sun reflect GeneratedMethodAccessor   invoke Unknown Source  at sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java     at java lang reflect Method invoke Method java      at java io ObjectStreamClass invokeWriteObject ObjectStreamClass java      at java io ObjectOutputStream writeSerialData ObjectOutputStream java       at java io ObjectOutputStream writeOrdinaryObject ObjectOutputStream java       at java io ObjectOutputStream writeObject  ObjectOutputStream java       at java io ObjectOutputStream defaultWriteFields ObjectOutputStream java       at java io ObjectOutputStream writeSerialData ObjectOutputStream java       at java io ObjectOutputStream writeOrdinaryObject ObjectOutputStream java       at java io ObjectOutputStream writeObject  ObjectOutputStream java       at java io ObjectOutputStream writeObject ObjectOutputStream java      at wicket util lang Objects sizeof Objects java       at wicket Session getSizeInBytes Session java      at wicket protocol http RequestLogger requestTime RequestLogger java      at wicket RequestCycle detach RequestCycle java      at wicket RequestCycle steps RequestCycle java       at wicket RequestCycle request RequestCycle java      at wicket protocol http WicketFilter doGet WicketFilter java      at wicket protocol http WicketServlet doGet WicketServlet java      at javax servlet http HttpServlet service HttpServlet java        ',0
'WicketServlet deprecation and WicketFilter    Hi I m one of the maintainer of ops j pax wicket  Atm  I m trying tomigrate pax wicket to wicket     that can be found at https   scm ops j org repos ops j branches pax wicket      One of the problem that I found during migration is the fact thatWicketFilter uses reflection to instantiate application factory byusing the FilterConfig getInitParam   applicationFactoryClassName    Since this is not advisable in OSGi  Due to problem of ensuringwhoever export the wicket bundle must have it s classloader be able toload the application factory  and HttpService does not support Filter It would be better if the old pattern of WicketServlet is supported  lt code gt public class WicketServlet  protected WicketFilter newWicketFilter     return new WicketFilter      public void init     wicketFilter   newWicketFilter    filter init new FilterConfig                lt  code gt This way  I would be able to override the instantiation ofWicketFilter without having to reimplement my FilterConfig For example  my wicket servlet will look like like  lt code gt final class MyWicketServlet extends WicketServlet  private final IWebApplicationFactory m appFactory  MyWicketServlet  IWebApplicationFactory factory     m appFactory   factory    protected final WicketFilter newWicketFilter     return new WicketFilter     protected IWebApplicationFactory getApplicationFactory     return MyWicketServlet this m appFactory          lt  code gt This way  reflection will not be used anymore in both instantiatingWebApplication  bypassing ContextParamWebApplicationFactory class  andIWebApplicationFactory Regards Edward YakopNote Can we please remove the log info part to mark WicketServlet is deprecated  lt code gt public WicketServlet       log warning log info                                                  log info  DEPRECATED  Please use WicketFilter instead     log info                                                   lt  code gt Reply from Johan Compagner  jcompagner gmail com We will remove the warnings about the deprication when we will release        for now we want to point people as much as possible to the wicket filter The wicket servlet will still be there So you just want a factory method in wicket servlet where you can make the wicket filter can you add a RFE for this https   issues apache org jira secure IssueNavigator jspa reset true amp mode hide amp pid          amp sorter order DESC amp sorter field priority amp resolution    amp component         then i will add the factory method asap johan   ',0
'Allow to set field values before submitting a form with Ajax in WicketTester    I have code to validate   TextField  s one by one with ajax  While the code works  I wasn t able to assert it working with WicketTester The attached quickstart can be used to reproduce the problem on a     snapshot  The code works in a browser  validity gets toggled true   false when changing the input length   but WicketTester fails  With WicketTester  the ajax event gets triggered  and it calls validate on the field   but isValid always returns true    ',0
'pallete    is missing in HTML    Index  Palette html                                                                           Palette html  revision            Palette html  working copy                    lt td class  buttons  gt   lt button type  button  wicket id  addButton  class  button add  gt  lt img wicket id  image  src  add gif   gt  lt  button gt  lt br  gt   lt button type  button  wicket id  removeButton  class  button remove  gt  lt img wicket id  image  src  remove gif   gt  lt  button gt  lt br  gt   lt button type  button  wicket id  moveUpButton  class button up  gt  lt img wicket id  image  src  up gif   gt  lt  button gt  lt br  gt    lt button type  button  wicket id  moveUpButton  class  button up  gt  lt img wicket id  image  src  up gif   gt  lt  button gt  lt br  gt   lt button type  button  wicket id  moveDownButton  class  button down  gt  lt img wicket id  image  src  down gif   gt  lt  button gt  lt br  gt   lt  td gt   lt td class  pane selection  gt    ',0
'Calls to enabled and visibleInHierarchy should not be done in component resolving     Currently  the check s  on whether a component may receive a call is done too early  namely during resolving the request target  This is a problem when components depend on things being initialized in the page or component using detachement  There is also some code duplication  The proper place for this check is in RequestListenerInterface invoke    ',0
'EmailAddressPatternValidator does not correctly identify TLDs with more than   letters    The following is already fixed in wicket      but doesn t seem to have made it into     yet  The following looks like a valid regex for this        A Za z                   A Za z                A Za z                  A Za z                  A Za z                  ',0
'PackageRequestTargetUrlCodingStrategy should interrupts the cycle and sends a     when a page class cannot be found     Using PackageRequestTargetUrlCodingStrategy and manually hacking the url in the browser will throw up a RuntimeException if it cannot load a corresponding page class  Same could happen if the bookmarkable page does not exist anymore  etc    see stacktrace below The expected behavior is to interrupt the cycle and sends a     wicket WicketRuntimeException  Unable to load class with name  com mycompany wicket pages xyzw at wicket application DefaultClassResolver resolveClass DefaultClassResolver java     at wicket request target coding PackageRequestTargetUrlCodingStrategy decode PackageRequestTargetUrlCodingStrategy java     at wicket protocol http request WebRequestCodingStrategy targetForRequest WebRequestCodingStrategy java      at wicket protocol http request CryptedUrlWebRequestCodingStrategy targetForRequest CryptedUrlWebRequestCodingStrategy java      at wicket request compound DefaultRequestTargetResolverStrategy resolve DefaultRequestTargetResolverStrategy java     at wicket request compound AbstractCompoundRequestCycleProcessor resolve AbstractCompoundRequestCycleProcessor java     at wicket RequestCycle step RequestCycle java       at wicket RequestCycle steps RequestCycle java       at wicket RequestCycle request RequestCycle java      at wicket protocol http WicketFilter doGet WicketFilter java      at wicket protocol http WicketFilter doFilter WicketFilter java        ',0
'AjaxEditableLabel on setModel does not update the labels model only the editors    The AjaxEditableLabel when you perform a setModel   it will go ahead and update the underlying model of the editor however  it does not update the underlying model of the Label   ',0
'CheckBox incorrectly converts its model value when a custom Boolean converter is installed    When I use a custom localized Boolean converter  using my custom IConverterLocator  that converts  Ano  to true and  Ne  to false  Czech words for  yes  and  no   the CheckBox with  true  getModelObject   will render unchecked  The problem is that CheckBox uses Strings isTrue   to convert a value returned by getModelObjectAsString   which uses converters  The result is that true is incorrectly converted to false   true   gt  convertToString     gt   Ano    gt  Strings isTrue     gt  false   ',0
'Inheritable model cannot be a wrap model    In the code of Component initModel    when it comes accross an IWrapModel  it always gets its nested model  not considering if this model itself might be an IInheritableModel  for  Component current   getParent    current    null  current   current getParent         Get model IModel model   current getModel    if  model instanceof IWrapModel    model     IWrapModel model  getNestedModel      if  model instanceof IInheritableModel            Would it be correct do make the following correction   if  model instanceof IWrapModel  amp  amp    model instanceof IInheritableModel     model     IWrapModel model  getNestedModel        ',0
'BookmarkablePageLink only sets the target attribute when it exists in the markup    BookmarkablePageLink adds an attribute modifier to itself when setPageMap is called  However  it creates the attribute modifier in such a fashion that it is only applied when the target attribute is already in the markup  The initial goal to implement it like that was to make the change unobtrusive  I m backtracking on that now though  as I now think it is actually half baked  I d like to change the behavior so that it  always  sets the target when you call setPageMap on it  This would mean that you ll popup another window if you try to link to a different page map in the same screen  but you shouldn t do that anyway See http   www nabble com Re  A Extending wicket markup html tree Tree p        html for a problem this would fix    ',0
'Some components miss localization  NavigatorLabel  Palette     wicket extensions markup html repeater data table NavigatorLabel should be localized  Now there s hard coded string Showing xxx to yyy of zzzwicket extensions markup html form palette Palette   method newAvailableHeader and newSelectedHeader  It think it should be better to use localized model instead of hardcoded strings  Available  and  Selected    ',0
'Converter misusage mangling in RadioChoice      x RadioChoice     is doing conversion  I don t think it should be I think the default ChoiceRenderer should be doing the conversion  and that if you supply your own  no conversion should be done    ',0
'Wicket Focus code utterly breaks AjaxEditableLabel    The Wicket Focus javascript is nice and clever  but isn t clever enough   we ve overlooked the use case where people want to set the focus in their AJAX callback to another component This is particularly bad for the AjaxEditableLabel case  because onblur   on the text field that it pops up causes it to submit the value back to the server and finish the editing process and go away  So the text field pops up  and then wicket moves the focus somewhere else  so it goes away again immediately  Maybe a good stab at fixing     of the problem would be to see if the JS in the response has the word  focus  in it  and not do the focusing if it does Looking at the user list  I think Johan is the Wicket Focus man  so I m assigning this to him  Johan   if this isn t really your domain  obviously feel free to unassign and accept my apologies    ',0
'DropDownChoice  empty Model wrong default encoding of special chars    Iv the DDChoice is empty at first  you get a  Bitte Ausw  hlen  wich is wrongly decoded as  Bitte Ausw  len    so the encoding needs to be checked that it gets correctly encoded according to HTML like  auml    ',0
'Using Borders with Markup Inheritance causes component resolution failures    If a Border is used by the BasePage in a markup inheritance implementation  Wicket is unable to resolve any of the components in the child page I will attach a simple testcase for this    ',0
'Ajax requests don t detach component models    After ajax request the component models are not detached  Page onDetach should detach those models  but since the page itself is not attached  the onDetach method is not called It s necessary to always call page detachModels after request  And we should only call page detach from the request target  The ajax request target should not page detach  as the behaviorrequesttarget should do that    ',0
'NullPointerException in MarkupFragmentFinder find      If ID of any component in MarkupStream is null  for example in ends with tags   the method MarkupFragmentFinder find   may crash  See patch      ',0
'mvn jetty run  maven jetty plugin not configured    maven jetty plugin not configured for wicket quickstart    ',0
'Add global override to disable gzip compression  SAP double compresses      It should be possible to deactivate gzip compression  Sometimes gzip is already handled by a proxy server or gzip raises problems  like I experienced on SAP J EE Enterprise Server  Default should be  on  It s always good to have an option    ',1
'Feedback is not cleaned up upon AJAX requests    When doing validation with AjaxFormComponentUpdatingBehavior once an error message is attached to a component it gets sticky and is not refreshed upon new ajax requests  It seems as if feedback is not cleaned up so onEvent always takes the hasError branch  independently of validation results    ',0
'JavaScript comment stripping doesn t handle regexps    The following line is crippled when using javascript comment stripping from jquery js     Handle the common XPath    expression if    t indexOf          it will be result in if    t indexOf  the    inside the string quotes are taken as a comment instead of as a string      ',0
'ModalWindow does not function under Opera    Initial ModalWindow appears  but with the title   Blank Page   The window remains unpopulated    ',0
'Use WebRequestEncoder everywhere a query string is constructed       ',0
'LocalizedImageResource escapes ampersands twice  regression     urlFor returns escaped ampersands  apparently  a change  so LocalizedImageResource should not do it a second time    ',0
'tests should be test    In pom xml for extension  the following is a typo   lt dependency gt   lt groupId gt org apache wicket lt  groupId gt   lt artifactId gt wicket lt  artifactId gt   lt classifier gt tests lt  classifier gt   lt scope gt tests lt  scope gt  lt              should be  lt scope gt test lt  scope gt   lt  dependency gt Now when using mvn eclipse eclipse and mvn war I get an extra unnecessary test jar   ',0
'WicketTester does not bind created Session to SessionStore    The WicketTester constructor  via a call to MockWebApplication createRequestCycle    creates a new session but fails to bind it  this wicketSession    WebSession  Session findOrCreate   This means that the session subsequently gets over written by a new one created in a later call to WicketTester startPage    This causes problems for any unit tests which want to set up session data after instantiating a WicketTester  but before calling WicketTester startPage   The MockWebApplication createRequestCycle   should probably bind the session immediately after creating it  this wicketSession    WebSession  Session findOrCreate    getApplication   getSessionStore   bind getWicketRequest    wicketSession  Then subsequent calls to startPage   will use this session rather than create a new one    ',0
'TimeOfDay next Calendar  can return time on same day rather than next day    Currently code does  calendar add Calendar DATE      return Time valueOf calendar  this  Because Time valueOf Calendar  TimeOfDay  always returns the time on the same day  the add is ignored  Instead this code should be the time of day today plus one day like this  return Time valueOf calendar  this  add Duration ONE DAY     ',0
'AbstractTextComponent setConvertEmptyInputStringToNull true  does not work with IObjectClassAwareModels  affects TextField  etc      The unit tests ought to cover this  but apparently don t  A TextField should convert empty strings to nulls if you call setConvertEmptyInputStringToNull true  on it  which the constructors do by default  However  this doesn t currently work  AbstractTextComponent getConvertEmptyInputStringToNull   is only called from AbstractTextComponent convertValue String     AbstractTextComponent convertValue String    is called from FormComponent convert    but only if the component doesn t have a type assigned to it  As soon as you use a PropertyModel  which implements IObjectClassAwareModel   this means empty strings are no longer converted to nulls This is obviously a great big blocker and needs fixing ASAP    ',0
'HeaderContributor forces relative URL    I consider this a bug  and was wondering if you do as well    If so  I will open a JIRA and attach a patch for it  Just let me know In my       app  I have the following line add HeaderContributor forCss   resources styles global css    which generates this in the markup  correctly   lt link rel   stylesheet  type  text css  href   resources css global css   gt  lt  link gt In      it generates this in the markup  incorrectly   lt link rel   stylesheet  type  text css  href            resources styles global css   gt  lt  link gt This is because of the change to have everything with relative URLs  I am assuming  But  I don t want a relative URL  I want an absolute one  I m thinking that the following change would be appropriate HeaderContributor java     if  location startsWith  http         location startsWith  https      changed to if  location startsWith  http         location startsWith  https         location startsWith         ',0
'Prototype scoped Spring beans    I copied the following text from my discussion on wicket user  and was asked to open an issue  so here it is http   www nabble com Prototype scoped Spring beans tf        htmlFor a more complex form I wanted to use a  stateful  Springbean  to which I applied scope  prototype   The idea is to have one bean instance for every Form instance  I would access the bean with PropertyModels and direct method calls during construction  i e  setting initial state from input parameters  and during events  which would alter the state  I inject the bean into the Form with  SpringBean annotation This works somehow  but sometimes  especially after using the backbutton  I had the problem that the internal state was reset  So I analyzed the stack in the constructor of the bean implementation  and found out that it was called twice during construction of the Form  First  during the super   call  and then again in the next line during a method call on that bean  I appended both stacktraces below  The proxy itself does not change This happens again after going back and e g  submitting again  This results in a NPE  because the internal state is reset I understand from reading the mailing list that the Wicket Proxy does nothing but a lookup in the Application context  and does not know or care about spring scope And here I m a little stuck  I am already considering to put the state into the Form  and make the Bean a singleton without any internal state  As that would mean some heavy refactoring  I would prefer a way where the Spring acces would work as I want  Or is this a wrong way altogether    ',0
'WicketFilter tries to call setClassLoader   even if it s not changing the default   doesn t work on strict SecurityManagers     As summary  Solution is to avoid setting the classloader if it s not actually changed    ',0
'Resource getParameters   empty when resource is mounted    After migrating my application from       to       incubating SNAPSHOT mounted shared resources  rss feeds  uploaded images  stopped working DynamicWebResource getParameters   getXXX   returns with null if the resource is mounted via Application mountSharedResource but it works fine when the resource is not mounted    ',1
' PATCH  remove XX in firefox and palette    I know it is a firefox bug but we can workaround  at least into palette  this with the attach patch   ',0
'ReloadingWicketFilter not working with markup inheritance    This is happening for latest snapshot               Last time I refreshed from Maven was            when things were working fine Problem occurs when I use the ReloadingWicketFilter  does not matter if in Wicket development mode or not My login page is not using markup inheritance  it works fine  But after login success  next page  home page  causes this error                                       btpool         DEBUG      org apache wicket application ReloadingClassLoader        clzLocation  E  peter jtrac trunk jtrac target jtrac WEB INF classes info jtrac wicket BasePage class                             btpool         INFO      org apache wicket application ReloadingClassLoader        Watching changes of class E  peter jtrac trunk jtrac target jtrac WEB INF classes info jtrac wicket BasePage class                             btpool         DEBUG      org apache wicket application ReloadingClassLoader        clzLocation  E  peter jtrac trunk jtrac target jtrac WEB INF classes info jtrac wicket DashboardPage class                             btpool         INFO      org apache wicket application ReloadingClassLoader        Watching changes of class E  peter jtrac trunk jtrac target jtrac WEB INF classes info jtrac wicket DashboardPage class                             btpool         ERROR      org apache wicket RequestCycle        Markup of type  html  for component  info jtrac wicket DashboardPage  not found  Enable debug messages for org apache wicket util resource to get a list of all filenames tried      Page class   info jtrac wicket DashboardPage  id      version         org apache wicket markup MarkupNotFoundException  Markup of type  html  for component  info jtrac wicket DashboardPage  not found  Enable debug messages for org apache wicket util resource to get a list of all filenames tried      Page class   info jtrac wicket DashboardPage  id      version          at org apache wicket MarkupContainer getAssociatedMarkupStream MarkupContainer java      at org apache wicket markup html WebPage onBeforeRender WebPage java      at org apache wicket Component beforeRender Component java      at org apache wicket Page renderPage Page java      at org apache wicket request target component BookmarkablePageRequestTarget respond BookmarkablePageRequestTarget java                 Root cause org apache wicket WicketRuntimeException  Parameter clazz must be instance of containerat org apache wicket markup MarkupCache getMarkup MarkupCache java     at org apache wicket markup loader InheritedMarkupMarkupLoader checkForMarkupInheritance InheritedMarkupMarkupLoader java    at org apache wicket markup loader InheritedMarkupMarkupLoader loadMarkup InheritedMarkupMarkupLoader java    at org apache wicket markup loader DefaultMarkupLoader loadMarkup DefaultMarkupLoader java    at org apache wicket markup MarkupCache loadMarkup MarkupCache java     at org apache wicket markup MarkupCache loadMarkupAndWatchForChanges MarkupCache java     at org apache wicket markup MarkupCache getMarkup MarkupCache java     at org apache wicket markup MarkupCache getMarkupStream MarkupCache java     at org apache wicket MarkupContainer getAssociatedMarkupStream MarkupContainer java     at org apache wicket markup html WebPage onBeforeRender WebPage java     at org apache wicket Component beforeRender Component java     at org apache wicket Page renderPage Page java     at org apache wicket request target component BookmarkablePageRequestTarget respond BookmarkablePageRequestTarget java                Couple of other points  if I now type in the URL of another page which is bookmarkable  that works and from there if I go to the home page things are fine  Looks like now the class   markup gets cached etc Another thing is if in my extension of ReloadingWicketFilter I exclude the class that is the base page for markup inheritance  things start working but I get a different class conflict error somewhere deep in the navigation and component hierarchy  let me know if you need me to send the lof for this also If this is of any relevance  I am using a custom AuthorizationStrategy   so that is how the login page comes up in the first place  throw new RestartResponseAtInterceptPageException LoginPage class    and then from Login page I do continueToOriginalDestination     maybe this has something to do with it    ',0
'Border resolve   should not attempt to render contents if bodyVisible is false    Border resolve   should not attempt to render its nested components if setBorderBodyVisible false  has been called  This way the behavior would be similar to Component setVisible     when the contents are not visible  wicket would not raise an exception if there are no corresponding components for the border s markup    ',0
'If the model is List  PropertyResolver doesn t try to find fields        ',0
'AjaxEditableChoiceLabel doesn t work    AjaxEditableChoiceLabel doesn t init properly   it always creates DropDownChoice with null in the choices field  The newEditor   method is called from the AjaxEditableLabel constructor and at that time AjaxEditableChoiceLabel choices is not initialized yet    ',0
'Invoking a request listener on a page returns an Expired Error page    The Page object being a Component should support the Wicket request listener mechanism  But invoking a request listener on page defined listener object it results in a  Page Expired  error page  To reproduce it try the following code public interface IHelloListener extends IRequestListener  public static final RequestListenerInterface INTERFACE   new RequestListenerInterface IHelloListener class   void onHello    public class HelloWorld extends WebPage implements IHelloListener  public HelloWorld     add new Label  message    Hello World      WebMarkupContainer link   new WebMarkupContainer  link    link add new SimpleAttributeModifier  href   RequestCycle get   urlFor this  IHelloListener INTERFACE     add link     public void onHello     RequestCycle get   setRequestTarget new IRequestTarget     public void detach RequestCycle requestCycle      public void respond RequestCycle requestCycle    requestCycle getResponse   write   lt html gt  lt body gt HELLO  lt  body gt  lt  html gt       public Object getLock RequestCycle requestCycle    return null             ',0
'WicketTester could not handle Multipart form without upload    When testing the form that contains FileUploadField without upload  wicketTester throw exception with message   ServletRequest does not contain multipart content    ex public class FormTesterTest extends WicketTestCase      Test that formTester deal with Multipart form correctly when no actual upload    public void testSubmitWithoutUploadFile     tester startPage MockFormFileUploadPage class   MockFormFileUploadPage page    MockFormFileUploadPage tester getLastRenderedPage    Session get   setLocale Locale US   FormTester formTester   tester newFormTester  form       without file upload formTester submit    assertNull page getFileUpload     tester assertErrorMessages new String      Field  file  is required         The cause is that Form contains FileUploadField is considered as multipart  But MockHttpServletRequest only generate Multipart contentType and contentLength when there is any upload file added via formTester setFile       Thus without any file upload while testing  MultipartServletWebRequest throw exception To solve this  I try to introduce a flag useMultiPartContentType in MockHttpServletRequest  so FormTester can change MockHttpServletRequest to generate correct contentType attachment is patch   ',0
'OnChangeAjaxBehavior does not work with  when using Safari    With the latest       SNAPSHOT  the following does not work with Safari        The handler is never invoked and the AJAX debug console shows absolutely no activity  The exact same code works with Firefox         import java io Serializable import org apache wicket ajax AjaxRequestTarget import org apache wicket ajax form OnChangeAjaxBehavior import org apache wicket markup html WebPage import org apache wicket markup html form Form import org apache wicket markup html form TextArea import org apache wicket model Model import org apache wicket model PropertyModel public class WicketBugPage extends WebPage   public WicketBugPage     super new Model new Item      Form form   new Form  form    add form   TextArea description   new TextArea  description   new PropertyModel getModel     description     description add new OnChangeAjaxBehavior      Override protected void onUpdate AjaxRequestTarget target    Item item    Item  getModelObject    System out println item getDescription           form add description     public static class Item implements Serializable   private String description  public void setDescription String description    this description   description    public String getDescription     return description       lt html gt  lt body gt   lt form wicket id  form  gt   lt textarea wicket id  description  gt  lt  textarea gt   lt  form gt  lt  body gt  lt  html gt    ',0
'setVisible false  on Page throws NPE    Found this by accident while looking for a bug involving misplaced parenthesis add     setVisible false  instead of add     setVisible false    public class MyPage extends Page   MyPage         setVisible false        GivesUnexpected RuntimeExceptionRoot cause java lang NullPointerExceptionat org apache wicket Component render Component java      at org apache wicket Page renderPage Page java     at org apache wicket request target component BookmarkablePageRequestTarget respond BookmarkablePageRequestTarget java     at org apache wicket request AbstractRequestCycleProcessor respond AbstractRequestCycleProcessor java     at org apache wicket RequestCycle processEventsAndRespond RequestCycle java      at org apache wicket RequestCycle step RequestCycle java      at org apache wicket RequestCycle steps RequestCycle java      at org apache wicket RequestCycle request RequestCycle java     at org apache wicket protocol http WicketFilter doGet WicketFilter java     at org apache wicket protocol http WicketFilter doFilter WicketFilter java     at org mortbay jetty servlet ServletHandler CachedChain doFilter ServletHandler java      at org mortbay jetty servlet ServletHandler handle ServletHandler java     at org mortbay jetty security SecurityHandler handle SecurityHandler java     at org mortbay jetty servlet SessionHandler handle SessionHandler java     at org mortbay jetty handler ContextHandler handle ContextHandler java     at org mortbay jetty webapp WebAppContext handle WebAppContext java     at org mortbay jetty handler HandlerCollection handle HandlerCollection java     at org mortbay jetty handler HandlerWrapper handle HandlerWrapper java     at org mortbay jetty Server handle Server java     at org mortbay jetty HttpConnection handleRequest HttpConnection java     at org mortbay jetty HttpConnection RequestHandler headerComplete HttpConnection java     at org mortbay jetty HttpParser parseNext HttpParser java     at org mortbay jetty HttpParser parseAvailable HttpParser java     at org mortbay jetty HttpConnection handle HttpConnection java     at org mortbay jetty bio SocketConnector Connection run SocketConnector java     at org mortbay thread BoundedThreadPool PoolThread run BoundedThreadPool java        ',0
'ServletWebRequest getRelativePathPrefixToContextRoot generates wrong relative path if current page has URL encoding in the params     Actually  this is against       SNAPSHOT revision        I have been trying to find a very annoying  seeminly sporadic  glitch where my images that are relative to the context wouldn t  find  the image file  Looking at the source  they would have    sets of      versus the   sets that the other resources would have  Here is how I was trying to display the image  lt img src  images find png   gt  I was finally able to produce a scenario in a quickstart to prove the problem exists  It seems that getPath   and getServletPath   don t work the same way  in that I mean  getPath   had the     encoded as    B  whereas getServletPath   was not encoded Therefore  this test fails and the path is not properly handled  if  servletPath endsWith path     ',0
'default pagemap name of null is not always properly encoded into the url    when pagemap name happens to be the last url parameter and coding strategy is  param  value   the url ends up looking like  param  value  wicket pageMapName which when split on     produces param  value  wicket pageMapName which causesjava lang IllegalStateException  URL fragment has unmatched key value   ',0
'Select doesn t validate  Required     The Select Component doesn t validate  Required  if current user selection points to an empty value in drop down mode    ',0
'setresponsepage   does not properly redirect from ajax requests    if you are on a mounted page with parameters  lets say context page param  param  and you call setresponsepage   from an NORMAL link on that page you will land on context  wicket interface    which is correct  however if you do it from an ajax link like so  onclick ajaxrequesttarget target    setresponsepage new mypage       you will land on  context page param  param   wicket interface    which is INCORRECTl  notice that the mount and params were not stripped  also now because wicket thinks url depth is   urls will break  for example a resource requested from that page will be  context page param  param  resources       woopsiewhy this happens when setresponsepage is called the  wicket interface foo    url is constructed and passed to webresponse redirect url  which in turn calls httpServletResponse sendRedirect url   for normal responses or httpServletResponse addHeader  Ajax Location   url   for ajax responses  the big difference is how servletresponse handles this  and from the javadoc  This method can accept relative URLs  the servlet container will convert the relative URL to an absolute URL before sending the response to the client  so what needs to be done is that httpServletResponse addHeader  Ajax Location   url   also needs to mangle the url and make it absolute since you are the proxy guy and i dont know how this will play into that i am assigning it to you   ',0
'MockHttpServletRequest addFile does not work with binary files    http   www nabble com Uploading binary files via MockHttpServletRequest tf        html a        As stated in the thread  I can upload text  xml  files just fine but binary data does not work  I suspect there are some encoding issues which cause the binary data to be corrupted  buildRequest   looks like it is corrupting the binary data when it pushes the data into String format  I don t think this is right   you should treat the request as a byte array  not a String  I think the MIME or HTTP RFCs might have more info on how binary data is supposed to be packaged within an HTTP request    ',0
'Empty content inserted into Border   throws ugly exceptions    This can be easily reproduced wirth wicket examples template templating using border Please open  org apache wicket examples template border Page ant cut ALL the contents inside span  wicket id  border It should look like this   lt span wicket id  border  gt  lt  span gt After this  the page renders nicely But if you change it to look like this   lt span wicket id  border    gt there are tons of exceptions that do not say anything useful I have spent   full day fighting with this before I found the reason in my little app    ',0
'Session id encoding problem in cookie less mode    If I disable session cookies  the URL encoding does not work  The problem appears in displaying  page expired  when I click through  wicket exmples    I discovered that HttpServletResponse encodeUrl   called by WebRequestCodingStrategy encode   does not encode the session id  if it is called with a relative URL like   wicket interface    inputForm IFormSubmitListener     i e   starting with        ',0
'No scrolling behaviour of source code viewer in IE      The source code viewer does not display scroll bars in IE      ',0
'Ajax refresh fails when a fragment is included in the target    Attached there is a package to drop into a quickstart project  If contains a panel that is a fragment provider and which also includes an ajax link to refresh the fragment contents  The main page just shows this panel and the provided fragment  Following the link raises the following exception WicketMessage  Unable to find the markup for the component  That may be due to transparent containers or components implementing IComponentResolver       Component id   fragmentContent  page   web fragment Consumer  path     container fragment fragmentContent Label  isVisible   true  isVersioned   true     Root cause org apache wicket WicketRuntimeException  Unable to find the markup for the component  That may be due to transparent containers or components implementing IComponentResolver       Component id   fragmentContent  page   web fragment Consumer  path     container fragment fragmentContent Label  isVisible   true  isVersioned   true     at org apache wicket MarkupFragmentFinder find MarkupFragmentFinder java     at org apache wicket Component locateMarkupStream Component java         ',0
'AjaxFormChoiceComponentUpdatingBehavior not working    I think this is because of its own component field that is hiding that of AbstractAjaxBehavior  Try to run the attached example and you will get WicketMessage  Exception in rendering component   MarkupContainer      Component id    header   page   com livra web user RegistrationPage  path       header  HtmlHeaderContainer  isVisible   true  isVersioned   true      Root cause java lang NullPointerExceptionat org apache wicket ajax form AjaxFormChoiceComponentUpdatingBehavior renderHead AjaxFormChoiceComponentUpdatingBehavior java    at org apache wicket Component renderHead Component java      at org apache wicket markup html internal HtmlHeaderContainer   component HtmlHeaderContainer java     at org apache wicket MarkupContainer visitChildren MarkupContainer java     at org apache wicket MarkupContainer visitChildren MarkupContainer java     at org apache wicket MarkupContainer visitChildren MarkupContainer java        ',0
'More problems with ajax and transparent containers    Attached is my attempt to get a list that is ajax refreshed just at the tail  It s implemented as a sort of linked list  There are two versions   list  implements each node as a Panel  having contents  a number  and a next container which is made visible and ajax refreshed when one new element is added to the list   list   does the same but using a Fragment instead of a Panel  You guessed  panels works just fine  but for the fragments version I get the usual transparent containers exception when trying to append an element WicketMessage  Unable to find the markup for the component  That may be due to transparent containers or components implementing IComponentResolver   MarkupContainer      Component id   nextContainer  page   web list  ListPage  path     first nextContainer WebMarkupContainer  isVisible   true  isVersioned   true      Root cause org apache wicket WicketRuntimeException  Unable to find the markup for the component  That may be due to transparent containers or components implementing IComponentResolver   MarkupContainer      Component id   nextContainer  page   web list  ListPage  path     first nextContainer WebMarkupContainer  isVisible   true  isVersioned   true      at org apache wicket MarkupFragmentFinder find MarkupFragmentFinder java     at org apache wicket Component locateMarkupStream Component java      at org apache wicket Component renderComponent Component java      at org apache wicket ajax AjaxRequestTarget respondComponent AjaxRequestTarget java     at org apache wicket ajax AjaxRequestTarget respondComponents AjaxRequestTarget java     at org apache wicket ajax AjaxRequestTarget respond AjaxRequestTarget java     at org apache wicket request AbstractRequestCycleProcessor respond AbstractRequestCycleProcessor java     at org apache wicket RequestCycle processEventsAndRespond RequestCycle java         ',0
'Javadocs for AbstractDefaultAjaxBehaviorPrecondition getSuccessScript   and  getPreconditionScript   are swapped    Precondition and success description are swapped       return javascript that will run when the ajax call finishes successfully    protected CharSequence getPreconditionScript     return null           return an optional javacript expression that determines whether the request   will actually execute  in form of return XXX     protected CharSequence getSuccessScript     return null      ',0
'DateField s  DateTimeField s factory methods should pass in ids    A very stupid mistake  but factory method protected DateTextField newDateTextField PropertyModel dateFieldModel should of course pass in the id that the child component should use protected DateTextField newDateTextField String id  PropertyModel dateFieldModel    ',0
'NumberFormatException with UrlCompressingWebRequestProcessor in WicketTester    In my Application I use UrlCompressingWebRequestProcessor  Now I have a JUnit test case with WicketTester and that Application like this tester startPage new ITestPageSource     public Page getTestPage     PageParameters params   new PageParameters    params add       param    return new MyPage params       I get an Exception java lang NumberFormatException  For input string   testPage  at java lang NumberFormatException forInputString NumberFormatException java     at java lang Integer parseInt Integer java      at java lang Integer parseInt Integer java      at org apache wicket protocol http request urlcompressing UrlCompressor getComponentAndInterfaceForUID UrlCompressor java      at org apache wicket protocol http request urlcompressing UrlCompressingWebRequestProcessor resolveListenerInterfaceTarget UrlCompressingWebRequestProcessor java     at org apache wicket request AbstractRequestCycleProcessor resolveRenderedPage AbstractRequestCycleProcessor java      at org apache wicket protocol http WebRequestCycleProcessor resolve WebRequestCycleProcessor java      at org apache wicket RequestCycle step RequestCycle java       at org apache wicket RequestCycle steps RequestCycle java       at org apache wicket RequestCycle request RequestCycle java      at org apache wicket protocol http MockWebApplication processRequestCycle MockWebApplication java      at org apache wicket protocol http MockWebApplication processRequestCycle MockWebApplication java      at org apache wicket util tester BaseWicketTester executeListener BaseWicketTester java      at org apache wicket util tester BaseWicketTester startPage BaseWicketTester java     I could work around this by using WebRequestCycleProcessor for my testing application    ',0
'HttpServletResponse encodeRedirectURL   missing in WicketFilter    In class org apache wicket protocol http WicketFilter in method doGet a redirect URL is not encoded with HttpServletResponse encodeRedirectUrl           Special case for home page   we redirect to add a trailing slash  if  relativePath length         amp  amp   Strings stripJSessionId servletRequest getRequestURI    endsWith         final String redirectUrl   servletRequest getRequestURI                  gt  servletResponse sendRedirect redirectUrl   return   From Wicket s perspective this seems to be not necessary here to support cookie less mode  But notice that an application may depend on a session outside the wicket scope e g  by including a ServletFilter in front of WicketFilter  which handles data in session scope    ',0
'Markup hirarchy gets messed up when value of  attribute  background  is a relative path      svn diff  r HEADIndex  src main java org apache wicket quickstart Index java                                                                           src main java org apache wicket quickstart Index java  Revision            src main java org apache wicket quickstart Index java  Arbeitskopie                   package org apache wicket quickstart  import org apache wicket PageParameters  import org apache wicket markup html basic Label      Basic bookmarkable index page                      public Index final PageParameters parameters     this add new Label  myname    Whishing that this is not a bug         Index  src main java org apache wicket quickstart Index html                                                                       src main java org apache wicket quickstart Index html  Revision            src main java org apache wicket quickstart Index html  Arbeitskopie                  lt body gt   lt h  gt QuickStart lt  h  gt   lt p gt This is your first Wicket application  lt  p gt    lt span background  images bg jpg  gt    lt p wicket id  myname  gt Hello lt  p gt    lt  span gt   lt  body gt   lt  html gt    ',0
'Typo in org apache wicket markup html tree res tree js causes AJAX tree node addition failures    There is a typo in the tree javascript which can sometimes cause node addition failures  Here is the patch Index  tree js                                                                           tree js  revision            tree js  working copy                   Wicket Tree createElement   function elementId  afterId    var existing   Wicket   elementId   if  typeof existing      undefined   amp  amp  exiting    null     if  typeof existing      undefined   amp  amp  existing    null    Wicket Tree askForReload        ',0
'InlineFrame with null PageMap raises exception    This constructor public InlineFrame final String id  final Page page    this id  null  new IPageLink  is calling this other public InlineFrame final String id  final IPageMap pageMap  IPageLink pageLink    super id   this pageMapName   pageMap getName   which of course raises a null pointer exception at  pageMap getName       ',0
'Unable to find InlineFrames when inside ListViews    There is a simple example attached  Even if the list is reusing items  and even with a RefreshingView with reuseifmodelequal strategy  the problem persists    ',0
'If a form includes a DataTable with AjaxEditableLabels and the form should be refresh an exception occurs when a user switches between a changed label to another    A normal Form includes a DataTable which includes some AjaxEditableLabels If the user changes the contens of a label and the label has an effect of the whole DataTable the complete from has to be refreshed  But if the user switches between one label to another  an exception occurs UseCase click on label and change the valueto leave the label click another labe in the DataTabel   gt  an exception should occur   ',0
'WicketServlet no longer sets application on current thread    The last changes made to WicketFilter  move Application set webApplication  from doGet   to doFilter    have a side effect  if working with WicketServlet  due to OSGI   the application is no longer set on the current thread  because it was moved to doFilter   Possible fixes  move Application set   in WicketFilter back to doGet    at the start if that s early enough expose the webApplication property  and add an extra Application set   in the doGet   of WicketServlet   ',0
'There is no way to specify what exceptions to log in RequestCycle    RequestCycle  line      logs all exceptions except for PageExpiredException  This is not a wanted behavior for us  for example  it also logs AuthorizationException which is not a error  So we need some way to specify which exceptions should be treated as errors and which ones are just need to be handled by RequestCycleProcessor respond RuntimeException  RequestCycle  Maybe there is some way to globally catch application exceptions other than writing a custom RequestCycleProcessor  If so then tell me please The possible solution is to move exception logging to RequestCycleProcessor respond RuntimeException  RequestCycle  because it can be overriden    ',0
'onBeforeRender not called on ModalWindow contents    ModalWindow onBeforeRender contains the following code  super onBeforeRender    getContent   setOutputMarkupId true   getContent   setVisible shown  This has the consequence that the content of the modal windows is still invisible when its onBeforeRender   method is called  The default implementation of onBeforeRender delegates to the window s children beforeRender   method  However  the contents beforeRender   method first checks if the component is visible  which is not the case  so the onBeforeRender   call is not propagated down the component tree  This is a problem if the content of the modal window is something like a table  which populates itself in the onBeforeRender call    ',0
'Tree not  redrawn  when resetting root node    I have a tree that I reset the root node when a user selects on another component  Component A   However  the tree is not  redrawn  until I click on the tree  the previous tree contents are shown  Have called Tree invalidateAll   andDefaultTreeModel nodeStructureChanged tnode  DefaultTreeModel nodeChanged  tnode  DefaultTreeModel reload     ',0
'inconsistent state after setting AjaxDebugModeEnabled to true in an AjaxRequest    when the application debugsetting AjaxDebugModeEnabled is changed from false to true in an AjaxRequest  e g  via JMX   the following two statements in AbstractDefaultAjaxBehavior renderHead are executed response renderJavascript  wicketAjaxDebugEnable true     wicket ajax debug enable   response renderJavascriptReference JAVASCRIPT DEBUG  as soon as the client recieves the response  the first javascript statement is executed and code in wicket ajax js  thinks  that ajax debug is enabled well it is  but wicket ajax debug js has not arrived  or at least has not been processed  yet  and thus Wicket Log info   and Wicket Log error   will fail  because these methods access an object which is defined in wicket ajax debug js This problem seems to be solved by changing the order of the statements in AbstractDefaultAjaxBehavior renderHead  so that the ResourceReference JAVASCRIPT DEBUG is rendered before wicketAjaxDebugEnable is set to true    ',0
'embedded jetty configuration stops working on beta     When using beta  with embedded configuration  which means there is no web xml  but wicket servlet instance is injected in jetty server context  During the startup application generates NPE in  DiskPageStore java      which means that wicket servlet cannot retrieve temp dir    Adding the following line before string the application resolves the question serverContext setAttribute  javax servlet context tempdir   new File       I am not sure if this is just treating effect and not the cause which can be related to recent WicketFilter WicketServlet  thread  questions  Attached simple hello world application reproduce this      ',0
'BaseWicketTester support for SubmitLink    When the SubmitLink is used instead of the submit for forms  BaseWicketTester does not run through the onSubmit   code of the link I have stepped through the debug of the test that s actually not getting called  All my validators on the text field are getting called as expected and in fact the form works as expected when deployed so I m thinking that it might be a WicketTester issue or the more likely scenario that I m doing something wrong Things I ve tried  debugging as mentioned  but this just shows me it s not getting called trying to call the link directly but I just get the below exception which I m not really surpised about       ',0
'WebRequestCodingStrategy is not synchronized    The WebRequestCodingStrategy class uses a TreeMap to store mounted pages however there is no synchronization done  This will cause problems if pages are being mounted unmounted by one thread while web requests are being served from a different one  It could also cause problems if two threads try to mount unmount pages at the same time I ll include a patch to fix this as well as a new version of the java file that you can use if you wantKeep up the good work   ',0
'Default button does not provide button name    When the default button is set in a form  the name property should be rendered too  so that the right button is executed rather than just the form s onsubmit method    ',0
'FilteredAbstractColumn unary constructor expects Model instead of IModel    We have this now public FilteredAbstractColumn Model displayModel    super displayModel    Here s the super constructor it delegates to public AbstractColumn IModel displayModel    this displayModel  null    So I really don t see why the FilteredAbstractColumn would need Model descendants specifically    ',0
'Static Pages    Passing URI to a Wicket page        Error    Broken url   ',0
'StringIndexOutOfBoundsException in ServletWebRequest getRelativePathPrefixToWicketHandler    Request attribute  javax servlet forward servlet path  may be equals to empty string See patch      ',0
' PATCH  Javascript error in IE  when selecting a date    When selecting a date in IE  I get a javascript error on line     in wicket date js  In this line there is the following check if  typeof field onchange      undefined    field onchange   in IE  this gives a warning due to field onchange being null  which is user defined instead of undefined   Changing the check as follows solves this problem for me if  typeof field onchange      undefined   amp  amp  field onchange    null  field onchange      ',0
'Text not visible in Wicket Ajax Debug window    The Wicket Ajax Debug  WAD  window has a background color set to white but the font color is not set  in wicket ajax debug js    it uses the base page defaults  So when I have in css for my page setting like this  body color  Color value is invalid  the text in WAD is not visible Suggested solution  maybe add somewhere in wicket ajax debug js setting   color  black     ',0
'setEnabled   does not work on YUI DateField    Calling setEnabled false  on a YUI DateField component doesn t seem to have any effect  The date field remains editable and the changes get propagated to the underlying model on submit    ',0
'FeedbackMessages don t get cleaned up in an AJAX request when renderstrategy is REDIRECT TO RENDER    the following check in Session cleanupFeedbackMessages always fails for AjaxRequests when the renderstrategy REDIRECT TO RENDER is used this leads to FeedbackMessages not being removed from the session if  Application get   getRequestCycleSettings   getRenderStrategy      IRequestCycleSettings REDIRECT TO RENDER      RequestCycle get   isRedirect    RequestCycle get   isRedirect   in case of a WebRequestCycle returns true for Ajax requests fix mark Session cleanupFeedbackMessages as abstract and implement it in WebSession with an additional check       WebRequest RequestCycle get   getResponse  isAjax      ',0
'StyleSheetReference doesn t take style locale into account    StyleSheetReference  in essence PackagedResourceReference  doesn t take the style and locale into account as is common for resource loaders Changing PackagedResourceReference line     from ResourceReference ref   new ResourceReference referer  f  to ResourceReference ref   new ResourceReference referer  f  getLocale    getStyle    fixes this issue   ',0
'DateTextField setEnabled   is not propagated to attached DatePicker    DatePicker stays enabled even if the DateTextField it is attached to is disabled It is even able to change the DateTextField s shown value Instead the DatePicker should be disabled to  or maybe not shown at all Attached is a Quickstart patch showing the effect    ',0
'Problem closing a ModalWindow when used through an IFrame    I m doing some POC testing to find out how a wicket application could be used through an IFrame and noticed that closing of a ModalWindow fails My setup Application A   a dummy html page that has an IFrame the contents of the IFrame is requested from Application B lt iframe src  http   localhost      mywicketapp app   width        height       gt  lt  iframe gt Application B  a Wicket application that uses a ModalWindow deployed to tomcat  http   localhost      mywicketapp Problem The ModalWindow is not closed when OK   or Cancel   button is clicked when Application B is used throug IFrame of Application A OK button performs the actual action  in my case deletes an item from a list  but is not closed after the execution of the action Closing of the ModalWindow works normally when Application B is not used through an IFrame Reproducing the problem You can test this by creating a html page with this source  lt html gt  lt body gt  lt iframe src  http   www wicket library com wicket examples ajax modal window    width        height        gt  lt  iframe gt  lt  body gt  lt  html gt And then open  Show modal dialog with panel  and try to close the dialog    ',0
'AjaxEditableLabel  defaultNullLabel   should really be a defaultNullorEmptyLabel      defaultNullLabel   only inserts       when the model is NULL  not when the model contains an empty String So right now it s impossible to get empty Strings edited with this component    ',0
'XHTML validation failure for DatePicker    org apache wicket extensions yui calendar DatePicker code generates an img tag that is missing the alt tag  which breaks XHTML validation    ',0
'AbstractTree utilizes Collections EMPTY LIST for a node s children container which causes errors when adding children    AbstractTree utilizes Collections EMPTY LIST for a node s children container  This assumes that this node will never have children during its lifecycle as EMPTY LIST will always be empty since it does not support add int  Object To fix  change item   Collections EMPTY LIST with item   new ArrayList    private final void buildItemChildren TreeItem item    List items     if the node is expanded if  isNodeExpanded  TreeNode item getModelObject          build the items for children of the items  treenode  items   buildTreeItems nodeChildren  TreeNode item getModelObject     item getLevel           else      it s not expanded  just set children to an empty list   items   Collections EMPTY LIST  items   new ArrayList       item setChildren items       ',0
'AjaxEditableLabel and AjaxMultiLineEditableLabel do not honour enabled status    On AjaxEditableLabel and subclasses  setEnabled false  has no effect It should prevent the component from being editable  i e  it should behave like a normal Label     ',0
'Ajax Memory Leak in IE    Memory Leak in IE   IE    when using a DataView with AjaxPagingNavigator and each entry of the DataView table contains an AjaxLink  Memory increases by more than    KB when displaying     items per page  AjaxDebugMode is disabled  Configuration is set to deployment  Version       is working fine    ',1
'NPE in IndexedHybridUrlCodingStrategy during encoding    java lang NullPointerException at org apache wicket request target coding IndexedHybridUrlCodingStrategy appendParameters IndexedHybridUrlCodingStrategy java     at org apache wicket request target coding HybridUrlCodingStrategy encode HybridUrlCodingStrategy java      at org apache wicket protocol http request WebRequestCodingStrategy pathForTarget WebRequestCodingStrategy java      at org apache wicket protocol http request WebRequestCodingStrategy encode WebRequestCodingStrategy java      at org apache wicket RequestCycle encodeUrlFor RequestCycle java      at org apache wicket RequestCycle urlFor RequestCycle java      at org apache wicket Component urlFor Component java       at org apache wicket protocol http WebRequestCycle redirectTo WebRequestCycle java      at org apache wicket request target component PageRequestTarget respond PageRequestTarget java     at org apache wicket request AbstractRequestCycleProcessor respond AbstractRequestCycleProcessor java      at org apache wicket RequestCycle processEventsAndRespond RequestCycle java       at org apache wicket RequestCycle step RequestCycle java       at org apache wicket RequestCycle steps RequestCycle java       at org apache wicket RequestCycle request RequestCycle java      at org apache wicket protocol http WicketFilter doGet WicketFilter java      at org apache wicket protocol http WicketFilter doFilter WicketFilter java        ',0
'false positive or wrong unit tests unit tests when ajax is involved    MockWebApplication setupRequestAndResponse always sets up a non ajax requestcycle this method is also used to setup the requestcycle for ajax related functionality  eg  BaseWicketTester clickLink  the consequence are a  the markup for expected ajax responses contains wicket tags and wicket attributes  although these are never rendered in ajax responses b  some unit tests  eg  AjaxTimerBehaviorTest testAddToAjaxUpdate  ComponentBorderTest testHideableBorder  succeed  when the same code in non unit test environment doesn t work  because there is no ajax request during testing  while there is one during normal execution    ',0
'Inside a html tag wicket message s attribute cannot contain colon   in it  it uses the first colon and tokenizes the rest to be the resource identifier  Need some way to use colon in the attribute name     I am trying to use wicket message inside a tag in the following format wicket message  attribute resource identifier The attribute resource identifier passed as a value to the wicket message uses the colon to tokenize the attribute and the resource identifier  Now  The attribute which I am using is a custom attribute  ric title   without quotes  which also has a colon in it  Currently  I have a tag with a custom attribute ric title and the resource identifier for it is page title  lt div wicket message  ric title page title    gt   the problem is wicket takes the first colon which is part of my attribute and takes the rest as the resource identifier and looks for it in the property file and then throws an error How can I tell wicket to ignore the colon in the attribute name     and I ve tried using slash in front of the colon and it didn t work  I ve tried using ascii html entity encoding for colon  which is       and didn t work So  please make a way to use colon in the attribute Something like the following would be nice  lt div wicket message    ric title    page title  gt   which allows the user to set the attribute name in the markup within single quoutes  I am hoping to see this fixed Thanks   ',0
'Temporary files not deleting when multipart upload fails with IO error    I just want to delete temporary files when upload fails  user cancelled or IO error occured   this is really important when uploading files about    Mb  and this bug makes security hole  anyone can eating my server s disk space by posting incomplete large files  I can t find simple workaround  and I think that fix by developers will more easy For example you can handle IO error in class org apache wicket util upload FileUploadBase  method parseRequest  when IO error occured  just delete all created temporary files  and only after deleting files throw your FileUploadException I hope you will fix it soon Thanks    ',0
'java lang IllegalAccessError when changing AjaxEditableLabel    When changing AjaxEditableLabel system throws java lang IllegalAccessError  tried to access methodorg apache wicket Component onModelChanging  V from classorg apache wicket extensions ajax markup html AjaxEditableLabel   atorg apache wicket extensions ajax markup html AjaxEditableLabel   onModelChanging AjaxEditableLabel java      at org apache wicket Component modelChanging Component java       at org apache wicket Component setModelObject Component java       at org apache wicket markup html form FormComponent updateModel FormComponent java      at org apache wicket markup html form FormComponent processInput FormComponent java                   The probem is in methd  protected FormComponent newEditor MarkupContainer parent  String componentId  IModel model    TextField editor   new TextField componentId  model    private static final long serialVersionUID    L  protected void onModelChanged     super onModelChanged    AjaxEditableLabel this onModelChanged      here is a bug   protected void onModelChanging     super onModelChanging    AjaxEditableLabel this onModelChanging      here is a bug      editor setOutputMarkupId true   editor setVisible false   editor add new EditorAjaxBehavior     return editor    AjaxEditableLabel this XXXXXX is not visible Artur   ',0
'assertComponentOnAjaxResponse does not work with WicketTester clickLink    assertComponentOnAjaxResponse does not work with clickLink  Workaround are to call wickettester  executeAjaxEvent ajaxLink  onclick    instead Reason why this fails has something todo with that clickLink creates a servlet response which are empty hence this will always fail     Get the AJAX response String ajaxResponse   getServletResponse   getDocument       Test that the previous response was actually a AJAX response failMessage    The Previous response was not an AJAX response       You need to execute an AJAX event  using clickLink  before using this assert   boolean isAjaxResponse   ajaxResponse startsWith   lt  xml version         encoding   UTF      gt  lt ajax response gt    proposed fix are to rewrite wicketTester clicklink string path boolean ajax  to call executeAjaxEvent instead if possible    ',0
'NPE in ListMultipleChoice updateModel      I noticed a NullPointerException when I cleared a Form with a ListMultipleChoice to its original state In updateModel   following statement causes a NPE when something was selected in the multiple select but in the original state nothing was selected selectedValues addAll  Collection getConvertedInput    getConvertedInput   is null  so ArrayList addAll   operates on the null value and throws the NPE    ',0
'Script in RenderHead method of AjaxFormChoiceComponentUpdatingBehavior needs fixing    The script in the renderHead method of AjaxFormChoiceComponentUpdatingBehavior assumes that the Radio Component will be the immediate child of the RadioGroup Component  But in some or in most of the cases that is not correct That is not the case even in the Wicket Examples  in examples the hierarchy is RadioGroup ListView Radio I have maodied the rendered script to work for RadioGroup ListView Radio hierarchy  And the Patch is attached RegardsDipu   ',0
'WicketTester Doesn t Support setDefaultFormProcessing false     I was trying to use the WicketTester to click the button for an AjaxFallbackButton that has setDefaultFormProcessing false   So I wanted to execute the onclick for the component  like this tester executeAjaxEvent  meetingForm inputForm rootViewPanel addOrganization    onclick   What seems to happen is that the pages tries to update all the form fields and perform validation  This is incorrect in the context for the setDefaultFormProcessing false  behavior I was looking at the source for BaseWicketTester and noticed that in executeAjaxEvent    it always tries to submit the form if the behavior is a AjaxFormSubmitBehavior  This wouldn t be correct in the case of when you set setDefaultFormProcessing false  on the button  I think it needs to check for setDefaultFormProcessing at that point    ',0
'AbstractTextComponent requires itself to be rendered before conversion happens    The bug is reproduced as follows    Use StatelessForm    Use compound model  eg CompoundPropertyModel  In this case  form components are not initially aware of their model types    Use any text component inside  eg TextFieldWhat happens    In StatelessForm  form processing occurs BEFORE components were actually rendered    BUT AbstractTextComponent guesses its model type ONLY in onBeforeRender      onBeforeRender   never gets called  so text component doesn t know its actual type and cannot convert properly    Everything crashes because of incorrect type  validators and form submission is working wrong  Obviously  this processing sequence needs to be fixed  eg retrieve model type early or check for stateless forms explicitly     ',1
'DateTimeField does not correct the timezone properly    The DateTimeField has a DateTextField which uses a styledateconverter with timezone correction set to true which is not needed since the DateTimeField accounts for the TimeZone correction  Another problem is that the DateTimeField only sets the timezone of the date  from local  gt client   causing the date to be corrected to the local time  This should instead cause the local time to reflect that of the clients time    ',0
'Javadoc error in QueryStringUrlCodingStrategy    The javadoc uses this as an example mount new QueryStringRequestTargetUrlCodingStrategy   admin productmanagement   admin ProductManagement class   This does not work  It should say this instead mount new QueryStringUrlCodingStrategy   admin productmanagement   admin ProductManagement class      ',0
'AbstractPageableView has transient cachedItemCount  but doesn t set it to    on deserialization     AbstractPageableView declares private transient int cachedItemCount When this is deserialized  cachedItemCount gets set to    This means that the method isItemCountCached   will return true on a deserialized AbstractPageableView  This  in turn  causes getCurrentPage   to return    even when the user is not navigating the first page For me  this is causing huge problems with the paging navigator My current workaround is this is to add this method to my DataView implementation private Object readResolve   throws ObjectStreamException   final Class lt   gt  myClass   getClass    final Class lt   gt  dataView   myClass getSuperclass    final Class lt   gt  dataViewBase   dataView getSuperclass    final Class lt   gt  abstractPagableView   dataViewBase getSuperclass    try   final Field field  field   abstractPagableView getDeclaredField  cachedItemCount    field setAccessible true   field setInt this         catch  Exception e    throw new RuntimeException e     return this  Obviously it would be better if the AbstractPagingView could take care of this itself    ',0
'AjaxFormChoiceComponentUpdatingBehavior just updates the group  grandchildren     Up to        there was a bug in that AjaxFormChoiceComponentUpdatingBehavior updated just the group s direct children  Now it generates the header script quoted below  that iterates over the direct children and then over the children of these  triggering the event for the input grandchildren only  So the situation is even worse  I think that attachChoiceHandlers should descend recursively and search for input elements along all the group descendants  not just one arbitrarily chosen level function attachChoiceHandlers markupid  callbackscript    var choiceElementGroup   document getElementById markupid   for  var x      x  lt  choiceElementGroup childNodes length  x       var choiceElementList   choiceElementGroup childNodes     x       for  var y      y  lt  choiceElementList childNodes length  y       if  choiceElementList childNodes     y       amp  amp  choiceElementList childNodes     y      tagName    var tag   choiceElementList childNodes     y      tagName toLowerCase    if  tag     input     Wicket Event add choiceElementList childNodes y   click   callbackscript              ',1
'HybridUrlCodingStrategy and StatelessForm   or StatelessLink   results in invalid parameter encoding    I put a header component on one of my pages which contains a statelessform   or stateless link     I mounted the page with a HybridUrlCodingStrategy   When you request the page like thishttp   localhost      mountpath param  param value  stateless form attaches another parameter which shows the forms IFormListener target  The new url is like this  http   localhost      mountpath param  param value wicket interface   A   Aheader  AloggedOutView  AloginForm  A  AIFormSubmitListener  A  A   I haven t covered all the source code for now but i think the form changes the page parameters object so i think HybridUrlCodingStrategy must clone initial page parameters before putting it to page metadata  But not sure that this will cause any other problems   ',0
'AutoCompleteTextField s  scrollable  suggestion list disappeared when a mouse pointing to the scroll bar in IE       if we define the following CCS to fix the height of the suggestion list  the list will become to be scrollable when it is overflow  for example  there are     suggestions should be shown div wicket aa   height     px  overflow  auto  if a user moves his mouse to the scroll bar  the suggestion list will disappear immediately in IE    but in FF  The reason is that the onblur event of the text field is triggered in IE but in FF  At the moment the mouse pointing to the scroll bar  Wicket AutoComplete mouseactive is    therefore  hideAutoComplete   was called  That s why the suggestion list disappeared in IE       ',0
'Localizer doesn t honor style when caching property lookups    In Wicket        we created some properties files like Foo propertiesFoo style  propertiesFoo style  propertiesand used StringResourceModel to look up property values  This worked correctly as in        Localizer didn t cache the property lookups and respected the style  However  in      Localizer now caches the lookups but doesn t respect the style when creating the cache key  though it does append the locale to the end of the cache key  The side effects of this are that whatever style is in use when a property is first looked up  that property value will be returned for all subsequent lookups regardless of style    ',0
'Having instance variables referencing pages causes memory leaks  StackOverflowErrors and ClassCastExceptions    Having references  instance variables   in objects reachable from the component hierarchy  to pages other than the  current  page  causes memory leaks StackOverflowErrors and sometimes ClassCastExceptions This seems to be due to the special serialization code implemented in Page  even if I haven t been able to pinpoint exactly where the problem lies  Standard serialization handles cycles between objects if the deserialization or serialization is done using the same ObjectInputStream or ObjectOutputStream  but here each Page is being deserialized in different ObjectInputStreams Looking at the stack traces from the StackOverflowErrors it s easy to see that it s the deserialization that goes over the same pages over and over again  although it s new instances  The ClassCastExceptions where because the Page numericId was zero when serializing them in Page writeObject  causing the wrong Page to be deserialized in readObject  By looking at the code I can t really understand how the numericId can become zero  except for in the first page  The only thing I can think of is if it s being serialized by another thread before it s initialized Our application is  AJAX only  with a main page built up of quite a lot of components in a quite deep hierarchy  When discovering this problem  there was one panel with seven different AjaxLinks that opened ModalWindows  where some of the ModalWindows had fields referencing the contained iframe pages  Clicking around on the links soon made the memory and CPU consumption rise and after a while one of the mentioned errors occurred Even if I thought that it would  neither turning off page versioning nor setting ISessionSettings setPageIdUniquePerSession true  seemed to have any effect After redesigning the code a bit  removing all the field references to Pages  it seems to work fine again  I realize that having such references isn t a very good design even without this problem  Perhaps it shouldn t be supported at all  It might be  though  that some users have done this and don t know it s a problem  yet  Although in the above case it was only AJAX  I ve made an example application that also shows that the same problems occurs using normal links  and pages with references between them  I ll attach that example in a couple of minutes    ',1
'MarkupCache can  leak  memory    Currently markup cache uses a cache without any capacity upper bound    normally this would be ok  holding markup of an entire application doesnt require THAT much memory  However  suppose we have Index page with markup Index html  the page is requested with local en us and we cache contents of index html in the cache  now Index is requested with locale en gb and we cache it AGAIN  Now we have two entries in the cache caching the exact same thing  the more locales users request  we pull the locale from the user s browser  the more copies of the same thing we cache Thomas Singer reported his application running out of memory  attached memory snapshot contained a MarkupCache instance of over   MB retained size  the internal map had allocated      keys   He has an application with about    pages  and they only support one locale  When I browsed the snapshot I noticed a lot of different locales in the markup cache keys    An ideal solution would be to have two caches  One for      container class locale style variation      gt      resource name      lookup  and the other for      resource name      gt      resource contents      lookup A suboptimal solution would be to place an upper bound on the cache  See attached patch which contains a      item lru cache  if looks ok we can roll it in as a solution for       branch   since it doesnt require any interfaces breakages    ',1
'Input field with autocomplete behavior does not submit the form via enter key in some cases    This is related to WICKET   but wasn t fixed in that bug When you enter nothing in an input field with autocomplete and press enter  type something that doesn t give results or press escape when the autocomplete box has appeared  you have to press enter twice to submit the form The solution is quite simple  remove line     from wicket autocomplete js hidingAutocomplete   This variable was introduced to keep enter from submitting  but by setting it here always to    enter is blocked in the above cases    ',0
'AbstractCalendar use the wrong resources path    I extends the AbstractCalendar  and want to show the calendar directly  But I got an  YAHOO is not defined  javascript error  because the javascripts  url it generated are not correct I find that the contributeDependencies methods in AbstractCalendar don t add the resources correctly  For example  the add HeaderContributor forJavaScript YuiLib class   yahoo js    should be add HeaderContributor forJavaScript YuiLib class   yahoo yahoo js    and add HeaderContributor forJavaScript YuiLib class   event js     should beadd HeaderContributor forJavaScript YuiLib class   event event js    and other resources    ',0
'MiniMap IndexOutOfBoundsException when empty    findKey   assumes that there is at least one entry in the mapThis checks first Index   Users John Development wicket trunk jdk     wicket src main java org apache wicket util collections MiniMap java                                                                            Users John Development wicket trunk jdk     wicket src main java org apache wicket util collections MiniMap java  revision             Users John Development wicket trunk jdk     wicket src main java org apache wicket util collections MiniMap java  working copy                          public Object get final Object key       Search for key final int index   findKey key    if  index         if  size  gt          Return value return values     index           Search for key  final int index   findKey key     if  index               Return value  return values index           Failed to find key   ',0
' charset UTF    is appended to Content Type of  DynamicWebResources    After upgrading from wicket       to       we now have a big problem when opening PDF files inside the IE browser window  Instead the PDF file is now loaded as a separate window  leaving the Browser window empty I traced the problem down wicket always appending   charset UTF    to the Content Type  and this can be viewed by using a http debugger Wicket        Works Content Type  application pdf Wicket        PDF opened outside the browser Content Type  application pdf  charset UTF   The   charset UTF    is appended in ResourceStreamRequestTarget  and I can t see a way to override it  Please make it possible to have the Content Type as set by the DynamicWebResource   ',0
'bug  setObject null  called for excplicitly invisible fields in a non visible enclosure    It seems that the value for fields that are made invisible because a surrounding enclosure is actually lost on submit of the form Consider the following code public class HomePage extends WebPage   private MyObject myObject  public HomePage final PageParameters parameters    myObject   new MyObject    myObject setField   field Value    myObject setField   field Value    Form f   new Form  f   new CompoundPropertyModel myObject    add f   f add new TextField  field    setVisible false    f add new TextField  field      f add new Button  submit      Override public void onSubmit     System out println  Field   value should be  field Value  but is       myObject getField              class MyObject implements Serializable   private String field   private String field   public String getField      return field     public void setField  String field     this field    field     public String getField      return field     public void setField  String field     this field    field       With the following markup  lt form wicket id  f  gt   lt wicket enclosure child  field   gt   lt input type  text  wicket id  field    gt   lt input type  text  wicket id  field    gt   lt  wicket enclosure gt   lt input type  submit  wicket id  submit   gt  lt  form gt Field  keeps it s value onSubmit  but the value for field  is lost  and my model object has null in field   If I implicitly call setVisible false  on the TextField for field   the value is kept onSubmit Igor put better like this I guess when the page renders none of the fields are shown  after submit however  myobject getfield    is still  field value  butmyobject getfield    is null   which implies that textfield  is stillprocessed even though it is inside an enclosure that has been hidden    ',0
'AjaxSubmitLink doesn t always find enclosing form properly    If the AjaxSubmitLink constructor that doesn t take in a form is called  it calls the constructor that does take in a form with null for the form  This seems correct  and it passes the form argument into the constructor of the AjaxFormSubmitBehavior as also seems correct  AjaxFormSubmitBehavior has a private getForm   method that  if the form is null  sensibly searches through the component hierarchy to find a form that contains the component  This is also good  The bit that seems wrong is that the overridden onSubmit AjaxRequestTarget  and onError AjaxRequestTarget  methods in AjaxSubmitLink s version of AjaxFormSubmitBehavior call AjaxSubmitLink s onSubmit and onError with the form argument that was originally passed into the constructor  This means that if you originally called the one argument constructor for AjaxSubmitLink  the onSubmit and onError methods will be called with a null form  rather than the actual form that was submitted As far as I can see  an easy fix for this would be to make getForm   in AjaxFormSubmitBehavior protected rather than private  and then to call getForm   in the overridden onSubmit and onError in AjaxSubmitLink s version of AjaxFormSubmitBehavior  That way the AjaxSubmitLink s onSubmit and onError would always be called with the actual form that was submitted    ',0
'Escaping DiskPageStore SessionFolder needed    When sessionId  y bxNcyiScVVV QtVp lg   node  Wicket can t create the temp directory because the name contains invalid character  at least on windows  So a FileNotFoundException is thrown The use case happens when tomcat is configured as  in order to work with apache module mod jk   lt     Define an AJP     Connector on port         gt   lt Connector port        address    jboss bind address   protocol  AJP      emptySessionPath  true  enableLookups  false  redirectPort          gt   lt Engine name  jboss web  defaultHost  localhost  jvmRoute  node   gt My very temp solution  to let things go  is  private File getSessionFolder String sessionId  boolean create    File storeFolder   getStoreFolder    File sessionFolder   new File storeFolder  sessionId replace            if  create  amp  amp  sessionFolder exists      false    mkdirs sessionFolder     return sessionFolder   I think that a global solution is needed to fix the problem    ',0
'FormComponent error ivalidationerror  error needs to show tried resource keys    Please see the following discussion from Wicket forum http   www nabble com Having problems with resource keys in a form which has two panels of the same kind td         html   ',0
'StyleDateConverter does not use the components Locale when formatting     The StyleDateConverter class does not use  withLocale getLocale    in the getFormat   method This means that any  LL  formatted dates do not have the correct translations present when outputting words  eg  month  protected DateTimeFormatter getFormat     DateTimeFormatter dtf   DateTimeFormat forPattern getDatePattern    withPivotYear        return dtf  should beprotected DateTimeFormatter getFormat     DateTimeFormatter dtf   DateTimeFormat forPattern getDatePattern    withLocale getLocale    withPivotYear        return dtf     ',0
'External JAvascript references not included    When using IHeaderResponse to include an external Javascript file  it is not included because of this bug Index   Users John Development wicket trunk jdk     wicket src main java org apache wicket markup html internal HeaderResponse java                                                                            Users John Development wicket trunk jdk     wicket src main java org apache wicket markup html internal HeaderResponse java  revision             Users John Development wicket trunk jdk     wicket src main java org apache wicket markup html internal HeaderResponse java  working copy                       List token    Arrays asList new Object      javascript   url     List token    Arrays asList new Object      javascript   id     if  wasRendered token      false  amp  amp  wasRendered token     if  wasRendered token      false  amp  amp  wasRendered token      false    JavascriptUtils writeJavascriptUrl getResponse    url  id   markRendered token                         if   closed    List token   Arrays  asList new Object      javascript event   target  event  javascript      List token   Arrays asList new Object      javascript event   target  event  javascript     if  wasRendered token     false    renderJavascriptReference WicketEventReference INSTANCE                        renderJavascriptReference WicketEventReference INSTANCE   JavascriptUtils writeJavascript getResponse     Wicket Event add     target            event        function         javascript                      event        function         javascript            markRendered token                             public void close      this closed   true   closed   true          ',0
'AuthenticatedWebApplication uses deprecated constructor of AuthenticatedWebSession    In changing from       to       the AuthenticatedWebSession AuthenticatedWebApplication  Request  method became deprecated  but AuthenticatedWebApplication newSession still searches for this one Simply a matter of changing lines         of AuthenticatedWebApplication java from return webSessionClassRef get   getDeclaredConstructor  AuthenticatedWebApplication class  Request class  newInstance  AuthenticatedWebApplication this  request  to return webSessionClassRef get   getDeclaredConstructor  Request class  newInstance  request     ',0
'WicketTester startPage Class  does not trigger WebRequestCycle onBeginRequest    While using WicketTester to test my WebApplication that is using a custom WebRequestCycle and WebRequestCycleProcessor I noticed that WicketTester does not follow the same RequestCycle as it would do when running in a real live environment resulting in MyWebRequestCycle onBeginRequest not being called Using startPage Page  will call MyWebRequestCycle onBeginRequest but then the IRequestTarget that is resolved from the Request indicates the Request comes from the DummyHomePage testPage link  Can startPage be implemented that it really resembles the real live environment  After some research and testing I came up with this implementation  maybe it can be used public Page startPage Class pageClass    WebRequestCycle requestCycle   super setupRequestAndResponse    requestCycle getRequest   getRequestParameters   setBookmarkablePageClass pageClass getName     super processRequestCycle requestCycle   return super getLastRenderedPage       ',0
'WicketTester clickLink String  only triggers the WebRequestCycle onEndRequest    This issue is somewhat related to WICKET      The WebRequestCycle onBeginRequest is called in a real live environment I created an implementation for WicketTester for clicking AjaxLink s that triggers the onBeginRequest but I can t really asses if it breaks something  Maybe it can be used as example or something class MyWicketTester extends WicketTester   public void clickAjaxLink String linkPath    WebRequestCycle cycle   super setupRequestAndResponse    cycle getRequest   getRequestParameters   setInterfaceName IBehaviorListener class getSimpleName     cycle getRequest   getRequestParameters   setBehaviorId       cycle getRequest   getRequestParameters   setComponentPath getComponentFromLastRenderedPage linkPath  getPath     super processRequestCycle cycle        ',0
'Unable to use properties file when generating XML files    Please refer to this thread  http   www nabble com Unable to use wicket message when generating XML files td         html   ',0
'detach behavior    This was originally posted as a ConcurrentModificationException during detach on the wicket user list  http   markmail org message xnrot hm wvow dq  but later investigations show that there is something else not right Let me begin by restating the original problem A couple of days ago Warren came to me with a problem  If he attacheda behavior to a component which potentially throws aRestartResponseAtInterceptPageException aConcurrentModificationException would bubble all the way into tomcatcode Now you probably are going to say   Then don t do that   but thefact that an exception escapes wicket is imo reason to investigate So i did some digging  The situation is as follows In the renderHead method of an IHeaderContributor a check is performedfor an authenticated user  if none is found a RRAIPE is thrown One of the places that executes renderHead is the onDetach of WebPage Now suppose we have a Page A which has a component decorated with thisheader contributor  the page also contains a Button to log off users The onsubmit for this button is as simple as log user off andsetResponsePage class  This page is usually only accessible if an authenticated user isavailable so everything works fine if that is the case But then the user decides to log off  the onsubmit is triggered andexits normally  the request continues and reaches the point where theRequestCycle is detaching all RequestTargets  at that point there are  targets    for the current page and   set during the onsubmit  During the detach the renderHead method is executed along with thecheck for an authenticated user  Since there isn t one anymore aRRAIPE is thrown  adding a  rd target to the stack of RequestTargets The RRAIPE bubbles up to RequestCycle detach   and is caught andlogged there  Then wicket attempts to detach the next RequestTargetbut since an iterator is used to loop through all targets  theiterator detects the stack has been changed and throws aConcurrentModificationException  Ultimately resulting in a tomcaterror page I tried changing the iterator loop to a regular for int i   i  lt        loop and this seems to fix the problem  even if later on morerequesttargets are added wicket happily executes them and comes upwith the desire page There is one disadvantage i see with this solution  the requesttargetthrowing the RRAIPE is not fully detached  Perhaps the RRAIPE can beswallowed after it has added a RequestTarget and only in the case of adetach phase  That way the rest of the page could be normallydetached Here is where it gets interesting Johan noticed that WebPage detach should not call renderHead during detach In fact the only reason it does so is during development when it does not detect a header element  It then checks if there indeed should not be a header by visiting the behaviors and comparing the output to what it currently has  However as the code comments point out it then does nothing with that information because the code that should handle it does not work yet So the question became why does the page does not have a header element  At first i thought this is because in this case a setResponsePage is done which would suppress any rendering of the current page However this is not the case as renderhead is also called during detach in a normal page render  It does not matter if the markupfile contains a header element or not  As it turns out the presence of a header element is checked by getting a wicket component with id header This always returns null as there is no such child component  There is however a child component with an id like  header     ',1
'nested forms inside a multipart form can t be submitted via ajax    nested forms can t be submitted via ajax if any of the parent forms contain a fileuploadfield  which makes the root form a multipart  fix  skip changing the request to a multipart request in Form handleMultiPart  if it s an ajax request these two types of requests mutually exclude each other anyway    ',0
'StreamCorruptedException PageStore Serialization broken because ObjectOutputStream was not flushed    The Objects objectToByteArray   method incorrectly forgets to flush close the ObjectOutputStream it uses  This can create corrupt object streams    ',0
'Problem with ajax form submission inside model window in IE and Safari       ',0
'BaseWicketTester isComponentOnAjaxResponse   test is too strong    Using       but still present in       source The response i got from the ajax request was   lt  xml version       encoding  UTF     gt  lt ajax response gt  lt header contribution encoding  wicket    gt  lt   CDATA  lt head xmlns wicket  http   wicket apache org  gt  lt script type  text javascript  src  resources org apache wicket markup html WicketEventReference wicket event js  gt  lt  script gt  lt script type  text javascript  src  resources org apache wicket ajax WicketAjaxReference wicket ajax js  gt  lt  script gt  lt script type  text javascript  src  resources org apache wicket ajax AbstractDefaultAjaxBehavior wicket ajax debug js  gt  lt  script gt  lt script type  text javascript  id  wicket ajax debug enable  gt  lt Unable to render embedded object  File         gt  lt   not found  CDATA   gt  lt     wicketAjaxDebugEnable true     gt    gt   lt  script gt  lt script type  text javascript  src  resources org apache wicket extensions ajax markup html autocomplete AutoCompleteBehavior wicket autocomplete js  gt  lt  script gt  lt script type  text javascript  src  resources com amdm ajf wicket component autocomplete ImprovedAutoCompleteBehavior improved autocomplete js  gt  lt  script gt  lt  head gt    gt  lt  header contribution gt  lt component id  ville   encoding  wicket    gt  lt   CDATA  lt input value  TOULOUSE  autocomplete  off  maxlength      type  text  onfocus  this className  focus    size      name  view adresse adresseInner villeFrancaiseDiv ville  onchange  wicketThrottler throttle   th         function     var wcall wicketAjaxPost   wicket interface    updateExpertWizard form view adresse adresseInner villeFrancaiseDiv ville  IBehaviorListener        wicketSerialize Wicket    ville     null null  function    return Wicket    ville       null   bind this        id  ville   onblur  this className  normal     gt  lt script type  text javascript  gt  lt Unable to render embedded object  File         gt  lt   not found  CDATA   gt  lt     new Wicket AutoComplete  ville     wicket interface    updateExpertWizard form view adresse adresseInner villeFrancaiseDiv ville  IActivePageBehaviorListener      amp wicket ignoreIfNotActive true  false      gt    gt   lt  script gt    gt  lt  component gt  lt component id  codePostalBinde   encoding  wicket    gt  lt   CDATA  lt input value         autocomplete  off  maxlength     type  text  onfocus  this className  focus    size     name  view adresse adresseInner villeFrancaiseDiv codePostalBinde  onchange  wicketThrottler throttle   th         function     var wcall wicketAjaxPost   wicket interface    updateExpertWizard form view adresse adresseInner villeFrancaiseDiv codePostalBinde  IBehaviorListener        wicketSerialize Wicket    codePostalBinde     null null  function    return Wicket    codePostalBinde       null   bind this        id  codePostalBinde   onblur  this className  normal     gt  lt script type  text javascript  gt  lt Unable to render embedded object  File         gt  lt   not found  CDATA   gt  lt     new Wicket AutoComplete  codePostalBinde     wicket interface    updateExpertWizard form view adresse adresseInner villeFrancaiseDiv codePostalBinde  IActivePageBehaviorListener      amp wicket ignoreIfNotActive true  false      gt    gt   lt  script gt    gt  lt  component gt  lt  ajax response gt And my test is  tester assertComponentOnAjaxResponse  updateExpertWizard form view adresse adresseInner villeFrancaiseDiv ville   It fails in BaseWicketTester isComponentOnAjaxResponse       Look for that the component is on the response  using the markup id boolean isComponentInAjaxResponse   ajaxResponse matches    s    lt component id       markupId         gt       failMessage    Component wasn t found in the AJAX response  because of the attribut   encoding  wicket     present in the component tag  The regex must be sweeter like  for example     s   lt component id       markupId           gt      or much much better   ',0
'Unusual ClassCastException  SimpleAttributeModifier to IBehaviorListener  processing onError     Build the application from the four class files and one html file below  Run class Start as an application  Go to your browser  to this URL http   localhost      behaviorbug Type some text into the text field  After six characters  it will throw a ClassCastException Source package com bugs behaviorBug import org apache wicket ajax AjaxRequestTarget import org apache wicket ajax form AjaxFormComponentUpdatingBehavior import org apache wicket behavior SimpleAttributeModifier import org apache wicket markup html form TextField import org apache wicket model IModel public class BehaviorBug extends TextField   public BehaviorBug String id  IModel model    super  id  model    init      private int kc      private int cc      private final SimpleAttributeModifier blackBorder   new SimpleAttributeModifier   border color    black     private final SimpleAttributeModifier redBorder   new SimpleAttributeModifier   border color    red     private SimpleAttributeModifier currentBorder   null  private void init     setBorder  this blackBorder    AjaxFormComponentUpdatingBehavior changeWarningBehavior   new AjaxFormComponentUpdatingBehavior   onchange       Override protected void onUpdate AjaxRequestTarget target    System err println   WarningTextField onUpdate onChange     BehaviorBug this cc      reColor            I m trying to do something tricky here  I want it to validate after every    keystroke  so the user can get instant feedback on when the data is good  AjaxFormComponentUpdatingBehavior keyUpWarningBehavior   new AjaxFormComponentUpdatingBehavior   onkeyup       Override protected void onUpdate AjaxRequestTarget target    System err println   WarningTextField onUpdate onKeyUp     BehaviorBug this kc      reColor       Thread dumpStack         The implementation of AjaxFormComponentUpdatingBehavior only calls    onUpdate    when the field is valid  Since it won t update when the field is    invalid  I    can t get my instant feedback unless I call onUpdate   when there s an    error     Since I can t override onEvent    It s final   I override onError to    force    an update even when the field is invalid  This should be safe  since    onError      is only called on invalid data with a null exception  in which case it    does    nothing     This  however  seems to be what causes the bug  I have no idea why this    would cause the bug   Override protected void onError AjaxRequestTarget target  RuntimeException e       Called on validation error with a null e  super onError  target  e       Throws e  if it s not null  Does nothing    otherwise  onUpdate  target         add  changeWarningBehavior    add  keyUpWarningBehavior      private void reColor     if   isValid       setBorder  BehaviorBug this blackBorder      else   setBorder  BehaviorBug this redBorder        private void setBorder SimpleAttributeModifier border    if   this currentBorder    null  amp  amp  this currentBorder    border     remove  this currentBorder      this currentBorder   border  add  this currentBorder      package com bugs behaviorBug import org apache wicket Application import org apache wicket Page import org apache wicket Request import org apache wicket Response import org apache wicket Session import org apache wicket protocol http WebApplication import org apache wicket protocol http WebSession       author Miguel Mu  oz  version  Id     public class BehaviorBugApplication extends WebApplication       Constructor    public BehaviorBugApplication        empty    Override protected void init        empty    Override public Class lt   extends Page gt  getHomePage     return Index class        non Javadoc    see org apache wicket protocol http WebApplication newSession org apache wicket Request  org apache wicket Response      Override public Session newSession Request request  Response response    return new BugSession  this  request      public class BugSession extends WebSession   public BugSession Application application  Request request    super request   setApplication  application        package com bugs behaviorBug import org apache wicket markup html WebPage import org apache wicket markup html form Form import org apache wicket markup html form TextField import org apache wicket model Model import org apache wicket validation IValidator import org apache wicket validation validator StringValidator       author Miguel Mu  oz  version  Id     public class Index extends WebPage           public Index     Form form   new Form  form    TextField textField   new BehaviorBug  testfield   new Model     IValidator lengthValidator   new StringValidator MaximumLengthValidator     textField add  lengthValidator    form add  textField    add form     package com bugs behaviorBug import org mortbay jetty Connector import org mortbay jetty Server import org mortbay jetty nio SelectChannelConnector import org mortbay jetty webapp WebAppContext       author Miguel Mu  oz  version  Id     public class Start   private static final int defaultPort               param args    public static void main String   args    int port   defaultPort  if  args length       Unknown macro    try   port   Integer valueOf  args         catch   NumberFormatException e     System err println  Unable to parse port parameter       args          as an integer     System err println  Using default value of x     defaultPort        Server server   new Server    SelectChannelConnector connector   new SelectChannelConnector    connector setPort  port    server setConnectors  new Connector     connector      WebAppContext web   new WebAppContext      web setContextPath    workspace WicketTutorial     web setContextPath    behaviorbug     System out println   CP      web getContextPath      web setWar   src main webapp    port    server addHandler  web    try   server start       Who was the bozo who declared this to throw Exception  server join      catch   Exception e     e printStackTrace    System exit            lt html gt  lt head gt  lt title gt Behavior Bug lt  title gt  lt link href  style css  rel  stylesheet    gt  lt  head gt  lt body gt  lt div id  container  gt   lt div id  header  gt Behavior Bug lt  div gt   lt div id  content  gt  Type some text into the field below  After six characters  you ll get a stack trace   lt form wicket id  form  gt   lt input type  text  wicket id  testfield  name  txt  width      size        gt  lt p gt  submit   lt input type  submit  value  That s all  Folks    gt  lt  p gt   lt  form gt  End of form   lt  div gt  lt  div gt Test of Build Process  lt  body gt  lt  html gt    ',0
'DataTable html does not validate  HTML      XHTML Strict     According to http   www w  org TR html    struct tables html h          lt tfoot gt    lt  tfoot gt  must come before the start of  lt tbody gt   The has not changed for XHTML Proposed fix  just move  lt tfoot gt  up after  lt thead gt  and before  lt tbody gt     ',0
'AjaxEditableMultiLineLabel   race condition      There are two issues concerning AjaxEditableMultiLineLabel a  Race condition cancel editingUsing  Esc  to cancel editing might lead to two events to be fired  first onKeypress is executed   which leads to bluring the component in Opera  This results in the onblur event firing and the input is submitted Changing the code in onComponentTag to protected void onComponentTag ComponentTag tag     super onComponentTag tag   final String saveCall     wicketAjaxGet      getCallbackUrl       amp save true amp   this name     wicketEncode this value    return false     final String cancelCall     wicketAjaxGet      getCallbackUrl       amp save false    this onblur     return false     final String keypress    var kc wicketKeyCode event   if  kc          cancelCall         tag put  onblur   saveCall   tag put  onkeypress   keypress    stops onblur being fired This might also apply for AjaxEditableLabel   though I haven t seen this happening there yet b  Displaying defaultNullLabel on empty String Model Should behave like AjaxEditableLabel  i e   protected void onComponentTagBody MarkupStream markupStream  ComponentTag openTag    Object modelObject   getModelObject    if  modelObject    null       equals modelObject     replaceComponentTagBody markupStream  openTag  defaultNullLabel       else   super onComponentTagBody markupStream  openTag         ',0
'MarkupCache putIntoCache doesn t behave correctly       putIntoCache  checks for the locationString not to be null instead of the cacheKey This way you always get old markup returned instead of the freshly supplied markup which shouldn t be cached at all    ',0
'AutoCompleteTextField   javascript error  type mismatch  in line     in IE    I just swithed from       to       and that resultet in a javascript error  type mismatch  in line      wich is this line in wicket autocomplete js   menu style zIndex index   auto  index Number index    Only in IE         firefox works fine    ',0
'MarkupCache style variation locale support broken    We re running into a problem with the change made for this issue  WICKET     Basically  if you have a situation like this where the Login page extends DefaultPage and uses  lt wicket extend gt  Login htmlDefaultPage htmlDefaultPage style  htmlDefaultPage style  htmlThe markup for DefaultPage will always be based on the first style the site is hit with  This is because the location string   Login html   hasn t changed with the style change    ',0
'Widen Generics for Lists Iteratos    It is important to widen the generics for collections For example it is better  and sometimes necessary  to change the signature of org apache wicket markup repeater data IDataProvider iterator to Iterator lt   extends T gt  iterator int first  int count  I will create and add a patch later    ',0
'NPE in EnclosureResolver    if you put a single wicket container in a wicket enclosure  it will NPE looking for a  child  attribute  you can work around by either changing the container to a div  in which case it will correctly default to the single child  or by adding a child  name  attribute to the enclosure to explicitly specify the single child Caused by  java lang NullPointerException at org apache wicket markup resolver EnclosureResolver resolve EnclosureResolver java     at org apache wicket MarkupContainer renderNext MarkupContainer java       at org apache wicket MarkupContainer renderComponentTagBody MarkupContainer java       at org apache wicket MarkupContainer renderAssociatedMarkup MarkupContainer java      at org apache wicket markup html panel Panel onComponentTagBody Panel java      at org apache wicket Component renderComponent Component java              common frames omitted   ',0
'addDomReadyEvent unreliable for Safari    Because Safari doesn t support an onDomReady event  wicket event js emulates that behavior using timeouts when that browser is detected  However  the timeout is only set once  for   ms  window setTimeout   does not produce a repeating timeout  If the document object is not ready at that point  the registered functions are never called  Often it is ready  so the bug is masked I discovered this problem in a page that uses the DateTimeField component  which uses onDomReady for its initialization  Sometimes the component works fine  other times nothing happens when you click  It s a fairly complicated page that apparently Safari may spend more than   ms building    ',1
'Bookmarkable   Stateless form submit bug    A stateless bookmarkable form submission isn t working correctly for submissions after reboot or session expiration  This may be due to the use of MixedParamUrlCodingStrategy  believe I ve tracked down the problem to this code in BookmarkablePageRequestTargetUrlCodingStrategy      do some extra work for checking whether this is a normal request to a     bookmarkable page  or a request to a stateless page  in which case a     wicket interface parameter should be available  final String interfaceParameter    String parameters   remove WebRequestCodingStrategy INTERFACE PARAMETER NAME    if  interfaceParameter    null     WebRequestCodingStrategy addInterfaceParameters interfaceParameter  requestParameters   return new BookmarkableListenerInterfaceRequestTarget pageMapName   Class bookmarkablePageClassRef get    parameters  requestParameters  getComponentPath    requestParameters getInterfaceName    requestParameters getVersionNumber       The issue is that the  parameters  will never contain the INTERFACE PARAMETER NAME because it would have been removed in WebRequestCodingStrategy decode     which as far as I can tell is always called first  from RequestCycle step RESOLVE TARGET        The  requestParameters  should already have the interface parameters  so it isn t clear why the addInterfaceParameters   logic is being called again  it is already called in WebRequestCodingStrategy decode       I ve got a patch forthcoming    ',0
'Syntactic errors in the manifest OSGi headers    Hello  Not exactly sure about the error location  but upon deployment on a OSGi container  SpringSource Application Context  based on Equinox   I get the following trace                                   fs watcher  lt SPOP    W gt  The bundle   home djo Java servers springsource ap       beta  repository bundles usr wicket datetime     m  jar  could not be provisioned is its manifest is malformed  The error encountered whilst parsing the manifest was  The manifest identified by Name  Wicket Date Time   Symbolic Name  org apache wicket wicket datetime   and Version        m   has the following errors  org antlr runtime NoViableAltException on  Package Header      Import       at Char      org antlr runtime NoViableAltException on  Package Header      Export       at Char         ',0
'AbstractRequestTargetUrlCodingStrategy line      throws confusing exception  It would be better redirect to     page in this case     Steps to reproduce  When user manually types incorrect URL  this confusing exception will be thrown SEVERE  Internal error for  eshop profile pjava lang IllegalStateException  URL fragment has unmatched key value pair  p at org apache wicket request target coding AbstractRequestTargetUrlCodingStrategy decodeParameters AbstractRequestTargetUrlCodingStrategy java      at org apache wicket request target coding BookmarkablePageRequestTargetUrlCodingStrategy decode BookmarkablePageRequestTargetUrlCodingStrategy java     at org apache wicket protocol http request WebRequestCodingStrategy targetForRequest WebRequestCodingStrategy java      at org apache wicket protocol http WebRequestCycleProcessor resolve WebRequestCycleProcessor java        ',0
'Memory leak in Localizer    I noticed recently  and told on IRC  a problem with the Localizer and the way the getCacheKey   method works I uses the component id of all component in the path to the component to create the key  But each page generation has a different id  This has been fixed recently by breaking outside of the loop which creates the key if the component s parent is a Page instance  This partially solves the always increasing cache  But it still has some issues  with the page completely outside of the path  it could introduce some rare bugs when searching for keys defined in the page properties file  it shouldn t break but skip the  buffer append      append cursor getId     when the cursor is on a Page instance   there is still a bunch of ids generated when you loop over a repeater  the component of type Item has a new id for every item in the list   this is mitigated by the fact that when doing a normal refresh of the view  the starting id restarts at    but if you have an Ajax paging view  it s not restarted and starts again to fill the cache with unwanted keys there are multiple options  never include the id in the key  I m not convinced it is necessary  is it really used in the String loader   don t include the id in the key if the cursor is on a component of type Page or Item don t include the id if it s numeric  is this costly  In the meantime  I ll make a small fix in my local checkout of Wicket  not including the id if the cursor is on Page or Item   ',1
'TimeFrame equals Object   does not work as expected    the equals   method should be implemented for the TimeFrame class   ',0
'Memory leak in DiskPageStore    No entries are removed from DiskPageStore sessionIdToEntryMap  I guess  this should be added to the DiskPageStore unbind String sessionId  method  public void unbind String sessionId       FIX  replace get   with remove   SessionEntry entry    SessionEntry sessionIdToEntryMap get sessionId   if  entry    null    if  isSynchronous      entry unbind      else   List pages   getPagesToSaveList sessionId   synchronized  pages    flushPagesToSaveList sessionId  pages   entry unbind      pagesToSaveAll remove sessionId           ',1
'HtmlHandler can t handle tags not requiring closed tags if the tag names are uppercase    In HtmlHandler java  the requiresCloseTag   method only looks the tag name in the Map  without considering the char case  public static boolean requiresCloseTag final String name    return doesNotRequireCloseTag get name     null   Because the keys are all lower case  static      Tags which are allowed not be closed in HTML doesNotRequireCloseTag put  p   Boolean TRUE   doesNotRequireCloseTag put  br   Boolean TRUE   doesNotRequireCloseTag put  img   Boolean TRUE   doesNotRequireCloseTag put  input   Boolean TRUE   doesNotRequireCloseTag put  hr   Boolean TRUE   doesNotRequireCloseTag put  link   Boolean TRUE   doesNotRequireCloseTag put  meta   Boolean TRUE    it will fail if uppercase tag names are used in the markup I ve verified that it dies with the following simple markup  lt html gt  lt body gt  lt BR gt  lt  body gt  lt  html gt    ',0
'FileUploadField should return FileUpload as its converted input    FileUploadField should return FileUpload as its converted input so the file can be validated Eg  Overrideprotected void convertInput     setConvertedInput getFileUpload     Apparently MultiFileUploadField handles this  I ve checked  it appears to be in the convertValue method  For more context see http   www nabble com Best way of validating FileUploadField td         html   ',1
'wicket complains that ValueMap NullSafeKeyComparator is not serializable    wicket complains that ValueMap NullSafeKeyComparator is not serializable      ERROR      btpool          org apache wicket util lang Objects   Error serializing object class testapp pages ContactPage  object      Page class   testapp pages ContactPage  id      version          org apache wicket util io SerializableChecker WicketNotSerializableException  Unable to serialize class  org apache wicket util value ValueMap NullSafeKeyComparatorField hierarchy is         class testapp pages ContactPage  path        java lang Object org apache wicket Component data  class      Lorg apache wicket MetaDataEntry       java lang Object org apache wicket Component data                 class org apache wicket MetaDataEntry      java lang Object org apache wicket MetaDataEntry object      class org apache wicket PageParameters      private java util Comparator java util TreeMap comparator      class org apache wicket util value ValueMap NullSafeKeyComparator       lt       field that is not serializable at org apache wicket util io SerializableChecker check SerializableChecker java      at org apache wicket util io SerializableChecker checkFields SerializableChecker java      at org apache wicket util io SerializableChecker check SerializableChecker java      at org apache wicket util io SerializableChecker checkFields SerializableChecker java      at org apache wicket util io SerializableChecker check SerializableChecker java      at org apache wicket util io SerializableChecker check SerializableChecker java      at org apache wicket util io SerializableChecker checkFields SerializableChecker java      at org apache wicket util io SerializableChecker check SerializableChecker java      at org apache wicket util io SerializableChecker writeObjectOverride SerializableChecker java      at java io ObjectOutputStream writeObject ObjectOutputStream java      at org apache wicket util io IObjectStreamFactory DefaultObjectStreamFactory   writeObjectOverride IObjectStreamFactory java      at java io ObjectOutputStream writeObject ObjectOutputStream java      at org apache wicket util lang Objects objectToByteArray Objects java       at org apache wicket protocol http pagestore AbstractPageStore serializePage AbstractPageStore java      at org apache wicket protocol http pagestore DiskPageStore storePage DiskPageStore java      at org apache wicket protocol http SecondLevelCacheSessionStore SecondLevelCachePageMap put SecondLevelCacheSessionStore java      at org apache wicket Session requestDetached Session java       at org apache wicket RequestCycle detach RequestCycle java       at org apache wicket RequestCycle steps RequestCycle java       at org apache wicket RequestCycle request RequestCycle java      at org apache wicket protocol http WicketFilter doGet WicketFilter java      at org apache wicket protocol http WicketFilter doFilter WicketFilter java      at org mortbay jetty servlet ServletHandler CachedChain doFilter ServletHandler java       at org mortbay jetty servlet ServletHandler handle ServletHandler java      at org mortbay jetty servlet SessionHandler handle SessionHandler java      at org mortbay jetty handler ContextHandler handle ContextHandler java      at org mortbay jetty handler HandlerWrapper handle HandlerWrapper java      at org mortbay jetty Server handle Server java      at org mortbay jetty HttpConnection handleRequest HttpConnection java      at org mortbay jetty HttpConnection RequestHandler headerComplete HttpConnection java      at org mortbay jetty HttpParser parseNext HttpParser java      at org mortbay jetty HttpParser parseAvailable HttpParser java      at org mortbay jetty HttpConnection handle HttpConnection java      at org mortbay io nio SelectChannelEndPoint run SelectChannelEndPoint java      at org mortbay thread BoundedThreadPool PoolThread run BoundedThreadPool java     Caused by  java io NotSerializableException  org apache wicket util value ValueMap NullSafeKeyComparator at java io ObjectOutputStream writeObject  ObjectOutputStream java       at java io ObjectOutputStream defaultWriteFields ObjectOutputStream java       at java io ObjectOutputStream defaultWriteObject ObjectOutputStream java      at java util TreeMap writeObject TreeMap java       at sun reflect NativeMethodAccessorImpl invoke  Native Method  at sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java     at sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java     at java lang reflect Method invoke Method java      at java io ObjectStreamClass invokeWriteObject ObjectStreamClass java      at java io ObjectOutputStream writeSerialData ObjectOutputStream java       at java io ObjectOutputStream writeOrdinaryObject ObjectOutputStream java       at java io ObjectOutputStream writeObject  ObjectOutputStream java       at java io ObjectOutputStream defaultWriteFields ObjectOutputStream java       at java io ObjectOutputStream writeSerialData ObjectOutputStream java       at java io ObjectOutputStream writeOrdinaryObject ObjectOutputStream java       at java io ObjectOutputStream writeObject  ObjectOutputStream java       at java io ObjectOutputStream writeArray ObjectOutputStream java       at java io ObjectOutputStream writeObject  ObjectOutputStream java       at java io ObjectOutputStream defaultWriteFields ObjectOutputStream java       at java io ObjectOutputStream defaultWriteObject ObjectOutputStream java      at org apache wicket protocol http pagestore AbstractPageStore PageSerializer serializePage AbstractPageStore java      at org apache wicket Page writePageObject Page java       at org apache wicket Component writeObject Component java       at sun reflect NativeMethodAccessorImpl invoke  Native Method  at sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java     at sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java     at java lang reflect Method invoke Method java      at java io ObjectStreamClass invokeWriteObject ObjectStreamClass java      at java io ObjectOutputStream writeSerialData ObjectOutputStream java       at java io ObjectOutputStream writeOrdinaryObject ObjectOutputStream java       at java io ObjectOutputStream writeObject  ObjectOutputStream java       at java io ObjectOutputStream writeObject ObjectOutputStream java      at org apache wicket util io IObjectStreamFactory DefaultObjectStreamFactory   writeObjectOverride IObjectStreamFactory java             more   ',0
'GuiceComponentInjector mishandles static fields    GuiceComponentInjector mistakenly wraps static fields with serializable proxies  These CGLIB proxies impose limitations  must have default constructor  may not have final methods  etc  on fields which are not strictly necessary  The new implementation allows the use of Binder requestStaticInjection   which is more flexible    ',0
'org apache wicket util lang Objects convertValue returns null if it cannot convert the value    In the javadoc comment of the method it says that this method should return the value given as parameter if the value cannot be converted to the given type  but actually it returns null if it cannot convert the value  I had a problem with a TextField which had a model value of type java io Serializable and I had unfortunately not defined a special converter for the text field so it used org apache wicket util convert ConverterLocator DefaultConverter convertToObject to convert to the object type  convertToObject uses Objects convertValue so whenever model object was updated it was set to null  When retrieved from the model  model object was properly shown in the TextField so I had no idea why the value could not be properly setted but only getted In many cases it would probably help if the Objects convertValue did what it promises in javadoc  returns the value unconverted   but how about throwing exception  at some method  if the converter does not know how to convert some kind of objects  This would make it a lot easier to spot the kind of mistakes I had made    ',0
'PackagedTextTemplate does not load resource from application resource stream locator    Here is my post to the dev list   file a jira issue igorOn Wed  Jun          at       AM  Ritz     lt ritesh trivedi     gt  wrote  gt  gt  I did some investigation and seems like there is a bug  gt  gt  PackagedTextTemplate  line    is creating a new ResourceStreamLocator   gt  instead of using the one from the application  This is causing resources to gt  be not found if you have custom resource stream loader registered with the gt  application  gt  gt  line     private static final IResourceStreamLocator streamLocator   new gt  ResourceStreamLocator    gt  gt  Can Wicket dev confirm  gt  gt  gt  Ritz    wrote  gt  gt  gt  gt  Hi  gt  gt  gt  gt  I am trying to use PackagedTextTemplate to load the template  but seems gt  gt  like its not looking for the resource in the application registered gt  gt  resource stream locator  I get resource not found exception  gt  gt  gt  gt  HeaderContributor forCss and forJavascript has worked fine and has found gt  gt  resource in the folders for application stream location without any gt  gt  issues  gt  gt  gt  gt  gt  gt  gt  gt          gt  View this message in context  http   www nabble com Re  A PackagedTextTemplate does not load resource from application resource stream locator    BUG   tp        p         html gt  Sent from the Wicket   Dev mailing list archive at Nabble com  gt    ',0
'StringResourceModel may fail to format numbers using MessageFormat    StringResourceModel API seems to suggest it s possible to use it without a Component reference using the following approach m   new StringResourceModel  key   null  new Model       new Object    p   p         m setLocalizer xxxApplication get   getResourceSettings   getLocalizer    return m toString  Unfortunately the above will fail with an exception if the message uses the MessageFormat approach and one of the parametersis a number  since the locale field in StringResourceModel won t be initialized  and will then be passed as null to new MessageFormat value  locale  at line     of StringResourceFormat I m using the following crude workaround StringResourceModel rm   new StringResourceModel key  null  model  params     Override public void setLocalizer Localizer localizer    super setLocalizer localizer      crude hack to force into the StringResoruceLoader to grab a locale     which is needed to format numbers with the MessageFormat approach load         rm setLocalizer GeoServerApplication get   getResourceSettings   getLocalizer     return rm getString   but boy  this looks ugly    Creating a custom subclass that does locale loading in theconstructor would look better  but still quite ugly      ',0
'RfcCompliantEmailAddressValidator accepts whitespace and tab    The RfcCompliantEmailAddressValidator in the org apache wicket extensions validation validator package accepts whitespace and tab characters as it uses the regex provided on http   www ex parrot com  pdw Mail RFC    Address html which    will only validate addresses that have had any comments stripped and replaced with whitespace     ',0
'Inconsisting Handling of id mismatch on wicket container    Given this simple case public class Home extends WebPage   public Home     add new EmptyPanel  test       and the following HTML page  lt span wicket id  test    gt Please notice that the ids do not match Executing this app will give the following Exception WicketMessage  Unable to find component with id  test   in  Page class  com myapp wicket Home  id      version       This means that you declaredwicket id test  in your markup  but that you either did not add thecomponent to your page at all  or that the hierarchy does not match Whereas when using a wicket container instead of a HTML tag  like this  lt wicket container wicket id  test    gt And when the ids doesn t match  Wicket throws the following exception WicketMessage  Failed to handle   lt wicket container wicket id  test    gt Which is quite cryptic at the first glance Original  http   mail archives apache org mod mbox wicket dev        mbox   c         post talk nabble com  eWe ran across same problem too    ',0
'form action URLs in non Wicket forms not rewritten    Wicket s RelativePathPrefixHandler rewrites  href    src   and  background URLs in non Wicket markup but does not rewrite  action  URLs in forms There are workarounds but it would be cleaner if Wicket handled this caseby default Discussion at http   www nabble com RelativePathPrefixHandler and form  action  attributes tt         htmlhttp   www nabble com RelativePathPrefixHandler and form  action  attributes tt         html   ',0
'In html Include component isAbsolute method returns false for an absolute path in unix like systems    In isAbsolute method  if colon position is    then this url MAY STILL be an absolute url  In unix systems there may not be colon in absolute paths  For example   home someuser somefile htmlSo  in order to fix this  a leading    slash  may be checked to exist like int colonPos   url indexOf      int slashPos   url indexOf      if  colonPos        amp  amp  slashPos         return false    Relative  else if  colonPos        amp  amp  slashPos        return true    Absolute   Original Code  org apache wicket markup html include Include javaprotected final boolean isAbsolute String url    if  url    null    return false       do a fast  simple check first int colonPos  if   colonPos   url indexOf                return false    PROBLEM IS HERE          ',0
'Generify PropertyColumn    PropertyColumn overrides populateItem incorrectly  PropertyColumn has public void populateItem Item item  String componentId  IModel model whereas ICellPopulator has  void populateItem final Item lt ICellPopulator lt T gt  gt  cellItem  final String componentId  final IModel lt T gt  rowModel  This makes it hard to extend PropertyColumn    ',0
'Overflow when setting Expires header in WebResource    problematic code response setDateHeader  Expires   System currentTimeMillis      getCacheDuration            getCacheDuration          is an integer operation causing an overflow if getCacheDuration   is set to be  gt  MAX INT      seconds  approx     days  which is by far less than the w c recommendation for  never expires    To mark a response as  never expires   an origin server sends an Expires date approximately one year from the time the response is sent  HTTP     servers SHOULD NOT send Expires dates more than one year in the future  http   www w  org Protocols rfc     rfc     sec   html sec     changing getCacheDuration   to return long or forcing a long operation fixes the problem response setDateHeader  Expires   System currentTimeMillis     getCacheDuration         L     ',1
'NPE in feedback panel    WicketMessage  Error attaching this container for rendering   MarkupContainer      Component id   feedbackul  page   nl topicus tripleapoc web pages deelnemer intake IntakeStap Personalia  path      layLeft feedback feedbackul FeedbackPanel    isVisible   true  isVersioned   false      Root cause java lang NullPointerException at org apache wicket markup html panel FeedbackPanel newMessageDisplayComponent FeedbackPanel java      at org apache wicket markup html panel FeedbackPanel MessageListView populateItem FeedbackPanel java     at org apache wicket markup html list ListView onPopulate ListView java      at org apache wicket markup repeater AbstractRepeater onBeforeRender AbstractRepeater java      at org apache wicket Component internalBeforeRender Component java       at org apache wicket Component beforeRender Component java       at org apache wicket MarkupContainer onBeforeRenderChildren MarkupContainer java       at org apache wicket Component onBeforeRender Component java       at org apache wicket Component internalBeforeRender Component java       at org apache wicket Component beforeRender Component java       at org apache wicket MarkupContainer onBeforeRenderChildren MarkupContainer java       at org apache wicket Component onBeforeRender Component java       at org apache wicket Component internalBeforeRender Component java       at org apache wicket Component prepareForRender Component java       at org apache wicket ajax AjaxRequestTarget respondComponent AjaxRequestTarget java      at org apache wicket ajax AjaxRequestTarget respondComponents AjaxRequestTarget java      at org apache wicket ajax AjaxRequestTarget respond AjaxRequestTarget java      at org apache wicket request AbstractRequestCycleProcessor respond AbstractRequestCycleProcessor java      at org apache wicket RequestCycle processEventsAndRespond RequestCycle java       at org apache wicket RequestCycle step RequestCycle java       at org apache wicket RequestCycle steps RequestCycle java       at org apache wicket RequestCycle request RequestCycle java      at org apache wicket protocol http WicketFilter doGet WicketFilter java      at org apache wicket protocol http WicketFilter doFilter WicketFilter java        ',0
' Invalid procedure call or argument  on AJAX call with IE     I have a Button that shows a JS alert and then executes an AJAX call It works fine under Firefox    but fails under IE    The alert appears  I click  ok  and then I get the  Initiating Ajax GET request     inside  WICKET AJAX DEBUG   but it doesn t reach my serverside handler After clicking  ok   in the bottom left corner of the window appears a javascript error   Invalid procedure call or argument   line      code   Original discussion  http   www nabble com Button with confirmation with IE  td         htmlI ll add a quickstart and a patch in a moment    ',0
'WicketTester clickLink and IndexedParamUrlCodingStrategy don t work together    IndexedParamUrlCodingStrategy appendParameters expects String  gt String map      while  parameters containsKey String valueOf     String value    String parameters get String valueOf     but BaseWicketTester clickLink converts page params to String  gt String   map      PageParameters parameters    PageParameters getParametersMethod invoke  bookmarkablePageLink   Object   null   setParametersForNextRequest parameters toRequestParameters       And as result we have type cast exception    ',0
'JavascriptStripper ignores context when looking for multiline comments    org apache wicket util string JavascriptStripper stripCommentsAndWhitespace doesn t check the context when looking for multiline comments  In my case  it interprets the default accept header in the jQuery source code as a multiline comment accepts    xml   application xml  text xml   html   text html   script   text javascript  application javascript   json   application json  text javascript   text   text plain    default      The culprit being this string     I don t have a patch and I wouldn t try to write my own JS parser  Maybe replacing the current implementation with a Rhino based one is an option  Its available via Maven  lt dependency gt   lt groupId gt rhino lt  groupId gt   lt artifactId gt js lt  artifactId gt   lt version gt    R  lt  version gt  lt  dependency gt    ',0
'Wicket       violates servlet standard  Glassfish spews warnings    WicketFilter java line     invokes getLastModified   which invokes  request getParameterMap    on line      Later on in that same request  WicketFilter java line     invokes doGet   which invokes response setCharacterEncoding   on line     This is just one case where this problem occurs but I believe others might exist  Whenever Wicket violates the standard Glassfish spews out this warning PWC      Unable to set request character encoding to UTF   from context  lt context path gt   because request parameters have already been read  or ServletRequest getReader   has already been called    you literally end up with tens of these warnings per request  and supposedly  the wrong behavior  Glassfish s FAQ discusses this in more detail  http   wiki glassfish java net Wiki jsp page FaqWebAppUnableToSetRequestCharEncoding   ',0
'WicketRuntimeException when using wicket auth roles in a frameset    Hi All I seem to have a very strange exception when using wicket auth roles in a frameset Let me try and sketch out the setup    Application home page is called FramesetPage java         it extends org apache wicket markup html WebPage         corresponding HTML contains simple frameset with   rows   Top row of frameset contains TopFramePage java         it extends org apache wicket markup html WebPage         corresponding HTML contains only an image component as follows          add new Image  bannerImage    logo png       Bottom row of frameset contains BottomFramePage java         it extends org apache wicket markup html WebPage         it requires authentication authorization using wicket auth roles  as is  straight out of the jar          if not already authenticated authorized then redirected to MySignInPage java         it extends org apache wicket authentication pages SignInPage         corresponding HTML contains standard  lt span wicket id  signInPanel   gt  tagHere s the strange part  After completing the  Username  and  Password  fields of thesignInPanel then the exception displayed in the attached stack trace is thrown  Further  if I replace the imagecomponent in TopFramePage with some CSS that loads the same image then no exception is thrown Any thoughts on what is causing this problem Thanks Steve   ',0
'Using an AjaxSubmitLink outside of a Form does not set the form property    When constructing an AjaxSubmitLink outside of a form using the constructor public AjaxSubmitLink String id  final Form form The form argument is not set in the link  This prevents the form from seeing the link as its submitting component  which in turn means that using thing like enableDefaultFormProcessing   on the link don t work Changing the constructor of AjaxSubmitLink to public AjaxSubmitLink String id  final Form form   super id  form     was  super id         will probably fix the problem A temporary workaround is to implement a getForm   method in the subclass of the submit link which answers the form of the link   ',0
'Unfound markup information is not entirely cached even in deployment mode    Unfound markup information is not entirely cached even in deployment mode  which causes performance problems  The problem has a very broad effect  because checking for non existent localised versions of markup causes a lot of cases of unfound markup  This showed up first in our load tests  and was later confirmed by profiling If you don t have the localised version of your markup to your current locale  this markup is looked for but never found  This bug causes the lookup to repeat on every request when the component is repainted  which becomes a major problem in a case with a lot of ajax repaints You can reproduce the problem with Wicket       easily  for example by putting the log j logger org apache wicket markup MarkupCache DEBUG setting in log j properties and running Wicket examples in deployment mode  I added several items to the Ajax todo list and this appeared in console repeatedlyDEBUG   MarkupCache   Load markup  cacheKey org apache wicket examples ajax builtin TodoList AddItemsContaineren UShtmlDEBUG   MarkupCache   Markup not found  org apache wicket examples ajax builtin TodoList AddItemsContaineren UShtmlThis is caused by the bug that in MarkupCache  the unfound markup information is stored only in markupCache and not in markupKeyCache  I fixed this in the na  ve way but we should really refactor the cache handling so that it does not rely on the same calls being duplicated to markupCache and markupKeyCache     ',1
'DateTimeField  small bugs    Hello  I found   different bugs that makes my applications react in the wrong way   onBeforeRender    When the modelobject date is null  the hours and minutes are not set to null to  Now only date is set to null  I use this object with ajax  and when the DateTimeField loads with a new modelobject  the hours  and minutesfield holds the old value  If not clear  I can make a quickstart  setDate    This function adjusts the modelobject with the filled in date  But the hours and minutes aren t add I have overridden the function so it would work correctly  My code public void setDate Date date  Unknown macro    super setDate date   System out println  quot setDate   quot    date    quot   quot    MutableDateTime modelDate   new MutableDateTime date   Integer hours   getHours    Integer minutes   getMinutes    boolean use  HourFormat   use  HourFormat    if  hours    null    modelDate set DateTimeFieldType hourOfDay    hours intValue      use  HourFormat              modelDate setMinuteOfHour  minutes    null    minutes intValue           setDefaultModelObject modelDate toDate       Thanks a lot   Marieke    ',0
'i  n package resource resolving depends too much on available locale    Instead of just depending on the session s locale  our i  n resolving algorithm should look at the form of the file names as well  For instance  if we get a request for  web resources foo Bar test en US css  it should recognize that test is the base form  and try en and en US on top of that  regardless of the locale that is was set in the session    ',0
'org apache wicket util string Strings stripJSessionId StringIndexOutOfBoundsException    input http   abc com xx yy html code a E   C A  en amp amp section DDD amp amp d    amp passing the about input to methodorg apache wicket util string Strings stripJSessionIdwill introduce StringIndexOutOfBoundsExceptionbecause     appears before       ',0
'WicketTester Cookie handling    While trying to test my SecureForm implementation  https   issues apache org jira browse WICKET       with WicketTester I ran into this issue  A cookie set in the response never shows up in the  next  request  because both have their own lists of cookies that aren t shared Afaik both should share the same List instance to handle cookies  That way its possible to set a cookie in the response and read it from the request A simple testcase is attached    ',0
'AjaxFallbackButton  inconsistent submit order    I just stumbled upon a problem with a Form containing a nested Form and two AjaxFallbackButtons  submit and preview   I need to implement different onSubmit   behavior of the nested Form depending on the clicked button The order of onSubmit   calls is without JS  AjaxFallbackButton onSubmit AjaxRequestTarget Form  OuterForm onSubmit      not used Inner Form onSubmit  with JS  Inner Form onSubmit   OuterForm onSubmit      not used AjaxFallbackButton onSubmit AjaxRequestTarget Form With JS  it is therefore not possible to determine which button was clicked from inside a form s onSubmit   method  see also http   www nabble com AjaxFallbackButton  A inconsistend submit order td         html   ',0
'StatelessForm submitted to the wrong page    I made a small application to reproduce the problem  You can download it from http   aditsu net wickettest zip   I ll try to attach it too Dependencies  jetty    wicket     m   slf j  log jSteps to reproduce    Run the test Start class   Open http   localhost      in a browser   Open http   localhost      page  in a new tab   Go to the first tab and click submitResult WicketRuntimeException  unable to find component with path form on stateless page      Page class   test Page   id      version         It looks like the   pages are created with the same id in   different pagemaps  but when I submit the form  it goes to the second pagemap and finds the second page  with no form on it     ',0
'WebRequestCycleProcessor resolveHomePageTarget for empty path with enforceMounts true provokes        Direct access not allowed for mounted targets     Scenario  WebApplication getHomePage   returns a page that is also mounted to a non empty path by WebApplication mountBookmarkablePage    Besides  we have getSecuritySettings   setEnforceMounts true   Upon a request for the servlet s root URL  i e   with requestParameters getPath         the methodWebRequestCycleProcessor resolve will throw a AbortWithWebErrorCodeException      with error message  Direct access not allowed for mounted targets  This is because WebRequestCycleProcessor resolveHomePageTarget correctly returns a non null target  so that the else branch starting in line     of file WebRequestCycleProcessor java is reached  The comment says  a target was found  but not by looking up a mount   which is misleading  because the szenario should desirably work even though property enforceMounts has been set to true The only  terrible  workaound I have found is to override WebRequestCycleProcessor resolveHomePageTarget   to return null and establish a home page like thing by overriding WebRequestCodingStrategy urlCodingStrategyForPath   for the empty path    ',0
'RadioChoice disable certain choice bug    I want to disable certain values of a dropdown choice But the isDisabled is never called only the isEnabled and i don t know the choice in here    ',0
'CheckBox incorrectly converts its model value when a custom Boolean converter is installed   again    Hi I tried the last version of wicket  built from trunk svn  and there is one old bug again see https   issues apache org jira browse WICKET    There was removed the default Boolean converter     and the bug is again active Thx for fixing H    ',0
'wicket message sometimes broken    The behavior described here  http   cwiki apache org WICKET wickets xhtml tags html  use wicket message as attribute  sometimes doesn t work  depending on the hierarchy and the tag where it applies I ve reproduced it using a repeater and applying wicket message it to a  lt td gt  tag Instead of correctly modifying the attribute  it throws the usual MarkupException  WicketMessage  Unable to find component with id  label  in  MarkupContainer    ',0
'MarkupContainer setEnabled   doesn t enable disable child components       Create any components that is derived from MarkupContainer  for example  create Panel     Put some components to the Panel  for example  TextInput  Label etc    Call panel setEnabled false  Result  all controls on panel are still enabled Notes  after some investigation I found that MarkupContainer doesn t override setEnabled and therefore it cannot enable disable components stored in the container  Workaround  manually disable all components that are displayed on the panel  for example public void setEnabledForChildren boolean enabled    setEnabledRecursive this  enabled     private void setEnabledRecursive MarkupContainer container  boolean enabled    Iterator lt   extends Component gt  iterator   container iterator    while  iterator hasNext      Component component   iterator next    component setEnabled enabled   if  component instanceof MarkupContainer    setEnabledRecursive  MarkupContainer  component  enabled        I think that MarkupContainer must be responsible for disabling enabling child components    ',0
'FileUpload writeToTempFile uses field Id as filename   Windows doesn t support some characters    The component FileUpload tries to create a temporary file using the multipart fieldname s id That id has invalid characters   not supported on Windows environments  for example    ',0
'rc  generics   LabelTree    LabelTree getNodeTextModel requires IModel lt Object gt  and returns IModel lt Object gt   I was overriding it and returning a Model lt String gt   but I can t do that anymore  Why not just return IModel lt   gt      ',0
'Component isVisibilityAllowed   not consulted before calling onBeforeRender      I have a component whose parent does this class Parent extends Panelprivate Component child onBeforeRender   child setVisibilityAllowed false  super onBeforeRender    I would expect child s onBeforeRender   to not be executed but it is  because Component internalBeforeRender calls isVisible   rather than determineVisibility   Shouldn t the following line in Component internalBeforeRender    if   isVisible      callOnBeforeRenderIfNotVisible     amp  amp   getFlag FLAG RENDERING   amp  amp   getFlag FLAG PREPARED FOR RENDER  be this  if   determineVisibility      callOnBeforeRenderIfNotVisible     amp  amp   getFlag FLAG RENDERING   amp  amp   getFlag FLAG PREPARED FOR RENDER     ',0
'AutoCompleteTextField   gives a type mismatch error on IE   version wicket     rc     wicket autocomplete jsfunction function showAutoComplete  line     container style zIndex   isNaN Number index   Number index    index  looks like IE doesn t like big i in zIndex  IE seem to be be happy with zindex not sure if that s the correct way to resolve the issue    ',0
'AbstractTree breaks on multiple tree model events in the same request    When multiple events are fired by the treemodel  e g  an expandNode and selectNode  unreachable treeitems end up times in the dirtyitems list Their children will be added to the treeitemcontainer in ontargetrespond  leading to the situation where it has children that are not rendered  in development  an  unrendered component  exception is thrown    ',0
'DatePicker is not thread safe    DatePicker uses   SimpleDateFormats as static final fields  That causes random failures under load because SimpleDateFormat is not thread safe  From its javadocs   Date formats are not synchronized  It is recommended to create separate format instances for each thread  If multiple threads access a format concurrently  it must be synchronized externally  For example               TP Processor   ERROR      org apache wicket RequestCycle        Exception in rendering component   MarkupContainer      Component id    header        org apache wicket WicketRuntimeException  Exception in rendering component   MarkupContainer      Component id    header         at org apache wicket Component renderComponent Component java       at org apache wicket MarkupContainer onRender MarkupContainer java       at org apache wicket Component render Component java       at org apache wicket MarkupContainer autoAdd MarkupContainer java      at org apache wicket markup resolver HtmlHeaderResolver resolve HtmlHeaderResolver java     at org apache wicket MarkupContainer renderNext MarkupContainer java       at org apache wicket MarkupContainer renderAll MarkupContainer java       at org apache wicket Page onRender Page java       at org apache wicket Component render Component java       at org apache wicket Page renderPage Page java      at org apache wicket request target component BookmarkablePageRequestTarget respond BookmarkablePageRequestTarget java      at org apache wicket request AbstractRequestCycleProcessor respond AbstractRequestCycleProcessor java      at org apache wicket RequestCycle processEventsAndRespond RequestCycle java       at org apache wicket RequestCycle step RequestCycle java       at org apache wicket RequestCycle steps RequestCycle java       at org apache wicket RequestCycle request RequestCycle java      at org apache wicket protocol http WicketFilter doGet WicketFilter java      at org apache wicket protocol http WicketFilter doFilter WicketFilter java      at org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java      at org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java      at com huitale marketplace security SessionHijackingFilter doFilter SessionHijackingFilter java     at org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java      at org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java      at org apache catalina core StandardWrapperValve invoke StandardWrapperValve java      at org apache catalina core StandardContextValve invoke StandardContextValve java      at org apache catalina core StandardHostValve invoke StandardHostValve java      at org apache catalina valves ErrorReportValve invoke ErrorReportValve java      at org apache catalina core StandardEngineValve invoke StandardEngineValve java      at org apache catalina connector CoyoteAdapter service CoyoteAdapter java      at org apache jk server JkCoyoteHandler invoke JkCoyoteHandler java      at org apache jk common HandlerRequest invoke HandlerRequest java      at org apache jk common ChannelSocket invoke ChannelSocket java      at org apache jk common ChannelSocket processConnection ChannelSocket java      at org apache jk common ChannelSocket SocketConnection runIt ChannelSocket java      at org apache tomcat util threads ThreadPool ControlRunnable run ThreadPool java      at java lang Thread run Thread java     Caused by  java lang ArrayIndexOutOfBoundsException     at sun util calendar BaseCalendar getCalendarDateFromFixedDate BaseCalendar java      at java util GregorianCalendar computeFields GregorianCalendar java       at java util GregorianCalendar computeFields GregorianCalendar java       at java util Calendar setTimeInMillis Calendar java       at java util Calendar setTime Calendar java       at java text SimpleDateFormat format SimpleDateFormat java      at java text SimpleDateFormat format SimpleDateFormat java      at java text DateFormat format DateFormat java      at org apache wicket extensions yui calendar DatePicker configure DatePicker java      at org apache wicket extensions yui calendar DateTimeField   configure DateTimeField java      at org apache wicket extensions yui calendar DatePicker renderHead DatePicker java      at org apache wicket Component renderHead Component java       at org apache wicket markup html internal HtmlHeaderContainer   component HtmlHeaderContainer java      at org apache wicket MarkupContainer visitChildren MarkupContainer java      at org apache wicket MarkupContainer visitChildren MarkupContainer java      at org apache wicket MarkupContainer visitChildren MarkupContainer java      at org apache wicket MarkupContainer visitChildren MarkupContainer java      at org apache wicket markup html internal HtmlHeaderContainer renderHeaderSections HtmlHeaderContainer java      at org apache wicket markup html internal HtmlHeaderContainer onComponentTagBody HtmlHeaderContainer java      at org apache wicket Component renderComponent Component java              morehappens because one internal SimpleDateFormat s field changes while the class is formatting a date    ',1
'FormComponent cookie persistent issue    The FormComponent doesnt persistent the cookie correct when there is no context path and the cookie is created on a mounted page  The cookie is created by cannot be retrieved again from the formcomponent  Either the retrieval logic is wrong or the cookie is created wrongly See this thread for more information http   www nabble com FormComponent cookie persistent issue td         html   ',0
'Empty File Upload field breaks validation of other fields in WicketTester     Submitting form with empty FileUpload  field break validations of other fields in WicketTester  TextField mandatority  field setRequired true    TextField input length validation  field add StringValidator lengthBetween          DropDownChoice validation does not  see  selection If File Upload  field is filled  then validations above work Form submits manually without a problem in web browser    ',0
'FormTester  BaseWicketTester executeAjaxEvent component event   submits also buttons that are hidden  isVisible false  resulting in exception    FormTester  BaseWicketTester executeAjaxEvent     component event       submits also buttons that are hidden  isVisible false  resulting in exception I am trying to ajax click the visible button  but the formTester arranges even the hidden button to be submitted   the form processing assumes the hidden button is now the submitting button   and it is hidden  so an exception is thrown org apache wicket WicketRuntimeException  Submit Button hiddenButton  path form hiddenButton  is not visible at org apache wicket markup html form Form   component Form java      at org apache wicket MarkupContainer visitChildren MarkupContainer java      at org apache wicket MarkupContainer visitChildren MarkupContainer java      at org apache wicket markup html form Form findSubmittingButton Form java      at org apache wicket markup html form Form onFormSubmitted Form java      at org apache wicket ajax form AjaxFormSubmitBehavior onEvent AjaxFormSubmitBehavior java      at org apache wicket ajax AjaxEventBehavior respond AjaxEventBehavior java      at org apache wicket ajax AbstractDefaultAjaxBehavior onRequest AbstractDefaultAjaxBehavior java      at org apache wicket util tester BaseWicketTester executeAjaxEvent BaseWicketTester java       at org apache wicket util tester BaseWicketTester executeAjaxEvent BaseWicketTester java       at com mycompany TestHomePage testAjaxSubmitWhileAnotherButtonIsNotVisible TestHomePage java     at sun reflect NativeMethodAccessorImpl invoke  Native Method  at sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java     at sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java     at java lang reflect Method invoke Method java      at junit framework TestCase runTest TestCase java      at junit framework TestCase runBare TestCase java      at junit framework TestResult   protect TestResult java      at junit framework TestResult runProtected TestResult java      at junit framework TestResult run TestResult java      at junit framework TestCase run TestCase java      at junit framework TestSuite runTest TestSuite java      at junit framework TestSuite run TestSuite java      at org eclipse jdt internal junit runner junit  JUnit TestReference run JUnit TestReference java      at org eclipse jdt internal junit runner TestExecution run TestExecution java     at org eclipse jdt internal junit runner RemoteTestRunner runTests RemoteTestRunner java      at org eclipse jdt internal junit runner RemoteTestRunner runTests RemoteTestRunner java      at org eclipse jdt internal junit runner RemoteTestRunner run RemoteTestRunner java      at org eclipse jdt internal junit runner RemoteTestRunner main RemoteTestRunner java     I would assume this is an easy fix to the BaseWicketTester executeAjaxEvent     component event       method where it visits the form components   An invasive workaround  Just set your hidden button temporarily visible  from within your wickettest  while executing the ajax event   ',0
'Validation messages aren t cleared on success     When triggering validation messages on a form component  they aren t cleared anymore when afterward we fix our validation problem The following code demonstrates this issue by making a form with a single text field that is set as required  First  we submit the form without filling in the field  We expect that to cause an error  Which it does  Then  we set a value in the field  and submit again  We expect that to pass validation  It does not  however Instead  we get this exception junit framework AssertionFailedError  expect no error message  but contains Field  field  is required  at junit framework Assert fail Assert java     at junit framework Assert assertTrue Assert java     at org apache wicket util tester WicketTester assertNoErrorMessage WicketTester java      at test spike net link safeonline TinyTests wicketTest TinyTests java    Code package test spike import org apache wicket Page import org apache wicket markup html WebPage import org apache wicket markup html form Form import org apache wicket markup html form TextField import org apache wicket protocol http WebApplication import org apache wicket util tester FormTester import org apache wicket util tester WicketTester import org junit Test public class TinyTests   public static class MyApp extends WebApplication    Override public Class lt   extends Page gt  getHomePage     return MyPage class      public static class MyPage extends WebPage   public MyPage     add new MyForm  form       class MyForm extends Form lt String gt    private static final long serialVersionUID    L  public MyForm String id    super id   TextField lt String gt  f   new TextField lt String gt   field    f setRequired true   add f          Test public void wicketTest     WicketTester wicket   new WicketTester new MyApp     wicket processRequestCycle    FormTester form   wicket newFormTester  form    form submit    wicket assertErrorMessages new String      Field  field  is required       form   wicket newFormTester  form    form setValue  field    foo    form submit    wicket assertNoErrorMessage        lt   Exception line     lt html gt   lt body gt   lt form wicket id  form  gt   lt input wicket id  field    gt   lt input type  submit    gt   lt  form gt   lt  body gt  lt  html gt    ',0
'AutoComplete ShowListOnFocusGain not working    I noticed an issue with the Wicket Extensions autocomplete behavior when the AutoCompleteSettings ShowListOnFocusGain flag is set to true  Basically  it works as expected in Firefox  but in  at least  Chrome  IE  and IE   it displays the list on focus gain  but you cannot use the mouse to select any of the items in the autocomplete list  The debug log showed that as soon as an item in the list was clicked on  the onblur event would fire for the field  which would then immediately fire a focus event  which would trigger reloading the list This fix for this is trivial  adding one line to the top of obj onfocus  if  mouseactive     return killEvent event   I ll post the patch    ',0
'isVisible should not be called after detach    I think isVisible should not be called after detach to prevent model reloads I found one call to isVisible after detach in method ComponentRequestTarget respond RequestCycle   That method initiates a detach and then calls page endComponentRender  This leads to a call to Page checkRendering which calls isVisibleInHierarchy   and from there isVisible    Method checkRendering only does something when the debug setting  componentUseCheck  is enabled  which according to the javadoc is true by default   Short term workaround  set debug setting  componentUseCheck  to false    ',1
'BaseWicketTester can t find the pageLink field using reflection when you override the PageLink class     Currently  BaseWicketTester  line      does this  public  lt C extends Page gt  Result isPageLink String path  Class lt C gt  expectedPageClass    PageLink lt   gt  pageLink    PageLink lt   gt  getComponentFromLastRenderedPage path   try   Field iPageLinkField   pageLink getClass   getDeclaredField  pageLink    iPageLinkField setAccessible true   IPageLink iPageLink    IPageLink iPageLinkField get pageLink   return isEqual expectedPageClass  iPageLink getPageIdentity      The problem manifests when you want to customize a page link s onClick by overriding it like this new PageLink lt AuthPage gt   pageLink   AuthPage class    private static final long serialVersionUID    L   Override public void onClick     Foo bar    super onClick        As a result  the BaseWicketTester tries to look for the pageLink field in the anonymous class instead of the privately declared pageLink field in the PageLink class BaseWicketTester should either go down the tree for Class type   pageLink getClass    type    Object class  type   type getSuperclass   Or a getter should be made for the pageLink field   This is what Java wants you to do     ',0
'FileUploadField onDetach   causes IllegalStateException      This was detected when using the example sample Upload demo locally ERROR   RequestCycle   there was an error cleaning up target org apache wicket request target component listener ListenerInterfaceRequestTarget              Page class   org apache wicket examples upload UploadPage  id      version          gt simpleUpload  gt interface org apache wicket markup html form IFormSubmitListener IFormSubmitListener  request paramaters       RequestParameters componentPath   simpleUpload pageMapName null versionNumber   interfaceName IFormSubmitListener componentId null behaviorId null urlDepth    parameters    onlyProcessIfPathActive false       java lang IllegalStateException  Attempt to set model object on null model of component  simpleUpload fileInput at org apache wicket Component setDefaultModelObject Component java       at org apache wicket markup html form FormComponent setModelObject FormComponent java       at org apache wicket markup html form upload FileUploadField onDetach FileUploadField java     Looking at the source indicates that unless onDetach   is over ridden the default will always generate this exception  Here is the source for the FileUpLoadField onDetach    The line that creates the exception is noted by the   lt  lt  lt HERE  in the snippet below FileUpLoadField onDetach   snippet      Clean up at the end of the request  This means closing all inputstreams which might have been opened from the fileUpload    see org apache wicket Component onDetach       Override protected void onDetach   Unknown macro    if  fileUpload    null  amp  amp  forceCloseStreamsOnDetach      fileUpload closeStreams    fileUpload   null  setModelObject null    lt  lt  lt HERE   super onDetach      Drilling further down  the setModelObject   calls FormComponent setModelObject    which in turns calls Component setDefaultModelObject    Inside setDefaultModelObject    a check is done to see if the model object is null  if it is  it throws an exception  public final Component setDefaultModelObject final Object object    final IModel lt Object gt  model    IModel lt Object gt  getDefaultModel       Check whether anything can be set at all if  model    null    throw new IllegalStateException   Attempt to set model object on null model of component      getPageRelativePath              ',0
'HtmlProblemFinder documentation bug    In the javadoc of HtmlProblemFinder there is an example how to add additional IMarkupFIlters using Application getAdditionalMarkupHandler    this method is no longer available in Wicket      the documentation should be modified to show a valid example  The only way I can find by setting a new MarkupParserFactory which adds the filter    ',0
'beforeRender not called for behaviour added to ComponentTag    When adding a IMarkupFilter and adding a behaviour to the ComponentTag  the beforeRender method is never called  only onComponentTag will be called  but by then it is too late to modify the component Usecase  I would like to make components hidden if the markup contains wicket hidden  hidden   For this i need to modify the components visiblitiy depending on if the markup contains that attribute The attached quickstart will never reach the System out println  beforeRender  should hide component    in HiddenComponentMarkupFilter   ',0
'KittenCaptchaPanel generates a Ajax callback image url which potentially breaks when used in a Portlet    KittenCaptchaPanel generates the Ajax callback image url in its onclick event handler using  javascript append  Wicket        image getMarkupId         src        javascript append image urlFor IResourceListener INTERFACE    javascript append   amp rand     Math random     javascript append      Appending the rand parameter using   amp rand   assumes the image url already contains  at least  one other parameter Within a default  plain website  environment this most likely is true  however in a Portlet this really depends on how the portal encodes the generated image url in the resulting PortletURL Jetspeed   for instance  can  encode this as path element  in which case appending   amp rand   leads to an incorrect and invalid url For further information  please see WICKET     in which I described how I fixed similar cases in several other locations within Wicket I ll fix this issue likewise in a transparent way replacing the above with the following  javascript append  Wicket        image getMarkupId         src        CharSequence url   image urlFor IResourceListener INTERFACE   javascript append url   javascript append  url toString   indexOf       gt         amp             rand     Math random     javascript append         ',0
'AjaxPreprocessingCallDecorator calls the delegate decorator before itself  same behavior as AjaxPostprocessingCallDecorator     AjaxPreprocessingCallDecorator calls the delegate decorator before itself  same behavior as AjaxPostprocessingCallDecorator   when it should call itself before the delegate    ',0
'Wizard buttons  previous   finish  aren t enabled when they should be    When using the Wizard component in     SNAPSHOT  sometime after     RC    the previous and finish buttons don t enable when they should  I have found that this is because isEnabledInHierarchy is called multiple times  with the first time being during the POST process  before the wizard step is advanced to the next step  Since the step has not advanced when isEnabled is calculated  you get the following behavior     click  next  from first step to second   the  previous  button should be enabled  but it s not    the  finish  button never is enabled  even on the last step   ',0
'SmartLinkLabel does not handle   in urls    The SmartLinkLabel doesn t care with tilde     character  so if i have a link like this  http   localhost  something than only the http   localhost  will be a link  and the rest of it won t The source of the problem is very likely in DefaultLinkParser java      URL pattern    private static final String urlPattern          a zA Z          w               w          amp      It just needs to add   char to the regexp    ',0
'KittenCaptcha filter declared twice in wicket examples web xml       ',0
'SerializationChecker issue    When the static initialization of the SerializationChecker class fails  one of the methods is not available  it throws a runtime exception which marks the SerializationChecker class as unavailable in the JVM  Using the SerializationChecker class after that to check for SerializationChecker  isAvailable is pointless because it throws the ClassNotFound exception    ',0
'Component Use Check always fails for visible components inside an invisible border body       ',0
'ApacheLicenceHeaderTests fail after projects  metadata created by Eclipse    Wicket and all it s accompanying projects when being worked on in Eclipse tend to fail several ApacheLicenceHeaderTest as it is an IDE that creates  settings directory containing several xml projects  metadata files  There are   solutions    don t use eclipse   skip tests entirely   Dmaven test skip true passed on the CLI when invoking maven    skip running the tests   DskipTests    compile  amp  run but ignore tests failures   Dmaven test failure ignore true    Modify the ApacheLicenceHeaderTests so that the xml files in the  settings directories are ignoredIMHO  having considered all pros and cons  only    is a an option  As there already is an Eclipse originating  xml file that gets ignored I hope that you don t mind going this way  The patch to follow shortly    ',0
'MultiFileUploadField js can t find file input when serving pages as XHTML    When Wicket based application serves web pages as XHTML  with the  Content type application xhtml xml  header   upload procedure using MultiFileUploadField js won t work as it can t find file input even though it s properly added This happens because  line    of MultiFileUploadField js input tag name is expected to be  input   capitalized   which in XHTML is actually  input   lowercase     ',0
'Misplaced IllegalStateExceptions when accessing stateful URL with different session    partly copied from the mailing list  http   www nabble com exception handling for session dependent URLs to         html  I recently came across a link to one of my projects where a user linked to a session dependent URL such as   wicket interface     IBehaviorListener    when clicking on that URL  a PageExpiredException gets thrown and a redirect to the SessionExpiredPage takes place  So far so good   that s the way it should be However this works only for the first request  as long as the user doesn t have a session   If the user has a session and clicks on that link different exceptions might get thrown  with the URL mentioned above I ve seen either a IllegalStateException  when it couldn t find a IBehaviorListener with the corresponding ID  or a ClassCastException  when it tried to cast a HeaderContributor to an IBehaviorListener in BehaviorRequestTarget   Apart from the ClassCastException  which definitely shouldn t occur  I don t think that IllegalStateExceptions should be thrown in  all of  those cases  as clicking on a session dependent link with a wrong session isn t a far fetched scenario    ',0
'WicketTester fails to execute AjaxBehavior  onclick  due to old requestCycle  this bug is caused by bugfix WICKET         WicketTester fails to execute AjaxBehavior  onclick  due to old requestCycle  This bug results from bugfix WICKET      http   issues apache org jira browse WICKET     See attached QuickstartKnown workaround    Add following line before your tester executeAjaxEvent tester setupRequestAndResponse true   seehttp   issues apache org jira browse WICKET       ',0
'Make Component   protected List getBehaviors Class  public    actually making getbehaviors class  public will also break codebecause any override already in place will then attempt to reduce thevisibility of the method add a jira issue  most likely for     considering     is already in RC   igorOn Thu  Feb          at      PM  Martin Funk  lt mafulafunk googlemail com gt  wrote Hi why is Components public final List lt IBehavior gt  getBehaviors  publicand why is protected List lt IBehavior gt  getBehaviors Class lt   extends IBehavior gt type protected For example for a Behavior I d like it to be able to tell if an Behavior ofits type is already bound to that component In its bind   method I d like to do something like  if  component getBehaviors SomeBehavior class  size    gt       throw new Error  Ther may only be one     But I have to do something like  for  IBehavior behavior   component getBehaviors      if  behavior instanceof SomeBehavior    throw new Error  There may only be one       So my whish would be to have em both public  I wouldn t mind seeing em bothfinal  but that might break existing code mf   ',0
'Javascript function Wicket replaceAll is unbearably slow    I use AbstractAjaxTimerBehavior to update many different components on my pages periodically After a while  the browser occupies     or more of the system resources I used the javascript profiler in firebug and found that Wicket replaceAll is responsible for     percent of javascript processing time The problem is that sequential string processing is used instead of much faster regular expressions   ',1
'Conversion Exception Thrown for Submitting A Page with Multiple Forms within A Border     org apache wicket util convert ConversionException  Can t convert null value to a primitive class  int for setting it on  exception thrown when submitting a Page with multiple Forms within a Border  A  Bordered  Page with a single Form would not have this problem manifests  Also  if the Page by itself  not contained in a Border  is alright too    ',0
'FormComponentPanel should not add a name attribute    FormComponent adds a name attribute in onComponentTag  This behaviour is inherited by FormComponentPanel  but is not valid for the latter  Often a FormComponentPanel is a div or span  for which the name attribute is not allowed    ',0
'WicketSessionFilter doesn t takes into account WebApplication getSessionAttributePrefix WebRequest     WicketSessionFilter init FilterConfig   line     constructs the  sessionKey  without taking into account the return value of WebApplication getSessionAttributePrefix WebRequest  Patch Index  protocol http servlet WicketSessionFilter java                                                                           protocol http servlet WicketSessionFilter java  revisi  n             protocol http servlet WicketSessionFilter java  copia de trabajo                   import javax servlet http HttpSession  import org apache wicket Session  import org apache wicket protocol http WebApplication  import org slf j Logger  import org slf j LoggerFactory                     log debug  filterName  application key set to     filterName     sessionKey    wicket     filterName         Session SESSION ATTRIBUTE NAME   WebApplication application   WebApplication get filterName    sessionKey   application getSessionAttributePrefix null    Session SESSION ATTRIBUTE NAME  if  log isDebugEnabled        ',0
'DropDownChoice NO SELECTION VALUE static field is final    Lets say I do this List lt Option gt   options   getOptions   someRenderer   new ChoiceRenderer        DropDownChoice  ddc   new DropDownChoice  dropDown   new Model  Serializable   option  options  someRenderer  The Option class looks like this public class Option  private String display name private String id gettersAndSetters    If I select an Option from the DDC  and that Option has id       the AbstractSingleSelectChoice getDefaultChoice final Object selected  will interpret my choice as the protected static final String NO SELECTION VALUE        in AbstractSingleSelectChoice java The result will be that the  Choose one  option is visible in the DDC Shouldn t the NO SELECTION VALUE be customizable    ',0
'Invalid nested form tag name when the form is not visible and setoutputmarkupplaceholdertag true  has been called    when the an innerform is invisible and you called setoutputmarkupplaceholdertag true   onComponentTag not processed and an invalid form tag name results   lt form wicket id rootform gt   lt form wicket id nestedform style  display  none  gt  lt  form gt  lt  form gt Component render final MarkupStream markupStream      if  determineVisibility         render   gt  replace form with div  else if  markupStream    null   if  getFlag FLAG PLACEHOLDER     final ComponentTag tag   markupStream getTag    renderPlaceholderTag tag  getResponse                            Here form does not replace  form  with  div  markupStream skipComponent       ',0
'quickstart archetype adds invalid maven compiler plugin configuration    the maven compiler plugin configuration created by the quickstart archetype contains an invalid tag   lt optimise gt this should be  lt optimize gt   lt plugin gt   lt artifactId gt maven compiler plugin lt  artifactId gt   lt inherited gt true lt  inherited gt   lt configuration gt   lt source gt     lt  source gt   lt target gt     lt  target gt   lt optimise gt true lt  optimise gt   lt debug gt true lt  debug gt   lt  configuration gt   lt  plugin gt    ',0
'Form getMaxSize      no custom format    Hi I found problem with format of  maxSize  property in component Form final Map lt String  Object gt  model   new HashMap lt String  Object gt    model put  exception   e  model put  maxSize   getMaxSize        the main problem is if you want modify  look and feel  of the Bytes format in error messages Can you add e g  new method String formatMaxSize   or something similar  The other solution is modification of toString of bean Bytes to get results look like    kB  now there is    K     this is not good for common users   Or is there other simple way how to do this Regards H    ',0
'onBeforeRender   set visibility of NavigationToolbar prevents it from showing again    This code in NavigationToolbar   Override protected void onBeforeRender     setVisible table getPageCount    gt      super onBeforeRender     makes impossible to show toolbar after it became hidden when using with Ajax  AjaxNavigationToolbar Possible solution   Override public boolean isVisible     return table getPageCount   gt        ',0
'Fix API documentation for DataTable    The example in the DataTable javadoc does not even compile  It says               snip              DataTable table   new DataTable  quot datatable quot   columns  new UserProvider         table add new NavigationToolbar table    table add new HeadersToolbar table    add table                          snip                                     It should rather be               snip              DataTable table   new DataTable  quot datatable quot   columns  new UserProvider         table addBottomToolbar new NavigationToolbar table    table addTopToolbar new HeadersToolbar table  null    add table                          snip                ',0
'WebApplication is not thread safe    Instance of class org apache wicket protocol http WebApplication is not thread safe being shared among several sessions  Concurrent access to it leads to errors because of the following    bufferedResponses field is initialized with a simple HashMap which is not thread safe and can be corrupted when different threads call addBufferedResponse  popBufferedResponse or sessionDestroyed methods concurrently  Here is the stack trace                            MSK             c RequestCycle E org apache wicket RequestCycle logRuntimeException  lt Null Message gt  java util ConcurrentModificationException at java util HashMap AbstractMapIterator checkConcurrentMod Unknown Source  at java util HashMap AbstractMapIterator makeNext Unknown Source  at java util HashMap KeyIterator next Unknown Source  at java util HashMap analyzeMap Unknown Source  at java util HashMap rehash Unknown Source  at java util HashMap rehash Unknown Source  at java util HashMap putImpl Unknown Source  at java util HashMap put Unknown Source  at org apache wicket protocol http WebApplication addBufferedResponse WebApplication java      at org apache wicket protocol http WebRequestCycle redirectTo WebRequestCycle java      at org apache wicket request target component PageRequestTarget respond PageRequestTarget java     at org apache wicket request AbstractRequestCycleProcessor respond AbstractRequestCycleProcessor java      at org apache wicket RequestCycle processEventsAndRespond RequestCycle java       at org apache wicket RequestCycle step RequestCycle java       at org apache wicket RequestCycle steps RequestCycle java       at org apache wicket RequestCycle request RequestCycle java      at org apache wicket protocol http WicketFilter doGet WicketFilter java      at org apache wicket protocol http WicketServlet doPost WicketServlet java      at javax servlet http HttpServlet service HttpServlet java      at javax servlet http HttpServlet service HttpServlet java      at com ibm ws webcontainer servlet ServletWrapper service ServletWrapper java       at com ibm ws webcontainer servlet ServletWrapper service ServletWrapper java       at com ibm ws webcontainer filter WebAppFilterChain doFilter WebAppFilterChain java        Class org apache wicket util collections MostRecentlyUsedMap is not thread safe and can be courrupted when different threads call addBufferedResponse  popBufferedResponse concurrently    ',0
'Form gets submitted using AjaxSubmitBehavior when sub form has error s    from http   www nabble com Should a form submit when sub form has error   s  tt         htmlI have a main form where I add a panel that contains another form This sub form contains a formvalidator that gives the error However the main form is submitted  but the feedbackpanel does show the error message set in the sub form s validator I ll attach   patches with testcases displaying the behavior in wicket     vs     As a side note  I had to rename the org apache wicket markup html form validation TestHomePage to org apache wicket markup html form validation HomePageTest to get the test to run when building wicket    ',0
'WicketTester clickLink on submitLink fails with conversion error    When clicking with WicketTester a submitlink that is situated outside a Form  clickLink doesn t process the input correctly  It tries to set null on the inputs  which fails for int properties for obvious reasons  I ve attached a quickstart that exhibits this behavior    ',0
'YUI library used by Wicket Extensions   DateTime isn t IE  compatible    YUI library included with Wicket Extensions   DateTime  and potentially others  is the version       which has compatability issues with Internet Explorer    The recommended version of YUIlib which is IE  compliant is       The specific issue I hit was DateTimeField causing block on loading almost random resources on my page  after a while IE  reported the following error       Webpage error detailsUser Agent  Mozilla      compatible  MSIE      Windows NT      Trident       NET CLR            NET CLR             NET CLR                 NET CLR           Timestamp  Thu    Apr               UTCMessage  Unknown runtime errorLine    Char      Code   URI       hidden to protect the guilty      YuiLib calendar calendar min js      Related discussion  http   www nabble com Layout Manager causing IE   to freeze  td         html   ',0
'java sql Timestamp converter bug    SqlTimestampConverter should produce a Date Time as output  but it only produces a time  SqlTimeConverter prints a simple time as expected Looking in the code SqlTimestampConverter  convertToString uses  DateFormat format   DateFormat getTimeInstance dateFormat  locale  when I think it should say  DateFormat format   DateFormat getDateTimeInstance DateFormat SHORT  DateFormat SHORT  locale  instead convertToObject would need a corresponding change to  DateFormat format   DateFormat getDateTimeInstance DateFormat SHORT  DateFormat SHORT  locale     ',0
'PageParameters always non empty    Say I mount MyBookmarkablePage like so mount new IndexedHybridUrlCodingStrategy   my bookmarkable  MyBookmarkablePage class   where public MyBookmarkablePage             public MyBookmarkablePage PageParameters params           When I call http   localhost      app my bookmarkable  just that plainurl  no trailing nothing   then I never get into the no argsconstructor  always in the params one  This because the params objectcomes with         which I feel is wrong Consequently  params containsKey      returns true   and here I haveto go and check if the value is not empty Note I m using IndexedHybridUrlCodingStrategy    ',0
'The JavaDoc for IPageLink still holds a reference to PageLink which is deprecated    The JavaDoc for IPageLink still holds a reference to PageLink which is deprecated   ',0
'open close div tags are rendered erroneously    Div tags are rendered erroneously if written as an open close tag  lt div  gt  is rendered as  lt div gt  with the closing tag appended at the end of page in wicket     rc   while  lt div gt  lt  div gt  is rendered correct  Div as open close tag works fine in wicket     rc  even though it gets rendered as separate open and close tags    ',0
'isComponent in BaseWicketTester contains possible nullpointer exception    When attempting to verify if a component exists  attempting to unit test a panel  the tester assertComponent   call fails due to a nullpointer This occurs when isComponent   in BaseWicketTester is called and fails to find a component from the last rendered page  Then the component getClass   in the following line will trigger the nullpointer exception A very simple fix would be to add a null check before attempting to check the type of the component to be able to provide a better error message    ',0
'Radio onComponentTag uses Objects equal instead of model comparator    Radio onComponentTag uses Objects equal instead of modelcomparator from RadioGroup  Because of that  it is impossible to use custom model comparator in RadioGroup asRadioGroup must contain values that pass equality check with values in Radios  otherwise  Radios aren t marked as checked in html     ',0
'When injecting more than one parm in a method  an ArrayIndexOutOfBoundsException is thrown    When using method injection that takes more than one parameter  an ArrayIndexOutOfBoundsException      is thrown  I ve isolated code to line    of org apache wicket guice GuiceProxyTargetLocator  parmTypes         i      should read parmTypes     i           I will attach a  simple  patch with this    ',0
' devutils  Can only inspect pages in same pagemap as the inspector    The InspectorPage presents a list of pagemaps and pages contained within them  with links to inspect the contents of each page ID However  when one of these is clicked it tries to resolve the page ID within the current pagemap of the inspector page itself  which is quite possibly not the case Here is a patch which passes the pagemap name alongside the page ID and looks it up appropropriately    ',0
'ClassCastException in SqlDateConverter    When converting a date string to a java sql Date you ll always get a ClassCastException like this one java lang ClassCastException  java util Date cannot be cast to java sql Date at org apache wicket util convert converters SqlDateConverter convertToObject SqlDateConverter java    Reason is DateFormat parse   returns a java util Date  which is cast to java sql Date  One solution would bereturn new Date   java util Date parse getDateFormat locale   value  locale   getTime   See https   issues apache org jira browse WICKET       ',0
'FormTester setValue should throw exception if not FormComponent    Should throw exception if not formComponent  public void setValue final String formComponentId  final String value    checkClosed    Component component   workingForm get formComponentId   if  component    null    throw new IllegalArgumentException   Unable to set value  Couldn t find component with name      formComponentId     if  component instanceof IFormSubmittingComponent    setFormSubmittingComponentValue  IFormSubmittingComponent component  value     else if  component instanceof FormComponent    setFormComponentValue  FormComponent lt   gt  component  value         ',0
'BaseWicketTester doesn t invoke Application newAjaxRequestTarget for ajax request target    When the BaseWicketTester creates a new ajax request target  it does not invoke the application but creates one by itself  This makes it impossible to use the tester when application specific ajax request target subclassing is used    ',0
'Form generates invalid html in appendDefaultButtonField    The javascript added to the button contains several unescaped  amp   such as  b  null amp  amp b onclick  null amp  amp typeof b onclick    these should be replaced with  amp   This was already mentioned in ticket       but that ticket is about another problem    ',0
'IChoiceRenderer generic type parameters are wrong throughout the AbstractChoice class hierarchy    All the AbstractChoice components currently make use of an IChoiceRenderer lt T gt   They should more properly make use of an IChoiceRenderer lt   super T gt   The excessive strictness of the type parameter prevents users from defining a singleton choicerenderer that can be used for a variety of different choice components for different but related classes Example use case  Most of my persistent beans implement INamedPersistentObject  providing getName   and getPrimaryKey   methods  This is enough to implement an IChoiceRenderer lt INamedPersistentObject gt   I wish to declare a singleton instance of this and reuse it for various choice components on various concrete types  but currently can t without messy casts I have set priority blocker on this bug because it is an API issue which really needs consideration before     is released  as depending on how strict an API ABI compatibility policy is used  it might be considered unfixable once     is released GA    ',0
'WicketTester does not accurately simulate scenario where entire page is added to AjaxRequestTarget    If the entire page is added to an AjaxRequestTarget  Wicket treats this as a special case  the normal ajax flow is aborted and the browser is asked to refetch the page in a normal  non ajax request For example  if this code is used public void onClick AjaxRequestTarget tgt   tgt addComponent getPage     This causes the browser to reload the page  you can see the location bar in the browser changing  The problem is that WicketTester does not simulate this scenario correctly  If you use WicketTester to test the onClick   listener in the example above  the page is not re rendered  You can verify this by instrumenting the onBeforeRender method for the page  it is never called So to summarize When the framework is run normally  AjaxRequestTarget addComponent Page  causes Wicket to start a completely new non ajax request response  However when the framework is run using WicketTester  a new request response is not executed    ',0
'DebugBar throws an java lang ExceptionInInitializerError when Tomcat is restarted    I have just added the DebugBar to our base page  and since then when Tomcat is restarted and session would be reloaded by this it throws this exception   ERROR org apache catalina session ManagerBase   Exception loading sessions from persistent storagejava lang ExceptionInInitializerError at sun misc Unsafe ensureClassInitialized Native Method  at sun reflect UnsafeFieldAccessorFactory newFieldAccessor UnsafeFieldAccessorFactory java     at sun reflect ReflectionFactory newFieldAccessor ReflectionFactory java      at java lang reflect Field acquireFieldAccessor Field java      at java lang reflect Field getFieldAccessor Field java      at java lang reflect Field getLong Field java      at java io ObjectStreamClass getDeclaredSUID ObjectStreamClass java       at java io ObjectStreamClass access     ObjectStreamClass java     at java io ObjectStreamClass   run ObjectStreamClass java      at java security AccessController doPrivileged Native Method  at java io ObjectStreamClass  lt init gt  ObjectStreamClass java      at java io ObjectStreamClass lookup ObjectStreamClass java      at java io ObjectStreamClass initNonProxy ObjectStreamClass java      at java io ObjectInputStream readNonProxyDesc ObjectInputStream java       at java io ObjectInputStream readClassDesc ObjectInputStream java       at java io ObjectInputStream readNonProxyDesc ObjectInputStream java       at java io ObjectInputStream readClassDesc ObjectInputStream java       at java io ObjectInputStream readOrdinaryObject ObjectInputStream java       at java io ObjectInputStream readObject  ObjectInputStream java       at java io ObjectInputStream readArray ObjectInputStream java       at java io ObjectInputStream readObject  ObjectInputStream java       at java io ObjectInputStream defaultReadFields ObjectInputStream java       at java io ObjectInputStream readSerialData ObjectInputStream java       at java io ObjectInputStream readOrdinaryObject ObjectInputStream java       at java io ObjectInputStream readObject  ObjectInputStream java       at java io ObjectInputStream defaultReadFields ObjectInputStream java       at java io ObjectInputStream defaultReadObject ObjectInputStream java      at org apache wicket Component readObject Component java       at sun reflect NativeMethodAccessorImpl invoke  Native Method  at sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java     at sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java     at java lang reflect Method invoke Method java      at java io ObjectStreamClass invokeReadObject ObjectStreamClass java      at java io ObjectInputStream readSerialData ObjectInputStream java       at java io ObjectInputStream readOrdinaryObject ObjectInputStream java       at java io ObjectInputStream readObject  ObjectInputStream java       at java io ObjectInputStream readArray ObjectInputStream java       at java io ObjectInputStream readObject  ObjectInputStream java       at java io ObjectInputStream defaultReadFields ObjectInputStream java       at java io ObjectInputStream readSerialData ObjectInputStream java       at java io ObjectInputStream readOrdinaryObject ObjectInputStream java       at java io ObjectInputStream readObject  ObjectInputStream java       at java io ObjectInputStream readObject ObjectInputStream java      at java util concurrent CopyOnWriteArrayList readObject CopyOnWriteArrayList java      at sun reflect NativeMethodAccessorImpl invoke  Native Method  at sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java     at sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java     at java lang reflect Method invoke Method java      at java io ObjectStreamClass invokeReadObject ObjectStreamClass java      at java io ObjectInputStream readSerialData ObjectInputStream java       at java io ObjectInputStream readOrdinaryObject ObjectInputStream java       at java io ObjectInputStream readObject  ObjectInputStream java       at java io ObjectInputStream defaultReadFields ObjectInputStream java       at java io ObjectInputStream readSerialData ObjectInputStream java       at java io ObjectInputStream readOrdinaryObject ObjectInputStream java       at java io ObjectInputStream readObject  ObjectInputStream java       at java io ObjectInputStream defaultReadFields ObjectInputStream java       at java io ObjectInputStream readSerialData ObjectInputStream java       at java io ObjectInputStream readOrdinaryObject ObjectInputStream java       at java io ObjectInputStream readObject  ObjectInputStream java       at java io ObjectInputStream defaultReadFields ObjectInputStream java       at java io ObjectInputStream readSerialData ObjectInputStream java       at java io ObjectInputStream readOrdinaryObject ObjectInputStream java       at java io ObjectInputStream readObject  ObjectInputStream java       at java io ObjectInputStream readArray ObjectInputStream java       at java io ObjectInputStream readObject  ObjectInputStream java       at java io ObjectInputStream defaultReadFields ObjectInputStream java       at java io ObjectInputStream defaultReadObject ObjectInputStream java      at org apache wicket Page readPageObject Page java       at org apache wicket Component readObject Component java       at sun reflect NativeMethodAccessorImpl invoke  Native Method  at sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java     at sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java     at java lang reflect Method invoke Method java      at java io ObjectStreamClass invokeReadObject ObjectStreamClass java      at java io ObjectInputStream readSerialData ObjectInputStream java       at java io ObjectInputStream readOrdinaryObject ObjectInputStream java       at java io ObjectInputStream readObject  ObjectInputStream java       at java io ObjectInputStream readObject ObjectInputStream java      at org apache wicket protocol http SecondLevelCacheSessionStore SecondLevelCachePageMap readObject SecondLevelCacheSessionStore java      at sun reflect NativeMethodAccessorImpl invoke  Native Method  at sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java     at sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java     at java lang reflect Method invoke Method java      at java io ObjectStreamClass invokeReadObject ObjectStreamClass java      at java io ObjectInputStream readSerialData ObjectInputStream java       at java io ObjectInputStream readOrdinaryObject ObjectInputStream java       at java io ObjectInputStream readObject  ObjectInputStream java       at java io ObjectInputStream readObject ObjectInputStream java      at org apache catalina session StandardSession readObject StandardSession java       at org apache catalina session StandardSession readObjectData StandardSession java      at org apache catalina session StandardManager doLoad StandardManager java      at org apache catalina session StandardManager load StandardManager java      at org apache catalina session StandardManager start StandardManager java      at org apache catalina core ContainerBase setManager ContainerBase java      at org apache catalina core StandardContext start StandardContext java       at org apache catalina core ContainerBase start ContainerBase java       at org apache catalina core StandardHost start StandardHost java      at org apache catalina core ContainerBase start ContainerBase java       at org apache catalina core StandardEngine start StandardEngine java      at org apache catalina core StandardService start StandardService java      at org apache catalina core StandardServer start StandardServer java      at org apache catalina startup Catalina start Catalina java      at sun reflect NativeMethodAccessorImpl invoke  Native Method  at sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java     at sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java     at java lang reflect Method invoke Method java      at org apache catalina startup Bootstrap start Bootstrap java      at org apache catalina startup Bootstrap main Bootstrap java     Caused by  org apache wicket WicketRuntimeException  There is no application attached to current thread main at org apache wicket Application get Application java      at org apache wicket devutils debugbar DebugBar getContributors DebugBar java      at org apache wicket devutils debugbar DebugBar registerContributor DebugBar java      at org apache wicket devutils debugbar DebugBar registerStandardContributors DebugBar java      at org apache wicket devutils debugbar DebugBar  lt clinit gt  DebugBar java             more   ',0
'IModel parameters of StringResourceModel not getting detached    StringResourceModel supports IModels in the  parameters  Object   thatare properly handled in StringResourceModel getString  meaning theycould get attached because of StringResourceModel  StringResourceModel should probably check the  parameters  array for IModels or even IDetachables   and detach them from StringResourceModel onDetach   ',0
'OutOfMemoryError occur for memory leak on FeedbackPanel   FeedbackMessages    When I uses component info   method to display a message  my program stopped by OutOfMemoryError or StackOverflowError  I create a sample application to show this problem  Open attached tar gz file including a maven project  and run  check  submit continuously  checkbox and click  register  button  The program will display current session size continuously on console  the size will be increased  and finally program will be stopped with OutOfMemoryError or StackOverflowError  But if you changes only one line  this program will not be stopped    original code    private SubmitLink insertLink   new SubmitLink  insertLink      public void onSubmit      info  message     setResponsePage new Test testFormBean     Session session   Session get     long size   session getSizeInBytes     LOGGER info  SESSION SIZE       size                                  changed           private SubmitLink insertLink   new SubmitLink  insertLink      public void onSubmit      Session get   info  message      CHANGED     setResponsePage new Test testFormBean     Session session   Session get     long size   session getSizeInBytes     LOGGER info  SESSION SIZE       size                                so component s info   method is the reason of this problem  If you commented out  info    line  this program never crashed  We found out the reason of this problem in a static inner class  MessageListView  in FeedbackPanel  MessageListView uses annonimous inner class of Model  named ad  replacementModel    and it imports a FeedbackMessage object from enclosing instance  FeedbackPanel holds this annonimous inner class and the annonimous inner class holds a FeedbackMessage  When we use component s info   method  the component is assigned into FeedbackMessage object as a  reporter  object  so  all of FeedbackMessage objects have a component instance inside of himself as  reporter   only one exception  if you use Session get   info   method instead of component s info   method   reporter  object become null   All already displayed FeedbackMessages will be purged at  detach  time from Session object  But FeedbackPanel holds FeedbackMessages  So when page is serialized  all FeedbackMessages  all  reporter  components is serialized  This is the reason of this problem  We can solve this problem if we do not hold FeedbackMessage instance in the annnonimous inner class change the code of FeedbackPanel as bellow  this code is based on FeedbackPanel class of wicket     rc   line          original code       Overrideprotected void populateItem final ListItem lt FeedbackMessage gt  listItem   final FeedbackMessage message   listItem getModelObject    message markRendered    final IModel lt String gt  replacementModel   new Model lt String gt      private static final long serialVersionUID    L      Returns feedbackPanel   the message level  eg  feedbackPanelERROR   This is used as the class of the li   span elements    see org apache wicket model IModel getObject       Override public String getObject     return getCSSClass message        final Component label   newMessageDisplayComponent  message   message   final AttributeModifier levelModifier   new AttributeModifier  class   replacementModel   label add levelModifier   listItem add levelModifier   listItem add label                            fixed code      Overrideprotected void populateItem final ListItem lt FeedbackMessage gt  listItem     FIXED message must not be  final   It must not be used in inner class    If message could be used in inner class  the instance could be hold by   inner class tacitly and never cleared at detach time and will be serialized  FeedbackMessage message   listItem getModelObject    message markRendered    final IModel lt String gt  replacementModel   new Model lt String gt      private static final long serialVersionUID    L      Returns feedbackPanel   the message level  eg  feedbackPanelERROR   This is used as the class of the li   span elements    see org apache wicket model IModel getObject       Override public String getObject   Unknown macro      FIXED    retrieve a FeedbackMessage object from ListView     s Model     never hold it   SuppressWarnings  quot unchecked quot   List lt FeedbackMessage gt  list    List lt FeedbackMessage gt   MessageListView this getDefaultModelObject    FeedbackMessage feedbackMessage   null  int index   listItem getIndex    if index  lt  list size      feedbackMessage   list get index     if feedbackMessage    null  return  quot  quot   return getCSSClass feedbackMessage     UNTIL HERE       final Component label   newMessageDisplayComponent  message   message   final AttributeModifier levelModifier   new AttributeModifier  class   replacementModel   label add levelModifier   listItem add levelModifier   listItem add label                          ',1
'JavaDoc  Some JavDoc examples still refer to WicketServlet    Some JavDoc examples still refer to WicketServlet  instead they should use WicketFilter Most important candidate might be   wicket spring src main java org apache wicket spring SpringWebApplicationFactory javagrep    R   include    java   e  WicketServlet indicates that others might be affected too    ',1
'Tag   has a mismatched close tag at       in the wicket auth roles     rc  jar  org apache wicket authentication panel SignInPanel ja html tag   lt BODY gt  has a mismatched close tag at   lt  SPAN gt     ',0
'MarkupComponentBorder fails to close stream        MarkupComponentBorder  in findMarkupStream  creates a MarkupResourceStream but doesn t close it Shouldn t this stream be closed after the call to Application get   getMarkupSettings   getMarkupParserFactory   newMarkupParser markupResourceStream  parse        ',0
'KittenCaptcha example broken    KittenCaptcha example brokenNullpointer thrownERROR   RequestCycle   java lang NullPointerException at org apache wicket extensions captcha kittens KittenCaptchaPanel   onEvent KittenCaptchaPanel java      at org apache wicket ajax AjaxEventBehavior respond AjaxEventBehavior java      at org apache wicket ajax AbstractDefaultAjaxBehavior onRequest AbstractDefaultAjaxBehavior java     Following diff does the trick  But maybe this is platform dependent as I currently can test undre linux environment Index  src main java org apache wicket extensions captcha kittens KittenCaptchaPanel java                                                                           src main java org apache wicket extensions captcha kittens KittenCaptchaPanel java  revision            src main java org apache wicket extensions captcha kittens KittenCaptchaPanel java  working copy                        ajax request passing in mouse co ordinates return generateCallbackScript  showLoadingIndicator    wicketAjaxGet      getCallbackUrl onlyTargetActivePage      amp x     getEventX this  event      amp y     getEventY this  event        amp x     getEventX this  event      amp y     getEventY this  event        SuppressWarnings  unchecked     ',0
'DateField newDateTextField s parameters should be generified    protected DateTextField newDateTextField String id  PropertyModel lt Date gt  dateFieldModel    return DateTextField forShortStyle id  dateFieldModel       ',0
'Quickstart for     uses     dtd in HomePage html  with patch     The generated HomePage html contains the following header  lt html xmlns wicket  http   wicket apache org dtds data wicket xhtml    strict dtd   gt That should be  lt html xmlns wicket  http   wicket apache org dtds data wicket xhtml    strict dtd   gt    ',0
'DefaultDataTable hides NavigationToolbar once and forever    DefaultDataTable does not show NavigationToolbar if initial data does not require more than one page DefaultDataTable hides and does not show NavigationToolbar again if data one time does not require more than one page     ',0
'Not all  domready  events are called when two wicket event js files are added to the page    When more than one wicket portlets run in a portal a page could get more than one wicket event js entry and more than one Wicket Event add window   domready   function            In this case not all of these  domready  functions are executed  It happens because Wicket Event object is created every time browser reaches wicket event js entry declaration which in turn causes Wicket Event fireDomReadyHandlers function to execute not all functions  this function is called only once when the global variable  window loaded  is set to false  Attached patch fixes the problem by ensuring that Wicket Event object is created only once    ',0
'OnChangeAjaxBehavior   DatePicker do not work together    DatePicker fails to notify component update when OnChangeAjaxBehavior is used on the target input It works well with AjaxFormComponentUpdatingBehavior The root cause seems to be in the Wicket ChangeHandler added by the OnChangeAjaxBehavior  which hides user handler while the DatePicker calls onchange handler directly  wicket date js      if  field onchange    null  amp  amp  typeof field onchange      undefined   field onchange    Possible fix could be dispatching onchange Event instead of direct handler invocation  Yet I don t know what is purpose of Wicket ChangeHandler here      ',0
' Couldn t resolve model type of Model  for PasswordTextField    When using PasswordTextField with CompoundPropertyModel mapped with the Map lt String  String gt  I get the following warning Couldn t resolve model type of Model classname      org apache wicket model CompoundPropertyModel AttachedCompoundPropertyModel      nestedModel  Model classname      org apache wicket model CompoundPropertyModel      nestedModel      org apache wicket util collections MiniMap       e       for  MarkupContainer      Component id   password        please set the type yourself This message is fixed if to set password field type manually  new PasswordTextField     setType String class I propose PasswordTextField to use String class type by default   ',0
'Ajax support for multipart forms broken in a nested form    Ajax support for multipart forms broken in case of using a nested multipart form  The file does not get uploaded  uploadField getFileUpload   returns null    ',0
'RequestCycle urlFor ignores existing parameters when appending provided params    Link with listener and non empty parameters  built in the following fashion  getRequestCycle   urlFor this  ILinkListener INTERFACE  parameters  isn t formed correctly at RequestCycle     AppendingStringBuffer buff   new AppendingStringBuffer url  WebRequestEncoder encoder   new WebRequestEncoder buff  This WebRequestEncoder doesn t check  if the parameters are already present in the url provided In my case  the url from CharSequence url   encodeUrlFor target   is already similar to   wicket interface    admin container tabbedPanel panel apartments   apartmentAddressEditLink   ILinkListener  What WebRequestEncoder does when appending parameters provided explicitly   it simply appends     mark and then the parameters list So resulting url is incorrect and doesn t work  wicket interface    admin container tabbedPanel panel apartments   apartmentAddressEditLink   ILinkListener   height     amp width     notice leading  height     amp width         ',0
'Form findForm Component c  bug  When form is part of Border and form component like TextField is inside another Border   component cannot resolve its form     I have Border class which renders Form and some other elements for feedback messages  Class included in attachments  Into this border i am putting form component which is Panel and in that Panel is another Border  Borders form has body container added When i submit form i get error  Could not find Form parent for     It s because Form findForm method search for Form class just in nearest component Border and not in all Borders upper in hierarchy    ',0
'javadoc the CryptedUrlWebRequestCodingStrategy needs to be update corrected to reflect the usage of session id for encryption and hence URLs which were bookmarkable before will NOT remain bookmarkable     The javadoc for CryptedUrlWebRequestCodingStrategy needs to be updated corrected to reflect the usage of sessionId for encryption  which also entails that the urls which were bookmarkable before will NOT be remain bookmarkable any more The javadoc currently state  Because the algorithm is reversible  URLs which were bookmarkable before will remain bookmarkable    which is not true anymore    ',0
'AjaxEditableChoiceLabel does not detach choices model    The component org apache wicket extensions ajax markup html AjaxEditableChoiceLabel never detaches its choices list model  thus keeping this model attached indefinitely  It should detach when the component s own detach method is called  like eg  this  Overridepublic void detachModels     choices detach    super detachModels       ',0
'Button onSubmit javadoc is misleading    The javadoc in org apache wicket markup html form Button onSubmit   is misleading  It says  Override this method to provide special submit handling in a multi button form  It is called whenever the user clicks this particular button   In reality  the method doesn t get called if the form s validation fails  Not sure if there are other cases as well when the method doesn t get called    ',0
'Regression   Could not find child with id   in the wicket enclosure  for non component tag    Attached testcase passes with wicket       but fails with       saying org apache wicket WicketRuntimeException  Could not find child with id  radio in the wicket enclosure at org apache wicket markup html internal Enclosure checkChildComponent Enclosure java      at org apache wicket markup html internal Enclosure ensureAllChildrenPresent Enclosure java      at org apache wicket markup html internal Enclosure onComponentTagBody Enclosure java      at org apache wicket Component renderComponent Component java       at org apache wicket MarkupContainer onRender MarkupContainer java       at org apache wicket Component render Component java       at org apache wicket MarkupContainer autoAdd MarkupContainer java      at org apache wicket markup resolver EnclosureResolver resolve EnclosureResolver java     at org apache wicket markup resolver ComponentResolvers resolve ComponentResolvers java     at org apache wicket MarkupContainer renderNext MarkupContainer java       at org apache wicket MarkupContainer renderComponentTagBody MarkupContainer java       at org apache wicket MarkupContainer onComponentTagBody MarkupContainer java       at org apache wicket Component renderComponent Component java       at org apache wicket MarkupContainer onRender MarkupContainer java       at org apache wicket Component render Component java       at org apache wicket MarkupContainer renderNext MarkupContainer java       at org apache wicket MarkupContainer renderAll MarkupContainer java       at org apache wicket Page onRender Page java       at org apache wicket Component render Component java       at org apache wicket Page renderPage Page java      at org apache wicket request target component BookmarkablePageRequestTarget respond BookmarkablePageRequestTarget java      at org apache wicket request AbstractRequestCycleProcessor respond AbstractRequestCycleProcessor java      at org apache wicket RequestCycle processEventsAndRespond RequestCycle java       at org apache wicket RequestCycle step RequestCycle java       at org apache wicket RequestCycle steps RequestCycle java       at org apache wicket RequestCycle request RequestCycle java      at org apache wicket protocol http MockWebApplication processRequestCycle MockWebApplication java      at org apache wicket protocol http MockWebApplication processRequestCycle MockWebApplication java      at org apache wicket util tester BaseWicketTester startPage BaseWicketTester java      at org apache wicket EnclosurePageTest testRender EnclosurePageTest java     at sun reflect NativeMethodAccessorImpl invoke  Native Method  at sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java     at sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java     at java lang reflect Method invoke Method java      at junit framework TestCase runTest TestCase java      at junit framework TestCase runBare TestCase java      at junit framework TestResult   protect TestResult java      at junit framework TestResult runProtected TestResult java      at junit framework TestResult run TestResult java      at junit framework TestCase run TestCase java      at junit framework TestSuite runTest TestSuite java      at junit framework TestSuite run TestSuite java      at sun reflect NativeMethodAccessorImpl invoke  Native Method  at sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java     at sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java     at java lang reflect Method invoke Method java      at org apache maven surefire junit JUnitTestSet execute JUnitTestSet java      at org apache maven surefire suite AbstractDirectoryTestSuite executeTestSet AbstractDirectoryTestSuite java      at org apache maven surefire suite AbstractDirectoryTestSuite execute AbstractDirectoryTestSuite java      at org apache maven surefire Surefire run Surefire java      at sun reflect NativeMethodAccessorImpl invoke  Native Method  at sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java     at sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java     at java lang reflect Method invoke Method java      at org apache maven surefire booter SurefireBooter runSuitesInProcess SurefireBooter java      at org apache maven surefire booter SurefireBooter main SurefireBooter java         ',0
'NullPointerException in BehaviorRequestTarget processEvents BehaviorRequestTarget java        When had the following exception occurring in a production system  while running  java lang NullPointerException at org apache wicket request target component listener BehaviorRequestTarget processEvents BehaviorRequestTarget java     at org apache wicket request AbstractRequestCycleProcessor processEvents AbstractRequestCycleProcessor java     at org apache wicket RequestCycle processEventsAndRespond RequestCycle java       at org apache wicket RequestCycle step RequestCycle java       at org apache wicket RequestCycle steps RequestCycle java       at org apache wicket RequestCycle request RequestCycle java      at org apache wicket protocol http WicketFilter doGet WicketFilter java      at org apache wicket protocol http WicketFilter doFilter WicketFilter java      at com caucho server dispatch FilterFilterChain doFilter FilterFilterChain java     at org codesmell jpsak servlet EntityManagerFilter doFilter EntityManagerFilter java     at com caucho server dispatch FilterFilterChain doFilter FilterFilterChain java     at com softculture services errornotification wicket ENFilter doFilter ENFilter java     at com caucho server dispatch FilterFilterChain doFilter FilterFilterChain java     at com caucho server webapp WebAppFilterChain doFilter WebAppFilterChain java      at com caucho server dispatch ServletInvocation service ServletInvocation java      at com caucho server hmux HmuxRequest handleRequest HmuxRequest java      at com caucho server port TcpConnection handleConnection TcpConnection java      at com caucho server port TcpConnection KeepaliveTask run TcpConnection java       at com caucho util ThreadPool Item runTasks ThreadPool java      at com caucho util ThreadPool Item run ThreadPool java      at java lang Thread run Thread java     At least checking for null when doing  if  behaviors size    gt  idAsInt   in BehaviorRequestTarget would be good  maybe more is to be done     ',0
'Use of Object instead of generic T in StringAutoCompleteRenderer    The method getTextValue is defined in org apache wicket extensions ajax markup html autocomplete AbstractAutoCompleteRenderer as  protected abstract String getTextValue T object     but overridden in StringAutoCompleteRenderer as      see AbstractAutoCompleteTextRenderer getTextValue Object  protected String getTextValue Object object    return object toString     The Javadoc implies that the intention is to override the superclass  method  I think the parameter type should be changed from Object to T I recommend that when using something like T  to name the parameter  value  rather than  object    object  is misleading  as  by convention  it implies that its data type is Object    ',0
'Easy fix suggestion  In BaseWicketTester  IFormSubmitting  component should be the submitting component  not just a  Button     Line  if     formComponent instanceof Button   amp  amp   component instanceof Button      should be changed intoLine  if     formComponent instanceof IFormSubmittingComponent   amp  amp   component instanceof IFormSubmittingComponent      See attached quickstart    ',0
'Class not found when using OSGI class loader    I am presently using Guice and OSGi  Our OSGi platform is used as a plugin platform for our web application  We load the OSGi framework and load it into Guice as a service provider  The plugins can be used to return panel or other wicket components that are then used in the pages When one of the plugins components have a Guice injection  there is a class not found problem that is seen when trying to use injected stuff   org apache wicket guice GuiceProxyTargetLocator locateProxyTarget GuiceProxyTargetLocator java    This class not found is because the Guice injector is trying to access the class directly by making a Class forName  Since using an OSGi framework  the classloader is not capable of returning the class correctly To solve this issue  the wicket guice integration should use the wicket Classes resolveClass static method that is using a class resolver that can be changed and check for class in other class loader    ',0
'MetaDataKey does not meet hashCode   contract    The class MetaDataKey overrides equals   method but uses Object hashCode    So FindBugs warns on any use of this class in our Wicket application    ',0
'WebRequestCodingStrategy assumes that a shared resource URL should always be relative to the Wicket handler    We use an absolute URL for the shared resources and as long as the page is directly under the Servlet context we have no problems  but for pages that have additional paths  then it is converted into a bad relative URL  For Example  cjs app test page   This page s shared resource URLs are not modified  so http   localhost      crtv css cjs      B css is correct cjs app orders contentbuilder page   This page s shared resource URLs are all modified causing them to be    http   localhost      crtv css cjs      B css  which is bad  and of course with JavaScript it causes us a lot of problemsI propose a simple fix in method  public final CharSequence encode final RequestCycle requestCycle  final IRequestTarget requestTarget Change the following line from if   sharedResourceURL  amp  amp  portletRequest To if  url toString   startsWith  http         url toString   startsWith  https           sharedResourceURL  amp  amp  portletRequest  Thanks    ',0
'Unnecessary method calls in IDataProvider    Referring to the post on the mailinglist  http   old nabble com Unnecessary method calls in IDataProvider  ts         html   here s a quick summary of the problem If the size   method of an IDataProvider returns zero  the iterator int int  method should not be called  Calling this method with value zero as second parameter     count  always results in returning an empty iterator  Therefore a lot of unnecessary method calls  and thus a lot of unnecessary database hits  could be saved if an empty iterator would be used by the DataView whenever size   returns an int  lt     Please find a project attached with a junit test that illustrates the problem  I tested it with all major releases from        down to        with the same result    ',1
'Inheritance layout excludes XML header from output    When using inheritance layout  if the superclass  Layout class  has an  xml header at the top  it s excluded from the rendering of subclasses  if they have an associated html file  If the subclass has no  html file associated with it  the  xml header is preserved in the rendering output To reproduce  Create a SuperPage class extending WebPage  At the top of SuperPage html  put   lt  xml version       encoding  utf     gt     Create two subclasses of SuperPage  one with an HTML file and one without  View the sub pages  Notice when the one with an HTML file is rendered  the xml header is excluded Expected  The  xml header should always be preserved in the rendered output as it s vital to the layout    ',0
'Javadoc of Component setOutputMarkupPlaceholderTag is wrong    The javadoc of Component setOutputMarkupPlaceholderTag uses the term  componentid  where it should use  markupid  Please update the javadoc from  The tag is of form   lt componenttag style  display none   id  componentid   gt  to The tag is of form   lt componenttag style  display none   id  markupid   gt     ',0
'Ajax multipart fails for inner forms added via ajax    When using a file upload in a nested form  e g  as required when using modal windows   the file upload will always return null  This bug seems related to WICKET      which was supposed to be fixed in wicket        but in wicket       this effect was observed by several people  see mailing list     ',0
'Some components still escape non ASCII symbols by default    With fix for WICKET      Wicket  almost  stopped escaping non ASCII symbols by default  it calls Strings escapeMarkup String  or Strings escapeMarkup String  false  false  However  there are still some places that also call Strings escapeMarkup with different args I used  Strings escapeMarkup         false  true       regex to find them AbstractChoice escapeOptionHtml CheckBoxMultipleChoice onComponentTagBody  the reason i started to dig into this issue RadioChoice onComponentTagBodyThey should either call String escapeMarkup String  or even use Component getDefaultModelObjectAsString   ',0
'EnumChoiceRenderer misbehaves with anonymous enum classes    Please find attached testcase reproducing the problem Proper fix is to doreturn object getDeclaringClass   getSimpleName           object name  instead ofreturn object getClass   getSimpleName           object name  in EnumChoiceRenderer resourceKey   ',0
'DataTable generates two    The tables generated by DataTable component in the current version of Wicket         do not contain  lt thead gt  in the output HTML It was working correctly in wicket       but there were some changes to fix other issues   see WICKET     To replicate   launch the wicket examples       war and look at the DataTable example http   localhost      wicket examples       repeater  wicket bookmarkablePage  org apache wicket examples repeater DataTablePageIf you check the HTML source you will see it does not contain thead tag  html  lt table class  dataview  cellspacing     gt   lt tr class  navigation  gt  html When you look at http   www wicket library com wicket examples repeater  wicket bookmarkablePage  org apache wicket examples repeater DataTablePageit shows  html  lt table class  dataview  cellspacing     gt  lt thead gt   lt tr class  navigation  gt  html Must be a previous version    ',0
'Ajax buttons inside ModalWindows don t submit properly    I have a ModalWindow that contains an IndicatingAjaxButton  When I click the button  I get a big Java error complaining that the form submit wasn t multipart Digging into the javascript in wicket ajax js  I found this from line      in the method handleMultipartmultipart multipart  form enctype   multipart form data  if  multipart  false       nothing to handle return false   When this executed  multipart was false  and enctype was    and therefore the submit aborted  This may be the cause Here s the Java stacktracejava lang IllegalStateException  ServletRequest does not contain multipart content at org apache wicket protocol http servlet MultipartServletWebRequest  lt init gt  MultipartServletWebRequest java      at org apache wicket protocol http servlet MultipartServletWebRequest  lt init gt  MultipartServletWebRequest java     at org apache wicket extensions ajax markup html form upload MultipartRequest  lt init gt  MultipartRequest java     at org apache wicket extensions ajax markup html form upload UploadWebRequest newMultipartWebRequest UploadWebRequest java     at org apache wicket markup html form Form handleMultiPart Form java       at org apache wicket markup html form Form onFormSubmitted Form java      at org apache wicket ajax form AjaxFormSubmitBehavior onEvent AjaxFormSubmitBehavior java      at org apache wicket ajax AjaxEventBehavior respond AjaxEventBehavior java      at org apache wicket ajax AbstractDefaultAjaxBehavior onRequest AbstractDefaultAjaxBehavior java      at org apache wicket request target component listener BehaviorRequestTarget processEvents BehaviorRequestTarget java      at org apache wicket request AbstractRequestCycleProcessor processEvents AbstractRequestCycleProcessor java     at org apache wicket RequestCycle processEventsAndRespond RequestCycle java       at org apache wicket RequestCycle step RequestCycle java       at org apache wicket RequestCycle steps RequestCycle java       at org apache wicket RequestCycle request RequestCycle java      at org apache wicket protocol http WicketFilter doGet WicketFilter java      at org apache wicket protocol http WicketFilter doFilter WicketFilter java      at org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java        ',0
'MockHttpServletResponse doesn t delete cookies    From Cookie setMaxAge javadoc   param expiry an integer specifying the maximum age of the cookie in seconds  if negative  means the cookie is not stored  if zero  deletes the cookieSo  if maxAge is zero  MockHttpServletResponse should remove cookie    ',0
'Sucessfull login on SignInPanel causes HomePage to become stateful    Quickstart attached Steps to reproduce   Unpack attached quickstart   mvn jetty run   Open http   localhost      login   Enter any credentialsExpected  StatelessHomePage opensActual  exception happends  StatelessHomePage isn t statelessProblem analysis    SignInForm manually creates page    AbstractListenerInterfaceRequestTarget onProcessEvents calls requestCycle setRedirect true    RequestCycle urlFor final Component component  final RequestListenerInterface listener  ValueMap params  calls page setPageStateless Boolean FALSE    StatelessChecker isn t happy Fix is simple   SignInForm onSignInSucceeded should be if   continueToOriginalDestination     setResponsePage getApplication   getHomePage        ',0
'Form isMultipart   doesn t check FormComponent isMultipart   on nested components    Form isMultipart   doesn t check FormComponent isMultipart   on nested components  This breaks submitting of stateless forms with multipart FormComponent but no explicit Form setMultipart true  call    ',0
'More pages missing xml prolog    InternalErrorPage htmlExceptionErrorPage html   ',0
'Resources aren t gziped by default    Wicket gzips its resources by default  The only exception is wicket datetime module I think it is worth to use the same policy within wicket subprojects  especially taking into account that usage of DatePicker adds more than     Kb of uncompressed java scripts Here are an headers of request and response Request headers Host               User Agent Mozilla      X    U  Linux x       ru  rv          Gecko          Ubuntu       karmic  Firefox      Accept  Accept Language ru en us q     en q    Accept Encoding gzip deflateAccept Charset windows      utf   q       q    Keep Alive    Connection keep aliveReferer http                   t  Response headers Server Apache Coyote    Last Modified Mon     Dec               GMTExpires Mon     Dec               GMTCache Control max age     Content Type text javascript charset UTF  Content Length      Date Mon     Dec               GMT   ',1
'Consistently create body for short tags     When the Wicket HTML contains a tag such as  lt a wicket id  foo    gt  and the component bound to that tag uses replaceComponentTagBody to write a string to the tag s body  currently nothing happens Either a text node should be added to the component tag and the body written to it Or a warning exception should occur if for some reason it is preferred to not let this method succeed when the component tag has no body yet I don t see the use of the latter  so I recommend the former be implemented For now it s just confusing and dangerous  If I give my HTML to a web designed and he changes a few empty HTML tags to short tags  I ll never be warned  but my output WILL be broken    ',0
'WicketTester javadocs are referring in many places to a component s path but it s not documented anywhere    In many places in the WicketTester javadoc there are references to a path parameter explained in the following way  path   path to ComponentBut it s not explained anywhere what a path is  what does it contains  which separator is used there  what s the root of it and so on Practically  it s impossible understanding how to use WicketTester from its javadoc because of that    ',0
'Multipart forms fails on Chrome during Ajax submit    AjaxSubmitLink doesn t work with multipart forms on Google Chrome  AjaxSubmitLink calls wicketSubmitFormById in its onClick handler  When submiting multipart form this function creates hidden iframe and attaches handleMultipartComplete function to the onload event handleMultipartComplete calls loadedCallback with envelope parameter  On Google Chrome envelope is undefined so loadedCallback craches   Could not find root  lt ajax response gt  element  is reported  I dig more and I found that handleMultipartComplete is called before server side callback completes  thats why  envelope  is undefined       ',0
'Wickettester executeAllTimerBehaviors executes stopped behaviors too    When attempting to test a page with two ajax timer behaviours the first behaviour is triggered correctly  Then that behaviour is stopped  using the stop function  and a second behaviour is started  If executeAllTimerBehaviors is called again both behaviours are triggered even though one is stopped It would be good if the code in BaseWicketTester executeAllTimerBehaviors MarkupContainer container  could validate if the behaviour is stopped or not before trying to execute it    ',0
'Enclosure causes Nullpointer exception    There is a bug in DirectChildTagIterator which causes a Nullpointer exception with the following stack trace Caused by  java lang NullPointerException at org apache wicket markup html internal DirectChildTagIterator findNext DirectChildTagIterator java      at org apache wicket markup html internal DirectChildTagIterator next DirectChildTagIterator java     at org apache wicket markup html internal Enclosure ensureAllChildrenPresent Enclosure java      at org apache wicket markup html internal Enclosure onComponentTagBody Enclosure java      at org apache wicket Component renderComponent Component java               moreThe problem is in this code fragment while  markupStream hasMore     final MarkupElement cursor   markupStream next    if  cursor closes parent  markupStream hasMore   checks if the currentindex is available to retrieve  while markupStream next   doesn t retrieve the currentindex  but tries to retrieve the currentindex     element  The right function to get the current element is markupStream get    To fix this  it should be like this while  markupStream hasMore      final MarkupElement cursor   markupStream get    markupStream next    if  cursor closes parent  The best fix is imo to make next   in MarkupStream a void method  which will prevent this in the future    ',0
'CryptedUrlWebRequestCodingStrategy fails in form with method  get     A form fails to submit when it has method  get  set in a wicket application which is using CryptedUrlWebRequestCodingStrategy This happens because the form is constructed by wicket like this  lt form wicket id  form   method  get  id  form    action    gt   lt div style  display none  gt   lt input type  hidden  name  form   hf    id  form   hf      gt   lt input type  hidden  name  x  value  vcH  yiA z xdg  IZiML  IPOzB CaoynoU UPAVS n G S bamuw    gt   lt  div gt   lt input type  text  wicket id  text   value    name  text    gt   lt input type  submit   gt  lt  form gt which can produce a query string in firefox like this http   localhost      crypt bug  form   hf    amp x YhsA niKQasfMz FBHuRP lLAZXPdZy s XWlmYcu WwhnsP VusYw amp text  test x  is the second parameter in the query string  but CryptedUrlWebRequestCodingStrategy accesses this parameter as   x   where in this case it is   amp x  I am attaching the example quickstart app and a possible fix    ',0
'update PropertyColumn Javadoc    hi i find the documentation of the gentrified type T of the org apache wicket extensions markup html repeater data table PropertyColumn a bit misleading  I suggest the javadoc should state  The Model object type  for  lt T gt  instead of  The type of the property  thanks pete    ',0
'FormComponent MessageSource getMessage String  and getValidatorKeyPrefix      I tried to use the getValidatorKeyPrefix   feature to have a more suitable translation key for a RequiredTextField and the    required    message But Wicket wasn t able to find my key   the debug log said that it couldn t find my key whereas it is well formed  getValidatorKeyPrefix       Required   So i debugged the getMessage String  and I understood the problem  Arround the line      in Wicket        we find     If not found try a more general form      prefix           key     if  Strings isEmpty message   resource   prefix prefix  key  message   getString localizer  key  formComponent   The comment is good  but the code is wrong   the resource variable isn t used in the getString         I think it s a kind of bad copy paste from surrounding code We should find  message   getString localizer  resource  formComponent  I did it and it works    ',0
'AjaxFormChoiceComponentUpdatingBehavior cannot find the choice    AjaxFormChoiceComponentUpdatingBehavior tries to find the form components  the choices  by iterating the children elements with tagName  input  and verifying some constraints  One of this constraints have been changed recently and now the children could not be found Index  src main java org apache wicket ajax form AjaxFormChoiceComponentUpdatingBehavior java                                                                           src main java org apache wicket ajax form AjaxFormChoiceComponentUpdatingBehavior java  revision            src main java org apache wicket ajax form AjaxFormChoiceComponentUpdatingBehavior java  working copy                   asb append   for  var i       i  lt  inputNodes length   i       n    asb append   var inputNode   inputNodes     i       n    asb append   if   inputNode type  continue  n    asb append   if    inputNode className indexOf  wicket   markupId        continue  n     asb append   if    inputNode id indexOf markupId            continue  n    asb append   var inputType   inputNode type toLowerCase    n    asb append   if  inputType     checkbox     inputType     radio     n    asb append   Wicket Event add inputNode   click   callbackScript   n      ',0
'Javascript in Form registerJavascriptNamespaces   fails in Firefox          The undefined comparisons fail for me with a message stating that the Wicket variable is undefined  which the code is actually meant to check    ',0
'DatePicker Calendar  wrong year format when   digits are used  yyyy   e g                   I found that there is still a bug in Wicket       in case that the datePattern is  dd MM yyyy  For example  if you use the DatePicker and select a date such as           from the calendar GUI  the date selected in the DateTextField is              This is the example Java code     define the date text field for the data decorrenza DateTextField dataDecorrenzaDaTextField   new DateTextField  dataDecorrenzaDa   new PropertyModel this accordo   dataDecorrenzaDa    new PatternDateConverter  dd MM yyyy   true        add the graphical calendar date picker dataDecorrenzaDaTextField add new DatePicker      Override protected boolean enableMonthYearSelection        enable month year selection return true       end enableMonthYearSelection      end DatePicker   I found that the bug is still in the  wicket date js   line     The wrong code is if datePattern match  yy     year   Wicket DateTime padDateFragment year        This line also makes the module     on the year  when the year pattern is  yyyy  The fixed code is if datePattern match  yyyy       year   year   else if datePattern match  yy     year   Wicket DateTime padDateFragment year           ',0
'ListMultipleChoice  updateModel method looses the value submitted from the select control    ListMultipleChoice looses the value submitted from client in certain conditions  This is because the collection returned by getConvertedInput   is passed to model setObject    and later  when the model is modified  converted input is affected too   see ListMultipleChoice java  line     in svn revision         Simple page reproducing this bug under wicket       is attached Key points in the code  required to reproduce the problem    The Form component is wrapped by a Border component   The model used flor ListMultipleChoice initially returns null from the getObject   method  To see the error open the attached page in browser  select something in the list  press Submit Resulting message in the feedback panel will be   submitted values       i e  the the submit handler sees empty list in the model Expected  submit handler must see list of the values selected in the list by user The reason of the error    Method Form internalUpdateFormComponentModels   in Wicket       calls  ListMultipleChoice updateModel   two times when the form is wrapped by a border  private void internalUpdateFormComponentModels     FormComponent visitComponentsPostOrder this  new FormModelUpdateVisitor this    MarkupContainer border   findParent Border class   if  border    null    FormComponent visitComponentsPostOrder border  new FormModelUpdateVisitor this          On the first call of the ListMultipleChoice updateModel the result of getConvertedInput    is stored in the model  line       Now model and getConvertedInput   share the same collection  On the second call  the collection retrieved from model is cleared  line       and  then getConvertedInput   is used again  but now it returns the empty collection      public void updateModel           Collection lt T gt  selectedValues   getModelObject       if  selectedValues    null             selectedValues clear       selectedValues addAll getConvertedInput                else         selectedValues   getConvertedInput       setDefaultModelObject selectedValues            I would suggest to not share the collection between getConvertedInput   and the model     selectedValues   getConvertedInput    selectedValues   new ArrayList lt T gt  selectedValues      setDefaultModelObject selectedValues     ',0
'Textarea ignores first line in case of blank line    When the content of a textarea starts with an empty line  this line disappears when it is placed in the html This is a known problem with the html textarea element  lt textarea gt test lt  textarea gt  will result in the same as  lt textarea gt test lt  textarea gt Meaning that the first newline in the textarea is ignored  In case of opening a page with a textarea with a leading blank line  this line will be removed when the form is submitted again See for similar issues in the apache jira STR      and BEEHIVE     A possible solution is to change the following method in org apache wicket markup html form TextArea in something like  protected final void onComponentTagBody final MarkupStream markupStream  final ComponentTag openTag    checkComponentTag openTag   textarea    String value   getValue    if  value    null  amp  amp  value startsWith   n      value     n    value    else if  value    null  amp  amp  value startsWith   r n      value     r n    value    else if  value    null  amp  amp  value startsWith   r      value     r    value    replaceComponentTagBody markupStream  openTag  value      ',0
'Palette nested in a ListView results in a NPE when an error feedback is logged when submitting form    Reproducing steps    Put TestPage html and TestPage java into a wicket application  visit test page    Hit the save button and NullPointerException will be thrown indicating the  ids  field of component Palette Recorder is not initializedIf taken Palette outside of ListView  the code will work fine  TestPage html  lt  DOCTYPE html PUBLIC     W C  DTD XHTML     Strict  EN   http   www w  org TR xhtml  DTD xhtml  strict dtd  gt  lt  xml version       encoding  UTF     gt  lt html xmlns  http   www w  org      xhtml  gt   lt head gt   lt meta http equiv  Content Type  content  text html  charset utf     gt   lt  head gt   lt body gt   lt form wicket id  form  gt   lt div wicket id  palettes  gt   lt div wicket id  palette  gt  lt  div gt   lt  div gt   lt input type  submit  value  save  gt  lt  input gt   lt  form gt   lt div wicket id  feedback  gt  lt  div gt   lt  body gt  lt  html gt TestPage java import java util ArrayList import java util List import org apache wicket extensions markup html form palette Palette import org apache wicket feedback ContainerFeedbackMessageFilter import org apache wicket markup html WebPage import org apache wicket markup html form Form import org apache wicket markup html form IChoiceRenderer import org apache wicket markup html list ListItem import org apache wicket markup html list ListView import org apache wicket markup html panel FeedbackPanel import org apache wicket model AbstractReadOnlyModel import org apache wicket model IModel public class TestPage extends WebPage    SuppressWarnings    unchecked    serial     public TestPage     Form form   new Form  form      Override protected void onSubmit     error  Please select a value          add form   List lt String gt  list   new ArrayList lt String gt     list add       form add new ListView  palettes   list     Override protected void populateItem ListItem item    IChoiceRenderer renderer   new IChoiceRenderer     public Object getDisplayValue Object object    return object    public String getIdValue Object object  int index    return  String  object       final List selected   new ArrayList    IModel model   new IModel     public Object getObject     return selected    public void setObject Object object    selected clear    selected addAll  List  object     public void detach          IModel choicesModel   new AbstractReadOnlyModel      Override public Object getObject     final List lt String gt  choices   new ArrayList lt String gt     choices add       choices add       return choices       item add new Palette  palette   model  choicesModel  renderer      false          add new FeedbackPanel  feedback   new ContainerFeedbackMessageFilter this          ',0
'Wrong name for swiss Application properties    A  Application ch properties  was generated due fixing Issue  WICKET     but the correct language extension for German Swiss is   de CH  and not   ch   witch stands for Chamorro  Fix  rename  Application ch properties  to  Application de CH properties     ',0
'getConvertedInput   returns null and selectedValues addAll tries adding it    Came across this bug when upgrading from wicket     to        It occurred when we were clearing a form  Add a null check toselectedValues addAll getConvertedInput    in ListMultipChoice updateModel   because getConvertedInput   can conceivably be null in normal situations    ',0
'Typo in IllegalStateException when there are multiple beans of the same type    I have a test where there are multiple beans of the same type  I received the following exceptionCaused by  java lang IllegalStateException  more then one bean of type      MyClassName      found  you have to specify the name of the bean   SpringBean name  foo    in order to resolve this conflict  Matched beans  MyClassNamer  EnhancerByMockitoWithCGLIB  f bd  c  MyClassNamePlease note how it states  then  rather than  than  since the sentence is about multiple things   than  is the only appropriate word to use    ',0
'Javadoc for AbortWithHttpStatusException class constructor says  true  when it should say  false     Javadoc for AbortWithHttpStatusException class constructor states   param statusCodeOptional If true and http status could not be set  an IllegalStateException will be thrownBut the code does  if   statusCodeOptional    throw new IllegalStateException   This exception can only be thrown from within request processing cycle     Obviously  the exception is thrown only if the flag statusCodeOptional is set to false  not true    ',0
'WicketSessionFilter still broken  you can only locate or create sessions in the context of a request cycle    Ever since        see WICKET      and WICKET       WicketSessionFilter has been broken for me  This basically breaks my wicket application completely as I rely on servlets being able to access my wicket session  For that reason  I think Critical or Blocker is a fair priority for this issue In       I get the following while reverting to       it works as expected java lang IllegalStateException  you can only locate or create sessions in the context of a request cycle at org apache wicket Session findOrCreate Session java      at org apache wicket Session get Session java      at com lyndir lhunath snaplog webapp SnaplogSession get SnaplogSession java     at com lyndir lhunath snaplog webapp servlet ImageServlet doGet ImageServlet java      at javax servlet http HttpServlet service HttpServlet java      at javax servlet http HttpServlet service HttpServlet java      at com google inject servlet ServletDefinition doService ServletDefinition java      at com google inject servlet ServletDefinition service ServletDefinition java      at com google inject servlet ManagedServletPipeline service ManagedServletPipeline java     at com google inject servlet FilterChainInvocation doFilter FilterChainInvocation java     at org apache wicket protocol http servlet WicketSessionFilter doFilter WicketSessionFilter java      at com google inject servlet FilterDefinition doFilter FilterDefinition java      at com google inject servlet FilterChainInvocation doFilter FilterChainInvocation java     at org apache wicket protocol http WicketFilter doFilter WicketFilter java      at com google inject servlet FilterDefinition doFilter FilterDefinition java      at com google inject servlet FilterChainInvocation doFilter FilterChainInvocation java     at com google inject servlet ManagedFilterPipeline dispatch ManagedFilterPipeline java      at com google inject servlet GuiceFilter doFilter GuiceFilter java      at org mortbay jetty servlet ServletHandler CachedChain doFilter ServletHandler java       at org mortbay jetty servlet ServletHandler handle ServletHandler java      at org mortbay jetty security SecurityHandler handle SecurityHandler java      at org mortbay jetty servlet SessionHandler handle SessionHandler java      at org mortbay jetty handler ContextHandler handle ContextHandler java      at org mortbay jetty webapp WebAppContext handle WebAppContext java      at org mortbay jetty handler ContextHandlerCollection handle ContextHandlerCollection java      at org mortbay jetty handler HandlerCollection handle HandlerCollection java      at org mortbay jetty handler HandlerWrapper handle HandlerWrapper java      at org mortbay jetty Server handle Server java      at org mortbay jetty HttpConnection handleRequest HttpConnection java      at org mortbay jetty HttpConnection RequestHandler headerComplete HttpConnection java      at org mortbay jetty HttpParser parseNext HttpParser java      at org mortbay jetty HttpParser parseAvailable HttpParser java      at org mortbay jetty HttpConnection handle HttpConnection java      at org mortbay io nio SelectChannelEndPoint run SelectChannelEndPoint java      at org mortbay thread QueuedThreadPool PoolThread run QueuedThreadPool java        ',0
'inconsistency in property expression when using   for self reference    Let s consider this class  class Container   String string    foo   List lt String gt  strings   Arrays asList new String    test      This would work new PropertyModel lt String gt  container    string   getObject    gt  returns  foo but this doesn t new PropertyModel lt String gt  container    strings              getObject  it fails withorg apache wicket WicketRuntimeException  no get method defined for class  class org demo PropertyModelTest Container expression  stringsSimilarly  this doesn t work new PropertyModel lt Container gt  container       getObject  exception is  java lang StringIndexOutOfBoundsException  String index out of range   In the end  should the dot being allowed for self reference   It s already used as the property separator  so it would be quite misleading I ve attached some proper junit test for these points    ',0
'Modal window titles need to be marked up as such  for accessibility    The modal windows are not accessible to screen readers  The titles of the window should be announced to give the contents of the window some context  This is as simple as changing the  span  that contains the window title to a  h   and ensuring the styles are appropriate to match    ',0
'Form MULTIPART HINT is not cleared correctly with nested forms    I have a page that looks like this Page  Form  Wizard  contains another Form   StepOne   contains a FileUploadField StepTwo   has no FileUploadField       The outer form is there because I have some controls outside the wizard that needed to submit the wizard too  Because I have been using Ajax ModalDialogs  it has been important to get Form multipart set correctly  otherwise they don t submit back correctly   So I override Wizard onActiveStepChanged and checked to see if the new wizard step contained a FileUploadField  and set Form setMultiPart accordingly  However  this only clears Form MULTIPART HARD  Form MULTIPART HINT is left untouched When I step from StepOne to StepTwo  the inner form still has MULTIPART HINT set as it contained a FileUploadField last render  Then the outer form s onRender fires  which clears MULTIPART HINT  then the outer form s onComponentTag fires  When it checks isMultiPart    it evaluates to true as the nested Form still returns true from its MULTIPART HINT  and therefore tag put  enctype    multipart form data    is executed  After that  the inner form s onRender fires which clears its MULTIPART HINT When I try to submit StepTwo  the html has enctype  multipart form data   so it does a multipart submit  But wicket is not expecting a multipart submit so it doesn t find any of the submitted form data  and cannot determine which button is pressed  and loses all the form content    ',0
'Application addRenderHeadListener causing error    when i try to use addrenderheaderlistener in application with header contributor using methods other than renderonloadjavascript and renderOnDomReadyJavascript i get the exception as ajaxrequesttarget expects   Only methods that can be called on IHeaderResponse outside renderHead   are renderOnLoadJavascript and renderOnDomReadyJavascriptattaching a quickstart that shows the behavior where ajaxselfupdatingtimer is used  exception as follows   Only methods that can be called on IHeaderResponse outside renderHead   are renderOnLoadJavascript and renderOnDomReadyJavascriptorg apache wicket WicketRuntimeException  Only methods that can be called on IHeaderResponse outside renderHead   are renderOnLoadJavascript and renderOnDomReadyJavascript at org apache wicket ajax AjaxRequestTarget AjaxHeaderResponse checkHeaderRendering AjaxRequestTarget java      at org apache wicket ajax AjaxRequestTarget AjaxHeaderResponse renderJavascriptReference AjaxRequestTarget java      at com mycompany WicketApplication   renderHead WicketApplication java     at org apache wicket Application notifyRenderHeadListener Application java       at org apache wicket markup html internal HeaderResponse  lt init gt  HeaderResponse java     at org apache wicket ajax AjaxRequestTarget AjaxHeaderResponse  lt init gt  AjaxRequestTarget java      at org apache wicket ajax AjaxRequestTarget getHeaderResponse AjaxRequestTarget java       at org apache wicket ajax AbstractAjaxTimerBehavior respond AbstractAjaxTimerBehavior java      at org apache wicket ajax AbstractDefaultAjaxBehavior onRequest AbstractDefaultAjaxBehavior java      at org apache wicket request target component listener BehaviorRequestTarget processEvents BehaviorRequestTarget java      at org apache wicket request AbstractRequestCycleProcessor processEvents AbstractRequestCycleProcessor java     at org apache wicket RequestCycle processEventsAndRespond RequestCycle java       at org apache wicket RequestCycle step RequestCycle java       at org apache wicket RequestCycle steps RequestCycle java       at org apache wicket RequestCycle request RequestCycle java      at org apache wicket protocol http WicketFilter doGet WicketFilter java      at org apache wicket protocol http WicketFilter doFilter WicketFilter java      at org mortbay jetty servlet ServletHandler CachedChain doFilter ServletHandler java       at org mortbay jetty servlet ServletHandler handle ServletHandler java      at org mortbay jetty security SecurityHandler handle SecurityHandler java      at org mortbay jetty servlet SessionHandler handle SessionHandler java      at org mortbay jetty handler ContextHandler handle ContextHandler java      at org mortbay jetty webapp WebAppContext handle WebAppContext java      at org mortbay jetty handler ContextHandlerCollection handle ContextHandlerCollection java      at org mortbay jetty handler HandlerCollection handle HandlerCollection java      at org mortbay jetty handler HandlerWrapper handle HandlerWrapper java      at org mortbay jetty Server handle Server java      at org mortbay jetty HttpConnection handleRequest HttpConnection java      at org mortbay jetty HttpConnection RequestHandler headerComplete HttpConnection java      at org mortbay jetty HttpParser parseNext HttpParser java      at org mortbay jetty HttpParser parseAvailable HttpParser java      at org mortbay jetty HttpConnection handle HttpConnection java      at org mortbay io nio SelectChannelEndPoint run SelectChannelEndPoint java      at org mortbay thread QueuedThreadPool PoolThread run QueuedThreadPool java        ',0
'Markup for AjaxLazyLoadPanel s is not valid HTML    The markup generated for the waiting image is not valid HTML as it lacks an ALT attribute    ',0
'ClassCastException when requesting for non page class    org apache wicket request mapper BookmarkableMapper tries to instantiate Page even for classes which are not Page Requesting http   localhost      wicket bookmarkable com mycompany Pojo fails with ERROR   DefaultExceptionMapper   Unexpected error occurredjava lang ClassCastException  com mycompany Pojo at org apache wicket session DefaultPageFactory newPage DefaultPageFactory java      at org apache wicket session DefaultPageFactory newPage DefaultPageFactory java     at org apache wicket session DefaultPageFactory newPage DefaultPageFactory java     at org apache wicket Application   newPageInstance Application java       at org apache wicket request handler PageProvider getPageInstance PageProvider java      at org apache wicket request handler PageProvider getPageInstance PageProvider java      at org apache wicket request handler render WebPageRenderer getPage WebPageRenderer java     at org apache wicket request handler render WebPageRenderer renderPage WebPageRenderer java      at org apache wicket request handler render WebPageRenderer respond WebPageRenderer java      at org apache wicket request handler RenderPageRequestHandler respond RenderPageRequestHandler java      at org apache wicket request RequestHandlerStack executeRequestHandler RequestHandlerStack java     at org apache wicket request cycle RequestCycle processRequest RequestCycle java      at org apache wicket request cycle RequestCycle processRequestAndDetach RequestCycle java      at org apache wicket protocol http WicketFilter processRequest WicketFilter java      at org apache wicket protocol http WicketFilter doFilter WicketFilter java      at org mortbay jetty servlet ServletHandler CachedChain doFilter ServletHandler java                ',0
'DateTime bug with a date pattern without separator    HI I am using wicket datetime       jarWhen i use a datePattern with a separator dd MM yyyy  i get             it s OK But when i use the datePattern ddMMyyyy  i get      and it s not correctThe bug is in the substituteDate   method of the wicket date js file I have fixed it  I have attached the fixed method and an example of the problemThanks   ',0
'Return the possibility to create custom WebRequest WebResponse per Application    In Wicket     there is org apache wicket protocol http WebApplication newWebRequest HttpServletRequest  and org apache wicket protocol http WebApplication newWebResponse HttpServletResponse   These are removed in current     code and there is no way to use org apache wicket extensions ajax markup html form upload UploadWebRequest for example See wicket examples  gt  upload    ',0
'WicketServlet failes to initialise with NullPointerException in WebXmlFile getFilterPath      java lang NullPointerException  null at org apache wicket util file WebXmlFile getFilterPath WebXmlFile java            wicket util     SNAPSHOT jar     SNAPSHOT      at org apache wicket util file WebXmlFile getFilterPath WebXmlFile java           wicket util     SNAPSHOT jar     SNAPSHOT      at org apache wicket util file WebXmlFile getFilterPath WebXmlFile java           wicket util     SNAPSHOT jar     SNAPSHOT      at org apache wicket protocol http WicketFilter init WicketFilter java            wicket     SNAPSHOT jar     SNAPSHOT      at org apache wicket protocol http WicketServlet init WicketServlet java            wicket     SNAPSHOT jar     SNAPSHOT      at javax servlet GenericServlet init GenericServlet java            servlet api     jar         WebXmlFile getFilterPath tries to retrieve the url pattern of filter mapping filter name    but in the case of a servlet  filter mapping does not exists    it should be serlvet mapping servlet name    ',0
'WicketTester does not preserve the form component values when submitting with AjaxSubmitLink    See this thread http   apache wicket         n  nabble com Url parameters removed onClick wrong url encoding td        htmlAgain you can take a legup project  with Guice      and substitute the wicket versions   gt  the test tester assertModelValue  text    sayHello   will fail  expected  lt sayHello gt  but was  lt Hello null gt    ',0
'The new mappers ignore single query parameter with empty value    Making request like http   host port  paramName  will result in empty PageParameters The problem is in org apache wicket request mapper AbstractMapper extractPageParameters Request  int  IPageParametersEncoder  because it skips the first parameter if its value is empty This is made because most of the time this is the PageComponentInfo part of the URL    ',0
'AJAX file upload fails in IE  due to Wicket Ajax handleMultipart   sniffing wicket body tags as an HTML body element when running Wicket in development mode    To reproduce    Run provided quickstart project   Open in IE      Upload a file  Expected behaviour  File is uploaded  and some basic information about uploaded file is displayed Observed behaviour IllegalStateException is thrown The IllegalStateException is being thrown because the form is being submitted as a normal form  This is because the JS in handleMultipart that traverses up the DOM looking for the actual form is checking tagnames  and in IE   the tagName of a  lt wicket body gt  is body  so as soon as it hits a wicket body  it returns false  I ve provided a patch that checks for identity against document body   an alternative is to check that the form tagUrn is empty  as it would be for a normal HTML element    ',0
'Broken AbstarctCalendar dependency    org apache wicket extensions yui calendar AbstractCalendarmethod contributeDependenciesadd HeaderContributor forJavaScript YuiLib class   yahoo dom event yahoo dom event js    there is no yahoo dom event directory  just yahoodomeventso AbstractCalendar fails with js error onYAHOO namespace  wicket      ',0
'isTemporary behavior and ajax behavior together crashes with WicketRuntimeException  Couldn t find component behavior     My scenario    Component has   behaviors  first is temporary and second is ajax behavior    Url for Ajax behavior contains behavior s index  e g    page     IBehaviorListener   form text    Temporary behavior is removed in detachBehaviors method    Ajax request is invoking ListenerInterfaceRequestHandler and it slooking for behavior on non existing indexThis scenario causes error on wicket     M      ',0
'No exceptionpage on exceptions during ajax    start the quickstart and wait to see error occuring in console  ajax just stops in browser  nothing is indicating the error    ',0
'RequestCycle logs something  when its intended for servlet container    I have something where I reference an image directly in html  wicket has no idea what it should do with it so it passes the request to the servlet container   It works as I wanted  but should it give an error message html   lt img src   images icons arrow down end png   gt Log ERROR      org apache wicket request cycle RequestCycle        Unable to execute request  No suitable RequestHandler found  URL images icons arrow down end png   ',0
'Adding node to a collapsed tree node should not cause it to expand    The fix for WICKET      made a unwanted minor modification to the Tree behavior that was established in WICKET      Adding a child to a tree node that already has children and that is currently collapsed now causes the parent node to expand so that all the children are displayed  Only adding the first child to a node should cause it to expand  in all other cases the state of the parent node should not change    ',0
'Commons logging must die    In wicket      and possibly      we still depend on commons logging  and version     at that   which not only includes strange logging dependencies from the long departed Avalon project  but also other stuff we really don t want to have   looking at spring all       as the main culprit here     ',0
'No Exception page are rendered when using ajax    When using ajax no exception page are rendered if an exception occurs Just start the quickstart here   https   issues apache org jira browse WICKET     And select something ind the dropdown   ',0
'Dropped support for Servlet     inadvertently    Fixing      in r        resulted in introducing a dependency on javax servlet annotation   thus rendering WicketFilter unusable in pre     servlet containers If pruning the large base of     compatible containers was intentional then I d also suggest switching to java    Although servlet     specs does not explicitly indicate java   as a requirement  all     compliant containers that I m aware of   namely Jetty    Websphere    tomcat    glassfish     require java     Not to mention that this should be spoken out loud  https   cwiki apache org WICKET migration to wicket    html does not mention anything about container compliance    ',0
'Can not create cookies    Hi I m migrating to wicket     M  and I ve encountered a problem  I can not create cookies  I presume that I can t delete them either  I ve looked through the source code and this is what I found I add the cookie to the response and I end up with a nice HeaderBufferingWebResponse which contains BufferedWebResponse AddCookieAction But then redirectTo Url  RequestCycle  from WebPageRenderer class is called  Here is the method  private void redirectTo Url url  RequestCycle requestCycle    WebResponse response    WebResponse requestCycle getResponse    String relativeUrl   requestCycle getUrlRenderer   renderUrl url   response reset    response sendRedirect relativeUrl    response reset      removes all actions from the request So after this method my request has got only BufferedWebResponse SendRedirectAction    ',0
'executeAjaxEvent in WicketTester works although Component is not enabled    When Component is disabled the executeAjaxEvent still works  Because it s not checking if Component is enabled But the event attribute is not rendered to the component if it s disabled    ',0
'Correctness of tests is order dependent  ThreadContext detach not always called    I have my own build test env for Wicket and the order in which tests are executed are not necessarily the same as the order that Maven drivesthe tests in the standard test env If you can manage to run only the testsorg apache wicket request cycle RequestCycleListenerTest testBasicOperationsfollowed by test org apache wicket request mapper BasicResourceReferenceMapperTest testDecode the BasicResourceReferenceMapperTest test will fail because itrequires that the ThreadContext have NO application  but theRequestCycleListenerTest does not have a tearDown methodthat calls ThreadContext detach  nor does it use the BaseWicketTesterwith its tearDown method  so it leaves an application in the ThreadContext Also  BasicResourceReferenceMapperTest does not use theBaseWicketTester which calls detach in its constructor The solution is to add the following to BasicResourceReferenceMapperTestprotected void setUp     org apache wicket ThreadContext detach     In my test env it is simply two lines in a property file to have only the abovetwo tests execute  and in the order specified   Don t know how to do that in Maven    ',0
'IResourceSettings setUseTimestampOnResources true  and performance    Hello  I had a problem with slow loading of pages and response to ajax requests  After some debugging I traced the problem to be that wicket constantly tries  DEBUG   UrlResourceStream   cannot convert url  jar file  C  Users hok  m  repository org apache wicket wicket     M  wicket     M  jar  org apache wicket markup html wicket event js to file  URI is not hierarchical   falling back to the inputstream for polling DEBUG   ResourceStreamLocator   Attempting to locate resource  org apache wicket markup html wicket event en US js  on path  folders       webapppaths      DEBUG   ResourceStreamLocator   Attempting to locate resource  org apache wicket markup html wicket event en US js  using classloader sun misc Launcher AppClassLoader cac    and this happens because that by default  or at least I think so  wicket adds timestamp on the resources   ResourceSettings setUseTimestampOnResources true  and every resource is read from the jar files on every request  When a resource is in a jar file a java lang IllegalArgumentException  URI is not hierarchical is thrown in the UrlResourceStream constructor and a lot of attempts are made to load the jar file through different loaders  In my case this led to a slow response times  After disabling timestamp on resources  ResourceSettings setUseTimestampOnResources false   the problem disappears and the performance is fine  However in the javadoc of setUseTimestampOnResources  Enabling timestamps on resources will inject the last modification time of the resource into the filename  the name will look something like  style ts              css  where the large number is the last modified date in milliseconds and   ts  is a prefix to avoid conflicts with filenames that already contain a number before their extension    Since browsers and proxies use the filename of the resource as a cache key the changed filename will not hit the cache and the page gets rendered with the changed file In this case this useful functionality is lost  Is it possible to have  the best of both worlds   Thanks This issue is raised from the discussion http   apache wicket         n  nabble com IResourceSettings setUseTimestampOnResources true and performance td        htmlTo observe the performance improvement  please changegetResourceSettings   setUseTimestampOnResources true  togetResourceSettings   setUseTimestampOnResources false  in TestApplication  It s most obvious when you press Refresh All link and observe the time for the refresh in both cases   ',1
'Form  containing FileUploadField and UploadProgressBar throws an exception when removed from the parent    There is a form which contains FileUploadField  UploadProgressBar and a submit button  The form is added to a WebMarkupContainer  When the form is removed from the WebMarkupContainer an exception is thrown  java lang IllegalStateException  Tried to remove a behavior that was not added to the component  Behavior  org apache wicket extensions ajax markup html form upload UploadProgressBar FormEnabler  d   c This can be observed in the attached quickstart    ',0
'Localizer substitutePropertyExpressions   is called twice when Localizer getString   is called    When you call getString   on a component this component calls Localizer getString    This method then calls Localizer getStringIgnoreSettings   which calls Localizer substitutePropertyExpressions   for the first time  The return value of getStringIgnoreSettings   is then again passed to substitutePropertyExpressions   Actually I m not sure if this is a bug or if this is desired behaviour  but it can lead to problems if you throw an Exception when a resource cannot be found and the value that is put into a string is  for whatever reason  in the format   foobar     ',1
'WicketTester can t create new sessions    It looks like currently there is no way to create a new session  e g  execute Application newSession through WicketTester  My test case would be something like this  create a session set a configuration option with a form invalidate session create new session assert that the session getStyle now returns something elseIn wicket     this was possible with WicketTester createRequestCycle  but that is gone now Workaround  create a new WicketTester  which will force to create a new session    ',0
'AutoCompleteTextField does not work in an iframe under IE      or      The code that has been integrated in version        to fix issue WICKET      forces the cursor of an AutoCompleteTextField to do a  carriage return  after each typed in char when the application runs in an iframe and IE      or   is used    ',0
'DatesPage test LocaleDropDownChoice getObject calls getSelectedLocale    does not use result    In the DatesPage test  the LocaleDropDownChoice getObject   method callsgetSelectedLocale   but does not use the result  public List lt Locale gt  getObject     getSelectedLocale    List lt Locale gt  locales   new ArrayList lt Locale gt  LOCALES   Collections sort locales  new Comparator lt Locale gt      public int compare Locale o   Locale o     return o  getDisplayName selectedLocale  compareTo  o  getDisplayName selectedLocale          return locales   I would guess that the call getSelectedLocale   could be removed   ',0
'AbstractMarkupParser doesn t remove Comments correctly    AbstractMarkupParser removeComment      doesn t remove Comments correctlyif two html comments stand to close together  lt Unable to render embedded object  File     foo    gt   lt   not found    bar    gt foo will be removed but not bar see https   github com mafulafunk wicketCommentsgit github com mafulafunk wicketComments git   ',0
'In extensons CaptchaImageResource render method  while loop does not loop    In the extensons CaptchaImageResource render method  the while loop while true      return toImageData image   can be removed    ',0
'for stateless pages wicket complains with  The Buffered response should be handled by BufferedResponseRequestHandler     when initially rendering a  stateless  page I get  The Buffered response should be handled by BufferedResponseRequestHandler it s logged by WebPageRenderer respond cycle  in line     in trunk I don t know if this really is worth a warning  maybe we can just remove it There s also method WebPageRenderer enableRedirectForStatelessPage  which seems to be somehow involved  and still contains a TODO which probably should be resolved before       I would like to fix it for myself but don t know much about the background of that warning    ',0
'NPE with nested property models    After updated from       to        I got this bug The problem is with nested property models where the  top  model has a null model object that is bound to a TextField  You get a NPE when the page is rendered  There is a quick workaround by overriding getOjbectClass   on the property model I provide a running example of the problem    ',0
'ModalWindow title not visible    The title of a Modal window is not shown    ',0
'IResponseFilter doesn t work in        In current     SNAPSHOT there are no callers of org apache wicket settings IRequestCycleSettings getResponseFilters   and thus filters are never executed    ',0
'unable to add nodes to an empty rootless Tree  e g  LinkTree       scenarios which adding new nodes  via ajax  to a rootless Tree is not working as expected the node is getting added to the treemodel but non is displayed    adding a node to the rootnode  the newly added node is not displayed    the rootless tree already has a node  if you add additional nodes to the root node  they will be displayed  compare to     if you add an additional node to one of the added nodes  the complete tree will disappear see attached quickstart   ',0
'AjaxEditableMultilineLabel generates invalid HTML    When using an AjaxEditableMultilineLabel  the generated markup looks like  lt span onclick                 gt  lt p gt  st paragraph lt  p gt  lt p gt  nd paragraph lt  p gt  lt  span gt This is invalid according to HTML spec  block elements  p  are not allowed within inline elements  span   AjaxEditableMultilineLabel should be using a  lt div gt  element instead of the  lt span gt     ',0
'Ajax submit  link does not show busy indicator under IE    When form is sumbitted via link inside form then busy indicator is not shown under IE The problem occurs only when form was earlier refreshed via ajax    ',0
'Patches to correct some Findbugs warnings in core  request and util    The patches contain fixes mainly for the followings  only java files in main source directories of core  request and util were touched  so test not  only those were fixed that looked straightforward and locally fixable fixing cases that always result in NPE    found  or ClassCastException    found  unused local variable  dead store removals redundant instanceof check  nullcheck removals added transient to non serializable fields of serializable classes made inner classes static where the reference to the enclosing classes was not used some extra null checks added with WeakReference usages to avoid NPE  File delete   return value not checked   using wickets Files remove   instead small performance related tasks  using StringBuilder in loop  using map entrySet   instead of keySet     get  I added some comments to the patches where I tought it is not easy to figure out without the findbugs report why the code was changed  But of course I can explain if other questions arise    ',1
'TreeTable should call attachUpdate javascript on domready event     Since Wicket        it is possible to filter javascript resources  JavascriptFilteredIntoFooterHeaderResponse  and place them to the tail of HTML document  It means that some embedded javascript can be broken because of too early evaluation and missing dependencies I have faced with this problem in TreeTable component  But probably there are other places in the framework  affected by this issue    ',0
'Url to the home page is not correct when the current base url has only one segment    The link  go back  in all Ajax examples in wicket examples is not correct In details     current base url looks like   autocomplete    i e  one segment   one query parameter      go back  points to the application home page  Index class     RequestCycle mapUrlFor IRequestHandler  creates Url     for the home page    UrlRenderer renderUrl homePageUrl  incorrectly returns    instead of     for this input   ',0
'Validation Error on AjaxEditableLabel causes ajax calls in loop on Chrome Browser    On Chrome  the component AjaxEditableLabel causes an infinite ajax call s loop if there is an validation error on the input The attached project shows this bug  Enter  false  to reproduce the bug  and tape any key to stop it  On Firefox  everithing is OK    ',1
'    RC  sources seem to be missing in Maven repository    I saw a     RC  build here http   repo  maven org maven  org apache wicket wicket     RC  but it looks like the sources are missing  There are source jar files  but they don t contain any classes  Was that intentional or is something wrong with the build process    ',0
'HttpsMapper and BookmarkablePageLink    There is a wicket Application which is configured to use HttpsMapper  There are two page  TestPage and TestPage   TestPage uses  RequireHttps  TestPage  doesn t  Each page contains a BookmarkablePageLink to the other one  However in this configuration  one with  RequireHttps and one without  the links on the pages are pointing to the page they are added to   the link in TestPage links to TestPage itself  and not to TestPage   and vice versa  When both of the pages use  RequireHttps or not using it at all the links work normally    ',0
'Incorrect casts to AuthenticatedWebSession in AuthenticatedWebApplication class    After resolving bug WICKET       several methods in AuthenticatedWebApplication still contain casts to AuthenticatedWebSession instead of casts to AbstractAuthenticatedWebSession  It makes AuthenticatedWebApplication not reusable with custom implementations of AbstractAuthenticatedWebSession class  Several cosmetic changes in code and javadoc should be done    ',0
'RememberMe doesn t remember me    When remember me is checked a cookie with crypted username and password should be set I think  But no cookie was set  So when the browser is closed and opened again I was asked again for username and password    ',0
'    equivalant of protected void WebRequestCycle onRequestTargetSet IRequestTarget requestTarget  is mising from AbstractRequestCycleListener    There is not method equivalent to WebRequestCycle onRequestTargetSet IRequestTarget requestTarget  in AbstractRequestCycleListener    ',0
'javascript with a less than character       fails to execute when added through a header contribution in ajax response    This is adapted from a wicket users post I made  links are to the same thread in two archive systems  http   markmail org search  q wicket   users   wicket ajax js query wicket   users   wicket ajax js page   mid rfts ar upffhbbt state resultshttp   mail archives apache org mod mbox wicket users        mbox   CAANLkTi EkmTA RnA GyJE CQWmkCxRLsjp z jwv Aw  mail gmail com  EThe problem  I have a panel with this   lt wicket head gt   lt script gt  if  someVariable  lt       someVariable         lt  script gt   lt  wicket head gt This script fails to execute when the panel is loaded by ajax  If I replace the less than character   lt   with equals       then it executes  but of course  this is not what I need  I tested this in Firefox    b   and Chrome   After some debugging  it seems to me that this needs to be corrected in wicket ajax js  The header contribution is sent to the browser inside of a CDATA section so the   lt   character arrives to javascript intact  However  in parsing the script tag  the   lt   seems to signal the beginning of an HTML tag that then is considered malformed Possible workarounds for apps  Invert the logic so a greater than is used  In my example  this would be   if     gt  someVariable     Put the code into a separate JS file  the downside is it requires another network hop from the browser  Embed the script in  lt wicket panel gt  rather than  lt wicket head gt   the disadvantage is the script will be re sent with the panel content when the panel is re used on the same page    ',0
'org apache wicket markup html form AbstractChoice renderer cast in method appendOptionHtml    In class org apache wicket markup html form AbstractChoice lt T  E gt  the renderer instance variable has signature  private IChoiceRenderer lt   super E gt  renderer In the method appendOptionHtml the renderer s getDisplayValue method is called as follows  T objectValue    T renderer getDisplayValue choice   where the signature for the IChoiceRenderer lt E gt  getDisplayValue method is  Object getDisplayValue E object  So  is it a fact that for all usages of AbstractChoice that the display value returned by arenderer of type E will always be of type T  not Object     If not  then one should expect cast exceptions    ',0
'org apache wicket util collections MostRecentlyUsedMap getRemovedValue method returns Object not V    org apache wicket util collections MostRecentlyUsedMap getRemovedValue method  public Object getRemovedValue     return removedValue   but should be  public V getRemovedValue     return removedValue      ',0
'ChangeHandler fires in IE on POS  and END    In wicket ajax js the Wicket ChangeHandler fires in IE an event on Textfields even if the KEY POS  and the KEY END is pressed Please add obj onkeyup   function event     switch  wicketKeyCode Wicket fixEvent event      case KEY ENTER  case KEY UP  case KEY DOWN  case KEY ESC  case KEY TAB  case KEY RIGHT  case KEY LEFT  case KEY SHIFT  case KEY ALT  case KEY CTRL  return Wicket stopEvent event   break  default  if  typeof objonchange     function  objonchange      return null   case KEY POS  and KEY END to the first case so that these two keys don t fall in the default case    ',0
'Value exchange in a wicket message throws an exception    i tried to exchange values in a  lt wicket message gt  like described in wiki  lt https   cwiki apache org WICKET wickets xhtml tags html Wicket   sXHTMLtags Elementwicket message gt  But i get an exception ERROR   RequestCycle   No get method defined for class class org apache wicket markup resolver MarkupInheritanceResolver TransparentWebMarkupContainer expression  vat valueorg apache wicket WicketRuntimeException  No get method defined for class class org apache wicket markup resolver MarkupInheritanceResolver TransparentWebMarkupContainer expression  vat valueat org apache wicket util lang PropertyResolver getGetAndSetter PropertyResolver java     at org apache wicket util lang PropertyResolver getObjectAndGetSetter PropertyResolver java     at org apache wicket util lang PropertyResolver getObjectAndGetSetter PropertyResolver java        Maybe it s caused by usage of border  I ve debugged a bit  but could get a real glue I added a quick start with test case    ',0
'BaseWicketTester isInvisible String path     BaseWicketTester isInvisible String path  does not fail if Component does not exist Similar methods like isVisible  isEnabled  isDisabled and isRequired  they all fail if component does not exist    ',0
'Can t write session to disk with tomcat   Servlet is destroyed before serialization    Hi When I stop my tomcat  I have the following error  GRAVE  Exception au d  chargement des sessions vers le stockage persistant  persistent storage java lang IllegalStateException  PageManager for application wicket not registered  at lm lbx application PersistentPageManager SessionEntry getPageStore PersistentPageManager java     at lm lbx application PersistentPageManager SessionEntry writeObject PersistentPageManager java      at sun reflect NativeMethodAccessorImpl invoke  Native Method  at sun reflect NativeMethodAccessorImpl invoke Unknown Source  at sun reflect DelegatingMethodAccessorImpl invoke Unknown Source  at java lang reflect Method invoke Unknown Source  at java io ObjectStreamClass invokeWriteObject Unknown Source  at java io ObjectOutputStream writeSerialData Unknown Source  at java io ObjectOutputStream writeOrdinaryObject Unknown Source  at java io ObjectOutputStream writeObject  Unknown Source  at java io ObjectOutputStream writeObject Unknown Source  at org apache catalina session StandardSession writeObject StandardSession java       at org apache catalina session StandardSession writeObjectData StandardSession java       at org apache catalina session StandardManager doUnload StandardManager java      at org apache catalina session StandardManager unload StandardManager java      at org apache catalina session StandardManager stop StandardManager java      at org apache catalina core StandardContext stop StandardContext java       at org apache catalina core ContainerBase stop ContainerBase java       at org apache catalina core ContainerBase stop ContainerBase java       at org apache catalina core StandardEngine stop StandardEngine java      at org apache catalina core StandardService stop StandardService java      at org apache catalina core StandardServer stop StandardServer java      at org apache catalina startup Catalina stop Catalina java      at org apache catalina startup Catalina start Catalina java      at sun reflect NativeMethodAccessorImpl invoke  Native Method  at sun reflect NativeMethodAccessorImpl invoke Unknown Source  at sun reflect DelegatingMethodAccessorImpl invoke Unknown Source  at java lang reflect Method invoke Unknown Source  at org apache catalina startup Bootstrap start Bootstrap java      at org apache catalina startup Bootstrap main Bootstrap java     After a little digging  it s because tomcat first unload the servlet mapping and destroy the servlet  and then  ask for serialization  I m not sure it s a wiket bug  tell me if i have to report it against tomcat Here is the trace of the destroy  Thread      main       Suspended  breakpoint at line     in PersistentPageManager    PersistentPageManager destroy   line       PageAccessSynchronizer   PageManagerDecorator  destroy   line      LibellexApplication Application  internalDestroy   line       LibellexApplication WebApplication  internalDestroy   line       WicketFilter destroy   line       ApplicationFilterConfig release   line       StandardContext filterStop   line        StandardContext stop   line        StandardHost ContainerBase  stop   line        StandardEngine ContainerBase  stop   line        StandardEngine stop   line       StandardService stop   line       StandardServer stop   line       Catalina stop   line       Catalina start   line       NativeMethodAccessorImpl invoke  Method  Object  Object    line  not available      native method       NativeMethodAccessorImpl invoke Object  Object    line  not available  DelegatingMethodAccessorImpl invoke Object  Object    line  not available  Method invoke Object  Object     line  not available  Bootstrap start   line       Bootstrap main String    line      And the trace requesting serialization  Thread      main       Suspended  breakpoint at line    in PersistentPageManager SessionEntry    PersistentPageManager SessionEntry getPageStore   line      PersistentPageManager SessionEntry writeObject ObjectOutputStream  line       NativeMethodAccessorImpl invoke  Method  Object  Object    line  not available      native method       NativeMethodAccessorImpl invoke Object  Object    line  not available  DelegatingMethodAccessorImpl invoke Object  Object    line  not available  Method invoke Object  Object     line  not available  ObjectStreamClass invokeWriteObject Object  ObjectOutputStream  line  not available  ObjectOutputStream writeSerialData Object  ObjectStreamClass  line  not available  ObjectOutputStream writeOrdinaryObject Object  ObjectStreamClass  boolean  line  not available  ObjectOutputStream writeObject  Object  boolean  line  not available  ObjectOutputStream writeObject Object  line  not available  StandardSession writeObject ObjectOutputStream  line        StandardSession writeObjectData ObjectOutputStream  line        StandardManager doUnload   line       StandardManager unload   line       StandardManager stop   line       StandardContext stop   line        StandardHost ContainerBase  stop   line        StandardEngine ContainerBase  stop   line        StandardEngine stop   line       StandardService stop   line       StandardServer stop   line       Catalina stop   line       Catalina start   line       NativeMethodAccessorImpl invoke  Method  Object  Object    line  not available      native method       NativeMethodAccessorImpl invoke Object  Object    line  not available  DelegatingMethodAccessorImpl invoke Object  Object    line  not available  Method invoke Object  Object     line  not available  Bootstrap start   line       Bootstrap main String    line      Well at this time  a simple dirty hack is to bypass destroy chain to avoid removal of app from managers properties of class PersistentPageManager  But I would like to have a real clean solution    ',0
'NullPointerException in PersistentPageManager s page cache    From a private email to me by a user Hi I m trying to use your gae initializer to get your test application working on GAE  I m using version     rc  of wicket and your initializer  Using GAE sdk       I m getting the same problem the person on the     rc  release page was getting  and I can t get around it The homepage loads  but the other page throws the same null pointer exception he was getting java lang NullPointerException at org apache wicket page PersistentPageManager SessionEntry findPage PersistentPageManager java                                         The problem is that org apache wicket page PersistentPageManager SessionEntry addPage IManageablePage  adds even  null  pages    ',0
'Link tries to construct the URL when the link is disabled    This piece of code  Link onComponentTag  tries to construct the URL for a Link  even when it is disabled  CharSequence url   getURL    url   appendAnchor tag  url   if   isLinkEnabled    disableLink tag   else   use url  getURL fails for us  because we did not expect it to be called for a disabled link  The constructed url is never used  Can the getURL and appendAnchor be moved inside the else    ',0
'ResourceMapper doesn t work  mapHandler   always returns null    ResourceMapper mapHandler uses the following code test whether a particular ResourceReferenceRequestHandler should be mapped    see if request handler addresses the resource we serveif  resourceReference getResource   equals handler getResource       false   return null  Unfortunately this if statement always evaluates to true and thus null is returned The problem is that IResource implementations do not provide an equals   method  In practice this means that the default Object equals   implementation is used  which nearly always results in false for the equality test I see two possible solutions    Implement equals   for all IResource classes    Compare the ResourceReference objects instead  which already have a meaningful equals   implementation  In other words    see if request handler addresses the resource we serveif  resourceReference equals handler getResourceReference       false   return null  I m attaching a quickstart that illustrates this bug    ',0
'HttpsMapper triggers rendering of incorrect absolute callback url for Link    This problem only occurs when HttpsMapper is installed as the root request mapper  Additionally  it only seems to occur when the web context is not root I mount a simple page so that it is available as http   localhost      myproject pagetest  That page has one Link  the onclick doesn t do anything   If I access that exact url and show source I see the link callback is rendered incorrectly  It should have the web context mentioned  The fact that Wicket generates an absolute url makes me think the HttpsMapper mapHandler is touching it in such a way to trigger an absolute url  when the delegate was returning a url expecting it to be relative  lt  DOCTYPE html gt  lt html gt  lt body gt  lt a wicket id  test  href  http   localhost      wicket page     ILinkListener test  gt Click Here lt  a gt  lt  body gt  lt  html gt    ',0
'SHOW NO EXCEPTION PAGE responding with HTTP status     is overwritten by redirect    If the application is configured with SHOW NO EXCEPTION PAGE as unexpectedExceptionDisplay  an exception thrown while submitting a form should result in an HTTP     status Since the request is already marked as a redirect in AbstractListenerInterfaceRequestTarget onProcessEvents    the     status is overwritten with status     when the redirect is handled afterwards    ',0
'Using web xml  to render error pages via Wicket yields undesired behavior in Wicket        In my applications I prefer to use Wicket to render all error pages  including my      not found  page  This allows me to reuse a shared page template afforded by Wicket to create my error pages  i e  by extending a BasePage   rather than using copy and paste to maintain static error page HTML files I have been doing this as follows web xml   lt error page gt   lt error code gt     lt  error code gt   lt location gt  error     lt  location gt   lt  error page gt Now  so long as I have an appropriate bookmarkable page mounted on the   error      path  the servlet container will render my page whenever a      not found  scenario is encountered This works great in Wicket     x However in Wicket      RC  and the latest SNAPSHOT as of this writing   two problems occur    By default  Wicket     automatically performs a     redirect before rendering the error page  This changes the URL from the invalid one  i e  the one that generated the      to the mounted path   error     in this example   This is not the desired behavior for a     error page  the original URL requested by the user should be maintained    If I attempt to work around the issue by overriding WebPageRenderer enableRedirectForStatelessPage   to return false  the problem gets worse  Now the URL doesn t change  which is good  But Wicket gets confused about the depth of the request URL path  it seems to calculate relative URLs based on the mounted path rather than the URL that was requested  This causes all relative resources on the page  e g  stylesheet references  to be miscalculated and break I will attach two quickstarts  one showing this configuration working in      and another showing the same setup failing as described above in     RC     ',0
'RequestLogger doesn t dump its collected data at the end of the request    From an email in users  Enabling with getRequestLoggerSettings   setRequestLoggerEnabled true  doesnt show any requests Seems that the Application logEventTarget and Application logResponseTarget are never invoked at all from the wicket core nevertheless the get overridden in WebApplication      ',0
'Autolink  AutolinkBookmarkablePageLink  already rendered problem    Using a menu panel that includes  lt wicket link gt  to return to a page that includes a panel with a  lt wicket head gt  element  gives The component  AutolinkBookmarkablePageLink      Component id    autolink X       was rendered already   ',0
'onInitialize   is not called before StatelessForm onSubmit      I have a StatelessForm that has initialization code in onInitialize    When my form is submitted  the onSubmit   method is invoked before onInitialize   is called  This results in a NullPointerException since the form has not yet had a chance to initialize its instance variables I expect that onInitialize   will be called before any listener method is invoked I believe this bug is due to the change in Page onInitialize   introduced in r        Quickstart attached    ',0
'Popup close link not working in wicket examples linkomatic page    To reproduce visit http   localhost      linkomatic homeclick  Click this button for a popup click  close  link   ',0
'CryptoMapper ignores the IProvider argument    CryptoMapper takes a IProvider lt ICrypt gt  argument  and has a default ApplicationCryptoProvider  but always ignored the configured crypto provider and directly retrieves the application crypto provider    ',0
'AppendingStringBuffer append StringBuilder  int  int  interprets length as stopIndex    I got a StringIndexOutOfBoundsException while submitting Ajax from Wicket  It points to AppendingStringBuffer     The method StringBuilder getChar expects the arguments  startIndex  stopIndex  buffer  count AppendingStringBuilder provides  startIndex  length  buffer  count    gt  better use startIndex   length instead of length   ',0
'NumberTextField and RangeTextField should always render parse its value with English locale    Wicket started adding some support for the new Html  input types  Among these are NumberTextField for number type             and RangeTextField for range type              The Html  spec mandates that the  value    min    max  attributes for these inputs are floating point numbers  Html  spec also describes the format of a float number              Simply to say it is a number formatted with English locale  for example  decimal mark is a period  Wicket currently renders min and max spec compliant but renders the value wrong because it uses the client locale for that  Which means for example for a Hungarian client it will generate        instead         This breaks the custom widgets used by browsers for these new inputs  Chrome and Opera have custom ui  FF and IE stil use plain text field  because they expect the value with a period decimal mark  This means that browsers will post the value formatted in English locale too so parsing is also broken for these on the wicket server side because the client locale is used there also Imho wicket should always use the English locale for rendering parsing these values in case of these input types To reproduce you can use the form examples from  wicket html  examples  in the wicketstuff project  I found this bug there              Html  input number type  http   dev w  org html  markup input number html            Html  input range type  http   dev w  org html  markup input range html            Html  float datatype  http   dev w  org html  markup datatypes html common data float   ',0
'DatePicker issues with locale medium date format    DateTextField as follows  DateTextField d   new DateTextField id  model  new StyleDateConverter  M   false   Case    en US locale for example DatePicker insert    rather than Apr in DateTextField  even though pattern clearly says MMMCase    pl PL locale            is in the DateTextField DatePicker opens on April      rather than October     I believe the problem lies in wicket date js  in functions substituteDate and parseDate I know this might be duplicate of WICKET      and WICKET       but apparently this hasn t been properly fixed yet    ',0
'Ajax header contribution omits IE conditional comments    We have a header contributor which writes an IE conditional comment to the header response for an IE specific stylesheet When the page is initially loaded  components on the page render with the IE conditional comment  and are displayed correctly If a component is added by an ajax request  the header contributor renders the conditional comment to the ajax response  but the conditional comment is omitted from the page output    ',0
'ContainerFeedbackMessageFilter should use Objects equal for equality checking    In its accept   method ContainerFeedbackMessageFilter currenlty uses  container    message getReporter     but a sibling class ComponentFeedbackMessageFilter uses  Objects equal component  message getReporter      Probably both should behave the same way in this    ',0
'Using render strategy ONE PASS RENDER fails for Ajax requests    I have an application which has two pages  Page A has an AjaxLink which makes some checks and either sets some error feedback and stays on the same page  e g  login page with  Invalid user  error  or if everything is OK then redirects to page B  via setResponsePage B class   The problem comes when the current render strategy is ONE PASS RENDER  In this case no matter that fromUrl and toUrl are different and the request is Ajax the current code directly writes the page markup to the response I think it should trigger a redirect instead I am not sure whether it should be redirect to render or to buffer       ',0
'Application pt properties    I had my portuguese partner look at the Application pt BR properties file ason her portuguese laptop the standard english messages showed up  Accordingto her the pt BR file is also completely valid forApplicaiton pt properties  Can I suggest the file is just copied over tothat name    ',0
'Wicket do not test the  buffer response  property in IRequestCycleSettings when creating the WebResponse in WebApplication    Wicket always create a buffered response  In     is was configurable    ',0
'Tree     to     migration issue warning    Different types of Trees produce the following warning in the console when displayed  WARN   aultMarkupSourcingStrategy       to     migration issue  your item component should be derived from AbstractItem  Item  TreeItem      Component id          Examples producing this warning  LinkTree  LabelTree and TreeTable from Ajax  gt Tree and TreeTable  Nested  exampleFeel free to change the priority if this is not important    ',0
'BookmarkablePageLink    setParameter int versions missing    the new URL handling  amp  page parameters allow to use an integer index  great  however this has not been implemented in BookmarkablePageLink  so this needs to be added private void setParameterImpl int key  Object value    if  parameters    null    parameters   new PageParameters      parameters set key  value    and  public MyBookmarkablePageLink lt T gt  setParameter final int property  final String value    setParameterImpl property  value   return this    and the same for int and long values    ',0
'UrlRenderer should not always add     to url    The fix in WICKET      introduced a bug  now an url to a resource can be rendered differently if the base url changes In practice this means that some js files can end up twice in a page DOM First with the page load  wicket resource org apache wicket markup html WicketEventReference wicket event ts              js and wicket resource org apache wicket ajax WicketAjaxReference wicket ajax ts              js Secondly after an ajax event two  new  js gets loaded    wicket resource org apache wicket markup html WicketEventReference wicket event ts              js and   wicket resource org apache wicket ajax WicketAjaxReference wicket ajax ts              js    ',1
'parentFolderPlaceholder default value in Settings implementation is inconsistent with the javadoc    In relation to wicket      the javadoc for  org apache wicket settings IResourceSettings setParentFolderPlaceholdersays  Note that by default the placeholder string is empty    and thus will not allow to access parent folders  But the default is null  not   and this generates src url like this  resources com test sub pack TestPage null null base information pngwhich do work  but probably shouldn t    ',0
'element in Ajax requests is executed twice in Opera       I have component with behavior which adds  lt script gt  element in Behavior onComponentRendered   to respons  This javascript is to be processed in browser when component is rendered  This works pretty well when component is rendered during standard HTTP request  But when the same code is called from Ajax request  this script runs on browser two times  There is some magic in Ajax request processing in wicket ajax js  only for Opera and IE these  lt script gt  elements from responses are added to HTML and page  lt header gt  element as well  Comment says that this is workaround for these browsers  maybe in older versions of Opera dynamically adding element into HTML doesn t run  lt script gt  elements within  but now could be obsolete    ',1
'Usage of JavaScriptCompressor by resources other than PackageTextTemplates is lost     With the refactoring of ResourceReferences  Resources and ResourceStreams it seems that the JavaScriptCompressor is no longer used for resources other than a PackageTextTemplate  In Wicket     it used to be in JavascriptPackageResource but seeing as this class is gone the JavaScriptCompressor is no longer used There should be either a subclass of PackageResource which uses the JavaScriptCompressor or a way to intercept the length and the bytes which are written to the stream in PackageResource line        ',0
'WebPage cannot find the head container if TransparentWebMarkupContainer is associated with    If a page uses TransparentWebMarkupContainer to set some attributes to the  lt html gt  tag then org apache wicket markup html WebPage validateHeaders   cannot find the HtmlHeaderContainer because it expects to find it at the first level of children tree    ',0
'Session is invalidated more than once because Session sessionInvalidated is not reset    org apache wicket Session detach   invalidates the http session and null ifies the sessionStore but doesn t reset  sessionInvalidated  variable and later if a new session store is created  e g  during commitRequest              then this new session store is again destroyed at the end   Thread      qtp                    Suspended  breakpoint at line    in RequestAdapter    PersistentPageManager PersitentRequestAdapter RequestAdapter  bind   line      PersistentPageManager PersitentRequestAdapter getSessionEntry boolean  line       PersistentPageManager PersitentRequestAdapter storeTouchedPages List lt IManageablePage gt   line       PersistentPageManager PersitentRequestAdapter RequestAdapter  commitRequest   line       PersistentPageManager AbstractPageManager  commitRequest   line      PageAccessSynchronizer   PageManagerDecorator  commitRequest   line      PageAccessSynchronizer   commitRequest   line       Application   onDetach RequestCycle  line        RequestCycleListenerCollection   notify IRequestCycleListener  line       RequestCycleListenerCollection   notify Object  line      RequestCycleListenerCollection ListenerCollection lt T gt   reversedNotify Iterator lt T gt   INotifier lt T gt   line       RequestCycleListenerCollection ListenerCollection lt T gt   reversedNotify INotifier lt T gt   line       RequestCycleListenerCollection onDetach RequestCycle  line      RequestCycle onDetach   line       RequestCycle detach   line       RequestCycle processRequestAndDetach   line       WicketFilter processRequest ServletRequest  ServletResponse  FilterChain  line       WicketFilter doFilter ServletRequest  ServletResponse  FilterChain  line            ',1
'WicketTester startComponent Class  Markup  doesn t deliver the contributed response to the headers    There is a regression from RC  with starting a Panel  The header contribution is not in the  lastRenderedPageAsString  See attached test case    ',0
'wickettag contents aren t skipped when trying to find markup in        The attached quick start  fails to render the components inside the fragment  because it will pick the  lt span wicket id  text  gt  instead of the fragment as markup I believe the id are only required to be unique  per level   so this should work and it should properly find the  lt wicket fragment wicket id  text  gt   This also worked fine in       ',0
'MultiFileUploadField internationalisation does not work    We are having an issue setting some properties to override the default text for the MultiFileUploadField component  As per the docs  we have set the following in our local properties file org apache wicket mfu caption unlimited Ficheros org apache wicket mfu caption limited Ficheros  m u  E ximo   max    org apache wicket mfu delete Borrarhowever they are not being overridden  We know our properties file is working because we can override other properties  like workphone PhoneNumberValidator   N u  FAmero de tel u  E fono no v u  E lidoand those come up correctly I have reproduced this in a quickstart    ',0
'extremely slow performance in development mode    I just finished migrating application to     and it became VERY unresponsive and slow in development mode  In deployment it is OK No changes were made to backend services  only necessary Wicket API use changes related to request cycle                        Below is the originals bug  WICKET     Hello  I had a problem with slow loading of pages and response to ajax requests  After some debugging I traced the problem to be that wicket constantly tries  DEBUG   UrlResourceStream   cannot convert url  jar file  C  Users hok  m  repository org apache wicket wicket     M  wicket     M  jar  org apache wicket markup html wicket event js to file  URI is not hierarchical   falling back to the inputstream for polling DEBUG   ResourceStreamLocator   Attempting to locate resource  org apache wicket markup html wicket event en US js  on path  folders       webapppaths      DEBUG   ResourceStreamLocator   Attempting to locate resource  org apache wicket markup html wicket event en US js  using classloader sun misc Launcher AppClassLoader cac    and this happens because that by default  or at least I think so  wicket adds timestamp on the resources   ResourceSettings setUseTimestampOnResources true  and every resource is read from the jar files on every request  When a resource is in a jar file a java lang IllegalArgumentException  URI is not hierarchical is thrown in the UrlResourceStream constructor and a lot of attempts are made to load the jar file through different loaders  In my case this led to a slow response times  After disabling timestamp on resources  ResourceSettings setUseTimestampOnResources false   the problem disappears and the performance is fine  However in the javadoc of setUseTimestampOnResources  Enabling timestamps on resources will inject the last modification time of the resource into the filename  the name will look something like  style ts              css  where the large number is the last modified date in milliseconds and   ts  is a prefix to avoid conflicts with filenames that already contain a number before their extension    Since browsers and proxies use the filename of the resource as a cache key the changed filename will not hit the cache and the page gets rendered with the changed file In this case this useful functionality is lost  Is it possible to have  the best of both worlds   Thanks This issue is raised from the discussion http   apache wicket         n  nabble com IResourceSettings setUseTimestampOnResources true and performance td        htmlTo observe the performance improvement  please changegetResourceSettings   setUseTimestampOnResources true  togetResourceSettings   setUseTimestampOnResources false  in TestApplication  It s most obvious when you press Refresh All link and observe the time for the refresh in both cases   ',1
'npe in StoredResponsesMap    While doing some load testing with with a small prog using Apache httpclient     threads  only the get requests were done  I got this error             ERROR       quot http bio      quot  exec        DefaultExceptionMapper         Unexpected error occurredjava lang NullPointerException  null at org apache wicket protocol http StoredResponsesMap Value access     StoredResponsesMap java           wicket core     RC    jar     RC         at org apache wicket protocol http StoredResponsesMap removeEldestEntry StoredResponsesMap java           wicket core     RC    jar     RC         at java util LinkedHashMap addEntry LinkedHashMap java            na               at java util HashMap put HashMap java            na               at org apache wicket protocol http StoredResponsesMap put StoredResponsesMap java           wicket core     RC    jar     RC         at org apache wicket protocol http WebApplication storeBufferedResponse WebApplication java            wicket core     RC    jar     RC         at org apache wicket request handler render WebPageRenderer storeBufferedResponse WebPageRenderer java           wicket core     RC    jar     RC         at org apache wicket request handler render WebPageRenderer respond WebPageRenderer java            wicket core     RC    jar     RC         at org apache wicket request handler RenderPageRequestHandler respond RenderPageRequestHandler java            wicket core     RC    jar     RC         at org apache wicket request cycle RequestCycle HandlerExecutor respond RequestCycle java            wicket core     RC    jar     RC         at org apache wicket request RequestHandlerStack execute RequestHandlerStack java           wicket request     RC    jar     RC         at org apache wicket request RequestHandlerStack execute RequestHandlerStack java           wicket request     RC    jar     RC         at org apache wicket request cycle RequestCycle processRequest RequestCycle java           wicket core     RC    jar     RC         at org apache wicket request cycle RequestCycle processRequestAndDetach RequestCycle java           wicket core     RC    jar     RC         at org apache wicket protocol http WicketFilter processRequest WicketFilter java           wicket core     RC    jar     RC         at org apache wicket protocol http WicketFilter doFilter WicketFilter java           wicket core     RC    jar     RC         at org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java           catalina jar             at org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java           catalina jar            via jmx I could see that only    sessions were thereand that the PeakNumberOfActiveRequests was also       ',0
'wicket datetime datepicker fails to display calendar with js error in calendar js      in IE        ',0
'Scalability issue with PageAccessSynchronizer    Class org apache wicket page PageAccessSynchronizer uses a global lock  org apache wicket page PageAccessSynchronizer semaphore  that is needed e g  when a new instance of a Page is created or when an instance of a page is retrieved  The lock is global and becomes quickly contented  When testing with two parallel threads  about     of all statistical stack samples waited for the lock  with four parallel threads about     The stack waiting for the lock isat org apache wicket page PageAccessSynchronizer lockPage PageAccessSynchronizer java     at org apache wicket page PageAccessSynchronizer   getPage PageAccessSynchronizer java     called either byat org apache wicket Page dirty Page java     as part of the Page ctor  or byat org apache wicket DefaultMapperContext getPageInstance DefaultMapperContext java     when retrieving page Some threads  stacks waiting on  a java lang Object  xHEXADDR at org apache wicket page PageAccessSynchronizer lockPage PageAccessSynchronizer java     at org apache wicket page PageAccessSynchronizer   getPage PageAccessSynchronizer java     at org apache wicket DefaultMapperContext getPageInstance DefaultMapperContext java     at org apache wicket request handler PageProvider getPageInstance PageProvider java     at org apache wicket request handler PageProvider getPageInstance PageProvider java     at org apache wicket request handler ListenerInterfaceRequestHandler getPage ListenerInterfaceRequestHandler java    at org apache wicket request handler ListenerInterfaceRequestHandler respond ListenerInterfaceRequestHandler java     at org apache wicket request cycle RequestCycle HandlerExecutor respond RequestCycle java     at org apache wicket request RequestHandlerStack execute RequestHandlerStack java    at org apache wicket request cycle RequestCycle processRequest RequestCycle java     at org apache wicket request cycle RequestCycle processRequestAndDetach RequestCycle java     at org apache wicket protocol http WicketFilter processRequest WicketFilter java     at org apache wicket protocol http WicketFilter doFilter WicketFilter java         at java lang Object wait Native Method waiting on  a java lang Object  xHEXADDR  at org apache wicket page PageAccessSynchronizer lockPage PageAccessSynchronizer java     at org apache wicket page PageAccessSynchronizer   touchPage PageAccessSynchronizer java     at org apache wicket Page dirty Page java     at org apache wicket Page init Page java     at org apache wicket Page  lt init gt  Page java     at org apache wicket Page  lt init gt  Page java     at org apache wicket markup html WebPage  lt init gt  WebPage java    at x y z page base Page  lt init gt  Page java     at x y z page base ControllerBasedPage  lt init gt  ControllerBasedPage java        at java lang Object wait Native Method waiting on  a java lang Object  xHEXADDR  at org apache wicket page PageAccessSynchronizer lockPage PageAccessSynchronizer java     at org apache wicket page PageAccessSynchronizer   touchPage PageAccessSynchronizer java     at org apache wicket Page dirty Page java     at org apache wicket Page init Page java     at org apache wicket Page  lt init gt  Page java     at org apache wicket Page  lt init gt  Page java     at org apache wicket markup html WebPage  lt init gt  WebPage java    at x y z page base Page  lt init gt  Page java     at x y z page base ControllerBasedPage  lt init gt  ControllerBasedPage java    at x y z page NavigationAndContent  lt init gt  NavigationAndContent java    at x y z page MailDetail  lt init gt  MailDetail java    x y z page login Login  lt init gt  wicket Page  lt init gt  wicket page PageAccessSynchronizer lockPage WAIT FOR LOCKat java lang Object wait Native Method waiting on  a java lang Object  xHEXADDR  at org apache wicket page PageAccessSynchronizer lockPage PageAccessSynchronizer java     at org apache wicket page PageAccessSynchronizer   touchPage PageAccessSynchronizer java     at org apache wicket Page dirty Page java     at org apache wicket Page init Page java     at org apache wicket Page  lt init gt  Page java     at org apache wicket Page  lt init gt  Page java     at org apache wicket markup html WebPage  lt init gt  WebPage java    at x y z page base Page  lt init gt  Page java     at x y z page login Login  lt init gt  Login java         at java lang Object wait Native Method waiting on  a java lang Object  xHEXADDR  at org apache wicket page PageAccessSynchronizer lockPage PageAccessSynchronizer java     at org apache wicket page PageAccessSynchronizer   touchPage PageAccessSynchronizer java     at org apache wicket Page dirty Page java     at org apache wicket Page init Page java     at org apache wicket Page  lt init gt  Page java     at org apache wicket Page  lt init gt  Page java         at java lang Object wait Native Method at org apache wicket page PageAccessSynchronizer lockPage PageAccessSynchronizer java     at org apache wicket page PageAccessSynchronizer   touchPage PageAccessSynchronizer java     at org apache wicket Page dirty Page java     at org apache wicket Page init Page java     at org apache wicket Page  lt init gt  Page java     at org apache wicket Page  lt init gt  Page java             ',1
'throw new RestartResponseAtInterceptPageException is not serializable    throw new RestartResponseAtInterceptPageException gives org apache wicket RestartResponseAtInterceptPageExceptionERROR   Error serializing object class org apache wicket markup html pages ExceptionErrorPage  object      Page class   org apache wicket markup html pages ExceptionErrorPage  id      render count          org apache wicket util io SerializableChecker WicketNotSerializableException  Unable to serialize class  org apache wicket request flow ResetResponseException ResponseResettingDecoratorField hierarchy is         class org apache wicket markup html pages ExceptionErrorPage  path        private final java lang Throwable org apache wicket markup html pages ExceptionErrorPage throwable      class org apache wicket RestartResponseAtInterceptPageException      private final org apache wicket request IRequestHandler org apache wicket request RequestHandlerStack ReplaceHandlerException replacementRequestHandler      class org apache wicket request flow ResetResponseException ResponseResettingDecorator       lt       field that is not serializable   ',0
'unexpected order of head contributions    when markup uses w head contribution for static scripts lt wicket head gt   lt script type  text javascript  src  http   link from markup h js   gt  lt  script gt  lt  wicket head gt and then component adds something dynamically in renderHead Override public void renderHead IHeaderResponse response    super renderHead response   response renderJavaScriptReference  http   link from renderheadmethod body js     the dynamic link comes first and therefore does not work  repro case attachedExpected  that programmatic contributions use after ones from markup   ',0
'html file are not encoding to utf      The file SignOutPage fr html  all html file  is not properly encoding to utf    the accent  D  connexion  is not display correctly on browser    ',0
'Warning text outdated in InheritedMarkupMarkupLoader      Enable debug messages for org apache wicket util resource Resource to get a list of all filenames tried       gt  org apache wicket util resource Resource no longer exists  Looks like it has been renamed to org apache wicket util resource locator ResourceStreamLocator    ',0
'ModalWindow shows  Page Expired     A simple ModalWindow containing a WebPage opened by an AjaxLink shows  Page Expired  instead of the desired page contents  Downgrading to        makes the problem disappear  See the attached quickstart    ',0
'Localizer get   should be static    org apache wicket Localizer offers a get   method but it is not static    ',0
'some jmx values are not working since they require wickets filter environment  application  session  etc         ',0
'RequestLogger doesn t log incoming event and outgoing page    The requestlogger currently doesn t log the incoming request and the outgoing page  which it did in     x  and earlier   This is due togetRequestLogger   logEventTarget handler  getRequestLogger   logResponseTarget handler  not being called  This results in log entries like                                        TP Processor       RequestLogger   time    event null response null sessioninfo    which isn t saying much  and making every presentation I gave on the RequestLogger  and chapter    from WiA look foolish   ',0
'WicketTester does not follow absolute redirects    Wicket tester does not follow absolute redirects This is a problem when using HttpsMapper  For example when requesting a page over http    with an forced redirect to https    for secure access will make wicket tester return  null  for the last renderer page instead of the rendered page instance  In general all kinds of absolute redirects to another page will not be tracked by wicket tester  So this potentially a problem for all kinds of tests that rely on absolute redirects    ',0
'In wicket     urlFor returns incorrect string for package mounted pages    Attached two quickstart projects for     and     Then access http   localhost      app Page  and see     returns wrong address    ',0
'The wicket enclosure attribute doesn t work properly    When the hidden child becomes visible again  it fails to appear on the page  The same thing works correctly with the wicket enclosure tag Example code public class TestPage extends WebPage   public TestPage     final Label l   new Label  msg    hi    add l   add new Link lt Void gt   b     private static final long serialVersionUID    L   Override public void onClick     l setVisible  l isVisible             TestPage html  lt html xmlns wicket gt  lt body gt  lt div wicket enclosure  msg  gt  lt span wicket id  msg  gt  lt  span gt  lt  div gt  lt input type  button  value  Toggle  wicket id  b  gt  lt  body gt  lt  html gt    ',0
'in environments without reliable timestamps  e g  some clusters  resource caching is useless    As mentioned already in the wicket userlist iirc wicket s default resource caching strategy using resource file timestamps will not work in some cluster environments  Cluster deployers seem to be quite dumb and not preserve the  lastModified  file attribute  So depending on the server instance the resource is delivered from it will contain multiple timestamps for the same resource  Apparently timestamps seem to be unsuitable for the purpose of caching in that environment    ',0
'Modal window won t show in internet explorer document mode      Plain modal window won t show after revision          WICKET      Notifications before and after DOM node replacement       using Internet Explorer   in document mode quirks    and    Works in document mode    Opera        Chrome             beta m  Firefox        and    Seems like the lines var newElement   Wicket   element id  Wicket Event publish   dom node added   newElement  the  nd time they run  element id       which makes Wicket    document getElementById      crash  and an  ERROR  Wicket Ajax Call processEvaluation  Exception evaluating javascript       object Error       is logged to the Wicket ajax debug window Quick workaround  Somewhere in your code  include the following script   lt script type  text javascript  gt  oldFu   Wicket    Wicket     function arg    if  arg    null    typeof arg      undefined     arg          return null    return oldFu arg     lt  script gt Where the difference to the original   function is the arg     check   ',0
'StoredResponsesMapTest Random nextInt takes only positive integer arguments  not      In the test StoredResponsesMapTest the line  String key    keys get rnd nextInt keys size         has a problem since the integer argument to Random nextInt can not be    but the keysList has size      ',0
'AbstractTransformerBehavior sets wrong namespace    AbstractTransformerBehaviour adds a wicket namespace  http   wicket apache org  to its tag which is different from that of the whole page  http   wicket apache org dtds data wicket xhtml    strict dtd  This causes  at least  XPath queries for Wicket nodes to fail when matching the contents of components with an AbstractTransformerBehavior    ',0
'URIs should be used instead of URLs as Set or Map keys     URLs are not suitable for use as Set or Map keys because their equals   and hashCode   methods are not well defined  URIs should be used to identify the location and URLs to access the actual resources See thread for http   mail archives apache org mod mbox wicket users        mbox   CCAPdiUN CaH rn  tD  hXP dmBGn SvFu RvCMh AYx   JkkA mail gmail com  ESpecifically              More Joy of Sets  example with URL from Google Tech Talks http   www youtube com watch v wDN EYUvUq  t  m  s   ',0
'Reference to a non existing images causes IllegalStateException  ResourceResponse setWriteCallback   must be set      A Page containing a PackageResourceReference to a nonexisting image fails with an Illegalstateexception  Debugging through the code reveals that hust before this exception a     HTTP Code ist set  This     gets hidden by the exception I could not script a unittest for this problem  but it is easily reproduced in my browsers  Firefox    IE     A page class and html will be attached   ',0
'setResponsePage in AjaxLink goes always to localhost      instead to the right host and port    setResponsePage in an AjaxLink in Wicket     redirects with a relative path to the response page Wicket     takes the absolute path  localhost      path to the response page  even when the host and port are different  e g  with Apache  a virtual host is created with server name www mycompany com  setResponce wil go to  localhost      path to page  instead of  www mycompany com path to page     ',0
'Problems concerning IE  with  ActiveX Filtering  enabled    Internet Explorer   contains a new feature to block all ActiveX content by default  http   ie microsoft com testdrive Browser ActiveXFiltering About html If the feature is enabled  all ActiveX controls are blocked silently  With Wicket this currently results in a lot of JavaScript content  but not all of it  being blocked as well  The user can allow an exception by clicking on a small icon in the address bar  however  he usually will be only able to do so  if he knows exactly what causes the problem A user who enabled the feature himself might still see what is wrong  but the feature can be also enabled in a domain policy  which might make solving the problem much more difficult and have adverse effects on customers The reason that some JavaScript content is blocked along with blocking ActiveX elements is the usage of window ActiveXObject wicket ajax js  gt if  window ActiveXObject     gt  transport   new ActiveXObject  Microsoft XMLHTTP     gt  Wicket Log info  Using ActiveX transport     gt   else if  window XMLHttpRequest     gt  transport   new XMLHttpRequest     gt  Wicket Log info  Using XMLHttpRequest transport     gt  According to  http   blogs msdn com b ie archive            activex filtering for developers aspx the usage of this pattern is not advisable and the order should be changed to  gt    Best Practice  Use Native XHR  if available gt if  window XMLHttpRequest    gt     If IE    Gecko  WebKit  Use native object gt  var xmlHttp   new XMLHttpRequest    gt   gt else if  window ActiveXObject    gt        if not  try the ActiveX control  gt  var xmlHttp   new ActiveXObject  Microsoft XMLHTTP    gt  The problem is reported to be fixed in JQuery        for instance    ',0
'in development mode Wicket stops picking up markup changes    I have wicket application running via mvn jetty run under JRebel to facilitate code hotswap With    RC    Wicket does not pick markup changes unless I change requested version  and it still put version on URL even I have getPageSettings setVersionPagesByDefault false     but that is a minor inconvenience More annoying that after awhile Wicket stops picking up changes in the markup of components used on my page  I mean that I can change markup for my components and it gets reflected upon page refresh  with requesting non existent version   but at some point it stops  changes to the markup of subcomponents are not picked up That forces me to restart application  which is major productivity killer       ',1
'Modal window does not show the right page        RC    is OK  I noticed it with version         on trunk When ModalWindow displays a page  panel is OK   it displays the home page instead of the right page    ',0
'renderCSSReference doesn t work with mountPage         response renderCSSReference new PackageResourceReference BasePage class   BasePage css    will correctly render the css reference if the page is not mounted or if it is mounted to a location other than      However if I mount the page to     using WebApplication mountPage   then the css reference doesn t work    ',0
'PageParameters set not follow INamedParameters set behavior    Couple of problems to work with page parameters Major   The PageParameters set final String name  final Object value  final int index  used remove add pattern instead of set parameter value by specified index Minor   Inposible to get the index of key in elegant way to use obtained index in  set operation   ',0
'Encoding problem with POSTing a form with Ajax    The form is always posted using Ajax in UTF    but if you re using a different encoding in the DB or the HTML aswell  the string is ugly obviously  Wicket should convert from UTF   to the given encoding  detecting from getMarkupSettings   setDefaultMarkupEncoding         or getRequestCycleSettings   setResponseRequestEncoding         or an other settings parameter which could be given to wicket I m attaching a quickstart project which demonstrate this issue by echoing back the string given to a textarea    ',0
'Encoding problem with JavaScriptRefrences    Let we have a javascript which contains some strings  which eventually should be appended to DOM   and let we have a page in different encoding from UTF    like ISO         The anomaly is the following  If the encoding of the JS is UTF    then the Ajax query which injects the JS is working OK  The injected string looks like it should be  no magic chars  But if we don t use the JS from Ajax  but plain request  then the string is ugly because JS is in UTF    but the page is in ISO         If the encoding of the JS is the same as the Page then the response of the Ajax request will be ugly  but the plain non ajax will be OK    ',0
'SCRIPT tags in Ajax Response are not evaluated in Chrome    if a JavaScript script tag is added to AjaxRequestTarget  by Behavior via JavaScriptUtils writeJavaScript   it is not evaluated on Chrome browser  While debugging through wicket ajax js  it turns out  that replaceOuterHtmlSafari function is not called for Chrome  but the Gecko version gets executed instead  fall to    else    GECKO       in Wicket replaceOuterHtml   And the Gecko version does not do any special handling of SCRIPT tag  since Firefox does execute SCRIPT nodes added dynamically to the DOM  This behavior occurs since     RC    There is a quickstart webapp attached to this ticket  HomePage contains a Label with Behavior attached and an AjaxLink  Behavior add a JavaScript showing alert message  It is shown once the page is loaded and once the ajax link is clicked  In Chrome there is not alert message after clicking the ajax link    ',0
'NPE with RequestLogger enabled and Https    There is a wicket application with https enabled  setRootRequestMapper new HttpsMapper getRootRequestMapper    new HttpsConfig     The RequestLogger is also enabled   getRequestLoggerSettings   setRequestLoggerEnabled true  The bug can be reproduced by    Try to access the page with  localhost h   deliberately excluding the https protocol prefix     A NPE is thrown java lang NullPointerException at org apache wicket protocol http RequestLogger getRequestHandlerString RequestLogger java      at org apache wicket protocol http RequestLogger getDelegateString RequestLogger java      at org apache wicket protocol http RequestLogger getRequestHandlerString RequestLogger java      at org apache wicket protocol http RequestLogger logEventTarget RequestLogger java      at org apache wicket protocol http RequestLoggerRequestCycleListener registerHandler RequestLoggerRequestCycleListener java      at org apache wicket protocol http RequestLoggerRequestCycleListener onRequestHandlerResolved RequestLoggerRequestCycleListener java       ',0
'NPE when requesting http   example com app wicket resource org apache wicket extensions ajax markup html modal ModalWindow res     When requesting the following URL  the default caching strategy throws a NullPointerException and this is logged  This request is performed by some spider agent of Microsoft  trying to kill Wicket   with user agent  Microsoft Office Protocol Discovery  Url http   example com app wicket resource org apache wicket extensions ajax markup html modal ModalWindow res java lang NullPointerException  caching strategy must not return an empty filename at org apache wicket request mapper BasicResourceReferenceMapper mapRequest BasicResourceReferenceMapper java      at org apache wicket request mapper ParentPathReferenceRewriter mapRequest ParentPathReferenceRewriter java     at org apache wicket request mapper CompoundRequestMapper mapRequest CompoundRequestMapper java      at org apache wicket request cycle RequestCycle resolveRequestHandler RequestCycle java      at org apache wicket request cycle RequestCycle processRequest RequestCycle java      at org apache wicket request cycle RequestCycle processRequestAndDetach RequestCycle java      at org apache wicket protocol http WicketFilter processRequest WicketFilter java      at org apache wicket protocol http WicketFilter doFilter WicketFilter java     A couple of points  the exception should log which strategy caused the empty filename the exception might want to log the requested URL for the resource perhaps a NullPointerException is not the best exception to throw  but rather something that results in a     or a     maybe not even throwing an exception is the best way to handle this case  instead rely on the container or another mapper to take the lead    ',0
'CryptoMapper does not correctly decrypt URLs for the home page    I proposed a solution for WICKET       which I had been using myself  I didn t notice that it was incorporated into Wicket  This patch represents a bug fix I made to the new CryptoMapper which is not in Wicket Encrypted URLs for the home page  where the unencrypted URL is something like        no segments  just parameters  are not correctly decrypted    ',0
'the wrong option in select components is rendered  Combination of reusing panels and defaultFormProcessing  false     We are reusing a panel  let s say a PersonPanel  two instances   There is a forward   back ajax navigation between the panels  which is implemented with component replace  So the component path for the select of both panels are the same  The back function is implemented with setDefaultFormProcessing false   If now showing PersonPanel     gt  Forward    gt  PersonPanel     gt  Back    gt  PersonPanel     gt  Forward    gt  PersonPanel   the selects of the panel   are showing the values of panel  The Reason In the  Select isSelected       the getInputAsArray   is used  instead of the getRawInput     So request parameters are overruling the raw input  if the component path is the same Wicket Code if  hasRawInput      String   paths   getInputAsArray   I think  instead of calling getInputAsArray   the getRawInput   With a split for the MultiSelect support  should be used    ',0
'A  stateless  page immediately disappears after the first render    Using setResponsePage new SomeStatelessNonBookmarkablePage aParameter   renders the page but trying to reload the page in the browser fails with PageExpiredException The reason is that the page is stateless and thus it is not saved in the page stores  Since it was scheduled for render with setResponsePage Page  method its Url is created by PageInstanceMapper  i e  something like  wicket page     An attempt to refresh such page fails with  Page with id     is not found   gt  PageExpiredException  Igor suggested to call  page setStatelessHint false   for all pages passed to PageProvider IRequestablePage  constructor  i e  such pages must be stored This solved the problem but exposed few more problems  MockPageManager  used in WicketTester  until now always touched stored pages  no matter their statelessness org apache wicket markup html internal EnclosureTest testRender     was wrong for some unknown reason  All expectations against EnclosurePageExpectedResult      html should not have the enclosure rendered because  input  component is invisible   ',0
'TextTemplateResourceReference should be registered into the ResourceReferenceRegistry because otherwise the next request is served by PackageResourceReference    The title says it all If the TextTemplateResourceReference is not registered then BasicResourceReferenceMapper receives autocreated PackageResRef which doesn t make variable substitutions    ',0
'Modal Window is not shown in IE     On examples page http   wicketstuff org wicket ajax modal window if you click on  Show modal dialog with a page  or  Show modal dialog with panel   no modal windows will be shown    ',0
'Potential StackOverflowError in SerializableChecker    At line     it checks if  streamObj  has already been checked  but at     it puts  original  in the map  I don t know what s needed to reproduce it  but wicket weld triggered it for me  You probably need a class with custom serialization which tries to serialize itself recursively  Changing line     to  streamObj  fixed it for me    ',1
'SignInPanel prevents the page being Stateless when signing in with the  rember me  facility     This worked fine with     RC   so I think it is a regression  Start the webapp   mvn clean jetty run   Log in with remember me checked  Stop the webapp restart it   mvn clean jetty run   The browser should re log on and wicket will throw a RuntimeException  If you refresh the browser  you are properly logged on See the attached quickstart    ',0
'Page Lock on Browser Back Button after Page Expiry    In the attached quickstart  after page expiry and browser back navigation  a server error occurs such as  failed to acquire lock to page    attempted for   minutes out of allowed   minute This appears to be related to request logging  but I have seen other strange errors without request logging such asorg apache wicket request handler ComponentNotFoundException  Could not find component  form  on page  class web page ExpiredPagealso with browser history back navigation I have seen none of these errors in Wicket      I guess the reason for not having seen this before it that http cache headers are different in        ',0
'SignInPanel may lead to infinite redirects if there is rememberMe cookie with outdated data    quickstart  zip from WICKET      shows that having outdated  RememberMe  data in the cookie may lead to infinite loop  SignInPanel onBeforeRender     gt  signIn oldCredentials    gt  go to SignInPage   gt  try to load SignInPanel again    ',1
'Wicket     Form Post Action and Link Get discard Page Class Information    Page expiry is a very annoying and perplexing event especially if users stay logged in via remember me cookie It is therefore not a fancy enhancement but an essential business requirement to not drop the user out of context after session expiry Only stateless pages can fully achieve this  but it is not always desirable to go fully stateless  especially while a recovery solution already exists In      this appears to be automatic with BookmarkablePageRequestTargetUrlCodingStrategy   without any additional coding The solution is well known   keep as much state in the client as required to recover the page class  and possibly even its page parameters  and to not destroy this information The two attached testcases show two possible methods of page fallback recovery  one with AJAX  one without  that already work behind the scenes Of course it is easy with AJAX  to just force a page reload  but this is not discussed here  AJAX just serves to demonstrate how easy the principle actually is In most cases the user could successfully reload the page but Wicket     can t create a response because it has forgotten the class of the expired page In      it is possible to recover the class of an expired page via its mount path This feature is lost in     To get this functionality back in a more streamlined fashion  I am additionaly proposing in a separate jira issue      to store page class and page parameters in PageExpiredException Meanwhile  the focus of this issue is to request whatever means to not overwrite the path of a page in a form post action or get request  and to get the page class back as in     by whatever means The two attached testcases may be helpful for expermintation  The     tescase demonstrates how the scheme works  unfortunately I could not fill the blanks in the     testcase In     a form tag is rendered as  lt form wicket id  form  action   wicket interface    form  IFormSubmitListener   This is requested as  testForm   wicket interface    form  IFormSubmitListener  and the page class can be recovered from the mount path  testForm  as in mount new HybridUrlCodingStrategy  testForm   TestPageForm class   an anchor tag is rendered as  lt a href   wicket interface    linkSwitch  ILinkListener   This is requested as  testLink   wicket interface    linkSwitch  ILinkListener  and the page class can be recovered from the mount path  test  as in mount new HybridUrlCodingStrategy  testLink   TestPageLink class   In     a form tag is rendered as  lt form wicket id  form  action  wicket page     IFormSubmitListener form This is requested requested as  wicket page     IFormSubmitListener formThis overwrites the mount path  testForm  as in mountPage  testForm   TestPageForm class  Consequently the server cannot discover the page classan anchor tag is rendered as  lt a href  wicket page     ILinkListener linkSwitch This is requested requested as  wicket page     ILinkListener linkSwitchThis overwrites the mount path  testLink  as in mountPage  testLink   TestPageLink class  Consequently the server cannot discover the page class   ',0
'MarkupContainer toString true  fails with MarkupNotFoundException if the call is made in the component constructor    org apache wicket MarkupContainer toString boolean  uses  if  getMarkup      null   to decide whether to write something for the markup but since recently Component getMarkup   throws MarkupNotFoundException when there is no markup and doesn t return null    ',0
'ComponentStringResourceLoader must not include the index of repeater items in resource lookup but still resolve properties to them    Issue when using a StringResourceModel to lookup a resource for a component underneath a repeating view When a StringResourceModel is used by a component under a repeating view  the ComponentStringResourceLoader doesn t find the resource This seems to be a problem introduced by the fix for      In ComponentStringResourceLoader  getResourcePath excludes all AbstractRepeaters  however getComponentStack doesn t leading to the two being out of sync for the elements of the component hierarchy under the repeating view    ',0
'Fix Javadoc in SimpleAttributeModifier        ',0
'AbstractTree updateTree AjaxRequestTarget target  is invoked even when request is non ajax    I came across an issue when trying to get Brix working in wicket     It occurs when the Tree has  setLinkType LinkType REGULAR  Caused by  java lang IllegalArgumentException  Argument  target  may not be null  at org apache wicket util lang Args notNull Args java     at org apache wicket markup html tree AbstractTree updateTree AbstractTree java       at org apache wicket markup html tree LinkIconPanel onNodeLinkClicked LinkIconPanel java     at org apache wicket markup html tree LinkIconPanel   onClick LinkIconPanel java     at org apache wicket markup html tree BaseTree   onClick BaseTree java      at org apache wicket markup html link Link onLinkClicked Link java     I only had a quick search across the wicket codebase to see if this method is called elsewhereTo fix LinkIconPanel line    should beif  target    null   tree updateTree target   BaseTree   line     also calls updateTree target  with no null check    ',0
'Memory leakage in browser with AbstractAjaxTimerBehavior    Adding an AbstractAjaxTimerBehavior to a page causes the browser  tested on Firefox and Chrome  to leak memory  More noticeable with a short update interval  I have been using   second   It is not as bad in the beginning  but gradually gets worse  eventually increasing memory usage by over  MB per request    ',1
'LocaleFirstMapper does not strip Locale from url in getCompatibilityScore      LocaleFirstMapper delegates the call to getCompatibilityScore   to the chained IRequestMapper without stripping the locale from the url Since most request mappers generate a compatibility score by counting the number of matching segments from the start of the url  they will mostly return a score of   Practically this means that all request mappers behind the LocaleFirstMapper stop responding to urls    ',1
'AjaxIndicatorAppender removes itself immediately when added via ajax    When addding replacing IndicatingAjaxLink s using ajax in Wicket       it s indicator markup is directly removed when parsing the ajax response  The AjaxIndicatorAppender renders a bit of javascript to the response  when it is an ajax request  to remove previous indicators from the dom  see issue WICKET      but in       the execution order of the javascript is different  causing the indicator markup to be added first and the javascript to remove previous versions of the indicator to be run next and thus removing the newly added indicator De ajax debug windows shows that the component is replaced first and then the javascript is run  In        ajax logging shows the javascript run first and then the component gets replaced  resulting in correct behavior    ',0
'Wicket quickstart advertise HTTPS but it doesn t work when started with jetty run    The pregenerated  keystore  is put in src test resources and thus is not in the classpath when started with  mvn jetty run   This leads to a broken link in the home page of the quickstart We should either move the keystore file or disable the link when HTTPS is not enabled    ',0
'INamedParameters getAllNamed   returns a list of NamedPairs defined as inner class of PageParameters    In an attempt to create my own implementation of PageParameterEncoder and PageParameters  I encountered the following problem with the API The interface INamedParameters defines the method getAllNamed   that returns a list of NamedPairs defined as inner class of PageParameters  I believe that an interface shouldnt be referencing any element from an implementation to be a true extensible interface    ',0
'Error detaching RequestCycle listener after serialization failure    Error detaching RequestCycle listener is produced after org apache wicket serialize java JavaSerializer serialize Object  returns null Below is the stacktrace of the error                         ERROR org apache wicket request cycle RequestCycleListenerCollection   notify       Error detaching request cycle listener  org apache wicket Application   b  ad djava lang IllegalArgumentException  Argument  data  may not be null  at org apache wicket util lang Args notNull Args java     at org apache wicket pageStore AsynchronousDataStore Entry  lt init gt  AsynchronousDataStore java      at org apache wicket pageStore AsynchronousDataStore storeData AsynchronousDataStore java      at org apache wicket pageStore DefaultPageStore storePageData DefaultPageStore java      at org apache wicket pageStore DefaultPageStore storePage DefaultPageStore java      at org apache wicket page PageStoreManager PersistentRequestAdapter storeTouchedPages PageStoreManager java      at org apache wicket page RequestAdapter commitRequest RequestAdapter java      at org apache wicket page AbstractPageManager commitRequest AbstractPageManager java     at org apache wicket page PageManagerDecorator commitRequest PageManagerDecorator java     at org apache wicket page PageAccessSynchronizer   commitRequest PageAccessSynchronizer java      at org apache wicket Application   onDetach Application java       at org apache wicket request cycle RequestCycleListenerCollection   notify RequestCycleListenerCollection java      at org apache wicket request cycle RequestCycleListenerCollection   notify RequestCycleListenerCollection java     at org apache wicket util listener ListenerCollection reversedNotify ListenerCollection java      at org apache wicket util listener ListenerCollection reversedNotify ListenerCollection java      at org apache wicket request cycle RequestCycleListenerCollection onDetach RequestCycleListenerCollection java     at org apache wicket request cycle RequestCycle onDetach RequestCycle java      at org apache wicket request cycle RequestCycle detach RequestCycle java      at org apache wicket request cycle RequestCycle processRequestAndDetach RequestCycle java      at org apache wicket protocol http WicketFilter processRequest WicketFilter java      at org apache wicket protocol http WicketFilter doFilter WicketFilter java      at org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java      at org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java      at org apache catalina core StandardWrapperValve invoke StandardWrapperValve java      at org apache catalina core StandardContextValve invoke StandardContextValve java      at org apache catalina authenticator AuthenticatorBase invoke AuthenticatorBase java      at org apache catalina core StandardHostValve invoke StandardHostValve java      at org apache catalina valves ErrorReportValve invoke ErrorReportValve java      at org apache catalina valves AccessLogValve invoke AccessLogValve java      at org apache catalina core StandardEngineValve invoke StandardEngineValve java      at org apache catalina connector CoyoteAdapter service CoyoteAdapter java      at org apache coyote http   Http  Processor process Http  Processor java      at org apache coyote AbstractProtocol AbstractConnectionHandler process AbstractProtocol java      at org apache tomcat util net JIoEndpoint SocketProcessor run JIoEndpoint java      at java util concurrent ThreadPoolExecutor Worker runTask ThreadPoolExecutor java      at java util concurrent ThreadPoolExecutor Worker run ThreadPoolExecutor java      at java lang Thread run Thread java        ',0
'SmartLinkLabel doesn t recognize already tagged links    The SmartLinkLabel works as expected for the texts without  lt a gt    lt  a gt  tag  for text likeextensions   http   www wicketframework org wicket extensions index html are cool  SmartLinkLabel generates the html   extensions    lt a href  http   www wicketframework org wicket extensions index html  gt http   www wicketframework org wicket extensions index html lt  a gt  are cool  but for the text likeextensions    lt a href  http   www wicketframework org wicket extensions index html  gt http   www wicketframework org wicket extensions index html lt  a gt  are cool  SmartLinkLabel generates the html   extensions    lt a href   lt a href  http   www wicketframework org wicket extensions index html  gt http   www wicketframework org wicket extensions index html lt  a gt   gt  lt a href  http   www wicketframework org wicket extensions index html  gt http   www wicketframework org wicket extensions index html lt  a gt  lt  a gt  are cool  I think this is a bug  amp  needs a fix    ',0
'addDomReadyEvent broken for IE    Wicket Event addDomReadyEvent is broken in IE since        I identified WICKET      as the cause of the problem  onreadystatechange with readyState  loaded  is sometimes fired before the document is fully loaded  causing scripts that reference DOM nodes to fail See http   msdn microsoft com en us library ms         v vs       aspx for the order of the readystate events The attached quickstart reproduces the issue  you may need to F  a few times as it does not happen reliably   The actual JS error is SCRIPT      The property  onkeydown  has no value  The object is null or undefinedwicket autocomplete ver               js  Line    Character     ',0
'Automatic Image Linking broken for images in base packages    Automatic linking seems to be broken when used in conjunction with base classes and referencing relative images located in a different package The attached quickstart application contains a base page wicket bugs autolink page base BasePage whose HTML references an image located at  lt BasePage Package gt  theme logo png   lt img src  theme logo png      gt When accessing this page via http   localhost      base the image is rendered as expected The application contains a second page wicket bugs autolink page home HomePage extending the BasePage and that adds a second reference to this image via  lt img src     base theme logo png      gt    gt  this kind of references used to work in Wicket    When accessing this page via http   localhost      home none of the two images  the one inherited from the base page and the one added  is displayed The inherited image reference is rendered as   lt img src  theme logo png  border     onclick  window location href       theme logo png       return false    gt    gt  theme logo png seems not to be an auto link   gt  I have no idea why an onclick event is rendered by Wicketand the explicitly added image reference is rendered as  lt img src  wicket resource wicket bugs autolink page home HomePage    base theme logo ver               png    gt    gt  accessing the URL http   localhot      wicket resource wicket bugs autolink page home HomePage    base theme logo ver               png results in WARN   WicketObjects   Could not resolve class      base     java lang ClassNotFoundException  base at java net URLClassLoader   run URLClassLoader java      at java security AccessController doPrivileged Native Method  at java net URLClassLoader findClass URLClassLoader java      at java lang ClassLoader loadClass ClassLoader java      at sun misc Launcher AppClassLoader loadClass Launcher java      at java lang ClassLoader loadClass ClassLoader java      at org eclipse jetty webapp WebAppClassLoader loadClass WebAppClassLoader java      at org eclipse jetty webapp WebAppClassLoader loadClass WebAppClassLoader java      at java lang ClassLoader loadClassInternal ClassLoader java      at java lang Class forName  Native Method  at java lang Class forName Class java      at org apache wicket application AbstractClassResolver resolveClass AbstractClassResolver java      at org apache wicket util lang WicketObjects resolveClass WicketObjects java     at org apache wicket request mapper BasicResourceReferenceMapper resolveClass BasicResourceReferenceMapper java      at org apache wicket request mapper BasicResourceReferenceMapper mapRequest BasicResourceReferenceMapper java      at org apache wicket request mapper ParentPathReferenceRewriter mapRequest ParentPathReferenceRewriter java     at org apache wicket request mapper CompoundRequestMapper mapRequest CompoundRequestMapper java      at org apache wicket request cycle RequestCycle resolveRequestHandler RequestCycle java      at org apache wicket request cycle RequestCycle processRequest RequestCycle java      at org apache wicket request cycle RequestCycle processRequestAndDetach RequestCycle java      at org apache wicket protocol http WicketFilter processRequest WicketFilter java      at org apache wicket protocol http WicketFilter doFilter WicketFilter java        ',0
'Localizer getCacheKey   generating redundant keys for same values causing memory leak     Note  To reproduce this  just add a breakpoint or a logger in Localizer addKeyToCache    After running all pages scenarios once that method should not be called again  But if it does get called you know that there are redundant keys being produced for the same value After running a web app for about a day  I will get out of mem exception  With a heap dump I will see most of the memory taken by Localizer  with keys such as androidapp     wicket link                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Each of these types of keys are duplicated several thousand times  Here is a snipplet if the report Found    occurrences of char   with at least    instances having identical content  Total size is             bytes Top elements include       x androidapp     wicket link                                    bytes       x facebook     wicket link                                      bytes       x home    autolink       wicket link                            bytes       x candidates    autolink       wicket link                      bytes     x candidates    autolink       wicket link                      bytes    ',1
'Automatic Linking in base page broken    Automatic linking used in base pages is broken The attached quickstart application contains a base page wicket bugs autolink page base BasePage which has a relative image reference   lt img src  theme logo png  border     width    px  height    px    gt When accessing this page via http   localhost      base the image is rendered as expected The generated HTML output is   lt img src  wicket resource wicket bugs autolink page base BasePage theme logo ver               png  border     width    px  height    px   gt The application contains a second page wicket bugs autolink page home HomePage extending the BasePage When accessing this page via http   localhost      home the image inherited from the base page is not displayed The inherited image reference is rendered as   lt img src  theme logo png  border     onclick  window location href       theme logo png       return false    gt    gt  Problem    theme logo png is not autolinked anymore  it should point to wicket resource wicket bugs autolink page base BasePage theme logo ver               png   gt  Problem    for some reasons a onclick event is rendered by Wicket I configured the Wicket app with  public void init     super init    getMarkupSettings   setAutomaticLinking true   getResourceSettings   setParentFolderPlaceholder   up     mountPage   home   HomePage class   mountPage   base   BasePage class       ',0
'NPE in CachingResourceStreamLocator due to the search in parent s markup in Autolink code    Trying to open http   localhost      mappers en US  Request Mapper examples  the following exception is thrown java lang NullPointerException at org apache wicket util resource locator caching CachingResourceStreamLocator locate CachingResourceStreamLocator java      at org apache wicket request resource PackageResource exists PackageResource java      at org apache wicket markup resolver AutoLinkResolver ResourceReferenceAutolink  lt init gt  AutoLinkResolver java      at org apache wicket markup resolver AutoLinkResolver AbstractAutolinkResolverDelegate newPackageResourceReferenceAutoComponent AutoLinkResolver java      at org apache wicket markup resolver AutoLinkResolver AnchorResolverDelegate newAutoComponent AutoLinkResolver java      at org apache wicket markup resolver AutoLinkResolver resolveAutomaticLink AutoLinkResolver java      at org apache wicket markup resolver AutoLinkResolver resolve AutoLinkResolver java       It is caused by my fix for WICKET      from yesterday    ',0
'AbstractResourceAggregatingHeaderResponse does not order javascript properly    I decided to give AbstractResourceAggregatingHeaderResponse a try but I found a problem in its design that  I think  makes it unusable How it works   the IHeaderResponse renderJavaScriptReference ResourceReference  methods are intercepted and the resource references are stored in a list and not rendered right away  Each resource ref is assigned a key for grouping   When close   is called on the response  the aggregator writes out all the accumulated resource references which have not been rendered yet  This step can be used to group multiple resources into a single merged resource The problem AbstractResourceAggregatingHeaderResponse does not intercept calls to IHeaderResponse renderJavaScriptReference url  or IHeaderResponse renderJavaScript Script   They are directly executed by the underlying response example AbstractDefaultAjaxBehavior renderHead   does the following   response renderJavaScriptReference WicketEventReference INSTANCE   response renderJavaScriptReference WicketAjaxReference INSTANCE   response renderJavaScript  Wicket Ajax baseUrl                 With the non aggregating header response  the Wicket  js ref script tags are rendered in the markup before the inline javascript code and all is well With the aggregating version  the Wicket js resource references are rendered last  in close     This means that the inline javascript code  which uses Wicket Ajax  is executed before the Wicket  js files are loaded  causing a javascript error  Wicket is undefined  This problem also applies to css resource references because order of inclusion is important for them too Short of a big refactor to force each rendered javascript to list its dependencies  I don t see how this problem can be solved  I opened this ticket primarily to share my findings and let people comment on possible solutions other than removing the code The problem is also present in AbstractDependencyRespectingResourceAggregatingHeaderResponse NOTE wiQuery uses AbstractResourceAggregatingHeaderResponse  but resolves the issue by intercepting all renderJavaScript  methods and keeping their order    ',0
'Error page resource relative urls are wrong    The wicket page exposed as     error page has wrong links to resources  The sample project is attached Run the project with  mvn jetty run  and go to url  http   localhost      bug        it s mapped wicket page  works perfect  But if you type any wrong url such as  http   localhost      bug aaaaaa  the page doesn t have styles and images    ',0
'Enclosure can t find a child with deeper path in TransparentWebMarkupContainer    Using the Wicket enclosure tag in an TransparentWebMarkupContainer throws the following exception  I ve just converted some working        code to       and got this error  see also http   apache wicket         n  nabble com Enclosures and transparent WebContainer tp       p        html   Changing the component hierarchy without using a transparent WebMarkupContainer would fix the problem  but this is not an option if you migrate projects from     to    org apache wicket WicketRuntimeException  Could not find child with id  column info in the wicket enclosure at org apache wicket markup html internal Enclosure checkChildComponent Enclosure java      at org apache wicket markup html internal Enclosure getChildComponent Enclosure java      at org apache wicket markup html internal Enclosure onInitialize Enclosure java      at org apache wicket Component fireInitialize Component java      at org apache wicket MarkupContainer internalInitialize MarkupContainer java       at org apache wicket MarkupContainer addedComponent MarkupContainer java      at org apache wicket MarkupContainer add MarkupContainer java      at org apache wicket MarkupContainer autoAdd MarkupContainer java      at org apache wicket MarkupContainer renderNext MarkupContainer java       at org apache wicket MarkupContainer renderAll MarkupContainer java       at org apache wicket MarkupContainer renderComponentTagBody MarkupContainer java       at org apache wicket MarkupContainer onComponentTagBody MarkupContainer java       at org apache wicket markup html panel DefaultMarkupSourcingStrategy onComponentTagBody DefaultMarkupSourcingStrategy java     at org apache wicket Component internalRenderComponent Component java       at org apache wicket MarkupContainer onRender MarkupContainer java       at org apache wicket Component internalRender Component java       at org apache wicket Component render Component java       at org apache wicket MarkupContainer renderNext MarkupContainer java       at org apache wicket MarkupContainer renderAll MarkupContainer java       at org apache wicket Page onRender Page java      at org apache wicket markup html WebPage onRender WebPage java      at org apache wicket Component internalRender Component java       at org apache wicket Component render Component java       at org apache wicket Page renderPage Page java       at org apache wicket request handler render WebPageRenderer renderPage WebPageRenderer java      at org apache wicket request handler render WebPageRenderer respond WebPageRenderer java      at org apache wicket request handler RenderPageRequestHandler respond RenderPageRequestHandler java      at org apache wicket request cycle RequestCycle HandlerExecutor respond RequestCycle java      at org apache wicket request RequestHandlerStack execute RequestHandlerStack java     at org apache wicket request cycle RequestCycle execute RequestCycle java      at org apache wicket request cycle RequestCycle processRequest RequestCycle java      at org apache wicket request cycle RequestCycle processRequestAndDetach RequestCycle java      at org apache wicket protocol http WicketFilter processRequest WicketFilter java      at org apache wicket protocol http WicketFilter doFilter WicketFilter java      at org eclipse jetty servlet ServletHandler CachedChain doFilter ServletHandler java       at org eclipse jetty servlet ServletHandler doHandle ServletHandler java      at org eclipse jetty server handler ScopedHandler handle ScopedHandler java      at org eclipse jetty security SecurityHandler handle SecurityHandler java      at org eclipse jetty server session SessionHandler doHandle SessionHandler java      at org eclipse jetty server handler ContextHandler doHandle ContextHandler java      at org eclipse jetty servlet ServletHandler doScope ServletHandler java      at org eclipse jetty server session SessionHandler doScope SessionHandler java      at org eclipse jetty server handler ContextHandler doScope ContextHandler java      at org eclipse jetty server handler ScopedHandler handle ScopedHandler java      at org eclipse jetty server handler ContextHandlerCollection handle ContextHandlerCollection java      at org eclipse jetty server handler HandlerCollection handle HandlerCollection java      at org eclipse jetty server handler HandlerWrapper handle HandlerWrapper java      at org eclipse jetty server Server handle Server java      at org eclipse jetty server HttpConnection handleRequest HttpConnection java      at org eclipse jetty server HttpConnection RequestHandler headerComplete HttpConnection java      at org eclipse jetty http HttpParser parseNext HttpParser java      at org eclipse jetty http HttpParser parseAvailable HttpParser java      at org eclipse jetty server AsyncHttpConnection handle AsyncHttpConnection java     at org eclipse jetty io nio SelectChannelEndPoint handle SelectChannelEndPoint java      at org eclipse jetty io nio SelectChannelEndPoint   run SelectChannelEndPoint java     at org eclipse jetty util thread QueuedThreadPool runJob QueuedThreadPool java      at org eclipse jetty util thread QueuedThreadPool   run QueuedThreadPool java      at java lang Thread run Thread java        ',0
'NullPointerException in JsonRequestLogger when logging resource requests    The use of NopAnnotationIntrospector causes NullPointerExceptions when trying to log enum values  The attached patch fixes this by changing to JacksonAnnotationIntrospector  which is the default introspector    ',0
'AppendingStringBuffer insert  infinite loop    When trying to insert a StringBuffer into an AppendingStringBuffer  the method public AppendingStringBuffer insert final int offset  final Object obj will call itself repeatedly generating an infinite loop The fix would be to call toString   method if the object is a StringBufferpublic AppendingStringBuffer insert final int offset  final Object obj    if  obj instanceof AppendingStringBuffer    AppendingStringBuffer asb    AppendingStringBuffer obj  return insert offset  asb value     asb count     else if  obj instanceof StringBuffer      return insert offset  obj   return insert offset  obj toString       return insert offset  String valueOf obj        ',1
'ListenerInterfaceRequestHandler should not assume existence of a page    ListenerInterfaceRequestHandler should not assume a page instance is always available in isPageInstanceCreated  This handler can also be used for links on bookmarkable pages  The attached patch fixes this    ',0
'dropping ajax request causes componentnotfoundexception    issue described in http   osdir com ml users wicket apache org         msg      html   ',0
'AbstractResourceAggregatingHeaderResponse forgets some information about references    Seen in Wicket       and SVN r         AbstractResourceAggregatingHeaderResponse java public void renderJavaScriptReference String url  String id  boolean defer    topLevelReferences add new ResourceReferenceAndStringData null  null  url  null  ResourceType JS  defer  null  null     forgets the id  public void renderCSSReference ResourceReference reference  PageParameters pageParameters  String media  String condition    topLevelReferences add new ResourceReferenceAndStringData reference  null  null  media  ResourceType CSS  false  null  condition     forgets the page parameters I think a quickstart should not be necessary    ',0
'DebugBar displays stacktrace with FeedbackPanels    Clicking Inspector from DebugBar when a FeedbackPanel is displaying a message results in this stacktrace in log  Everything seems to work  extra stuff in logs is just annoying ERROR   Component   Error while getting default model object for Component   ListItem      Component id      page   com mycompany HomePage  path     form feedback feedbackul messages   ListItem  isVisible   true  isVersioned   false       children        Component id   message      java lang IndexOutOfBoundsException  Index    at java util Collections EmptyList get Collections java       at org apache wicket markup html list ListItemModel getObject ListItemModel java     at org apache wicket Component getDefaultModelObject Component java       at org apache wicket Component getDefaultModelObjectAsString Component java       at org apache wicket markup html debug PageView   component PageView java      at org apache wicket markup html debug PageView   component PageView java      at org apache wicket util visit Visits visitChildren Visits java      at org apache wicket util visit Visits visitChildren Visits java      at org apache wicket util visit Visits visitChildren Visits java      at org apache wicket util visit Visits visitChildren Visits java      at org apache wicket util visit Visits visitChildren Visits java      at org apache wicket util visit Visits visitChildren Visits java      at org apache wicket util visit Visits visitChildren Visits java      at org apache wicket MarkupContainer visitChildren MarkupContainer java      at org apache wicket markup html debug PageView getComponentData PageView java      at org apache wicket markup html debug PageView  lt init gt  PageView java      at org apache wicket devutils inspector InspectorPage  lt init gt  InspectorPage java     at sun reflect NativeConstructorAccessorImpl newInstance  Native Method  at sun reflect NativeConstructorAccessorImpl newInstance NativeConstructorAccessorImpl java     at sun reflect DelegatingConstructorAccessorImpl newInstance DelegatingConstructorAccessorImpl java     at java lang reflect Constructor newInstance Constructor java      at org apache wicket session DefaultPageFactory newPage DefaultPageFactory java      at org apache wicket session DefaultPageFactory newPage DefaultPageFactory java     at org apache wicket session DefaultPageFactory newPage DefaultPageFactory java     at org apache wicket DefaultMapperContext newPageInstance DefaultMapperContext java      at org apache wicket request handler PageProvider resolvePageInstance PageProvider java      at org apache wicket request handler PageProvider getPageInstance PageProvider java      at org apache wicket request handler render PageRenderer getPage PageRenderer java     at org apache wicket request handler render WebPageRenderer renderPage WebPageRenderer java      at org apache wicket request handler render WebPageRenderer respond WebPageRenderer java      at org apache wicket request handler RenderPageRequestHandler respond RenderPageRequestHandler java      at org apache wicket request cycle RequestCycle HandlerExecutor respond RequestCycle java      at org apache wicket request RequestHandlerStack execute RequestHandlerStack java     at org apache wicket request cycle RequestCycle execute RequestCycle java      at org apache wicket request cycle RequestCycle processRequest RequestCycle java      at org apache wicket request cycle RequestCycle processRequestAndDetach RequestCycle java      at org apache wicket protocol http WicketFilter processRequest WicketFilter java      at org apache wicket protocol http WicketFilter doFilter WicketFilter java      at org eclipse jetty servlet ServletHandler CachedChain doFilter ServletHandler java       at org eclipse jetty servlet ServletHandler doHandle ServletHandler java      at org eclipse jetty server handler ScopedHandler handle ScopedHandler java      at org eclipse jetty security SecurityHandler handle SecurityHandler java      at org eclipse jetty server session SessionHandler doHandle SessionHandler java      at org eclipse jetty server handler ContextHandler doHandle ContextHandler java      at org eclipse jetty servlet ServletHandler doScope ServletHandler java      at org eclipse jetty server session SessionHandler doScope SessionHandler java      at org eclipse jetty server handler ContextHandler doScope ContextHandler java      at org eclipse jetty server handler ScopedHandler handle ScopedHandler java      at org eclipse jetty server handler HandlerWrapper handle HandlerWrapper java      at org eclipse jetty server Server handle Server java      at org eclipse jetty server HttpConnection handleRequest HttpConnection java      at org eclipse jetty server HttpConnection RequestHandler headerComplete HttpConnection java      at org eclipse jetty http HttpParser parseNext HttpParser java      at org eclipse jetty http HttpParser parseAvailable HttpParser java      at org eclipse jetty server BlockingHttpConnection handle BlockingHttpConnection java     at org eclipse jetty server bio SocketConnector ConnectorEndPoint run SocketConnector java      at org eclipse jetty util thread QueuedThreadPool runJob QueuedThreadPool java      at org eclipse jetty util thread QueuedThreadPool   run QueuedThreadPool java      at java lang Thread run Thread java        ',0
'UrlRenderer renders invalid relative URLs if first segment contains colon    Seen on Wicket       If a relative url of a link starts with a path segment containing a colon then the whole uri will be regarded as absolute uri  so typically browsers will complain that there is no handle for the protocol foo in foo bar dee per See also the attached quickstart  The start page contains three links  one relative with colon  one absolute and one to a mounted page without colon for comparison The application also has a static switch to add an extended urlrenderer  prepending      if needed  This fix is merely a quick shot and there might be better alternatives    ',0
'Wicket autocomplete keeps working on the replaced element when somehow the element is replaced by another ajax request when it is shown        ',0
'Thread Test Uses Sun Proprietary API    The ResourceTestPage class uses classes from com sun   packages to do image I O  This breaks the build for me using Oracle s JDK  on linux  see environment   You should use the ImageIO class instead    ',0
'Select component loses it s value    Select component loses selected option and shows the first option in some situations  one example is when you try to submit a form  but there are validation errors  It was working fine in         but it s broken in        This must be caused by the solution from this issue https   issues apache org jira browse WICKET     I think the problem is likely in Select isSelected method  where String   paths   getInputAsArray   is actually an array of uuid s  so uuid s are compared to paths I haven t tested wicket      but this problem may also affect     versions    ',0
'Performance regression in Component configure   in        Wicket     is slower than     in rendering deep component trees See the attached application that adds recursively components with specified depth  In     it is several times slower than     I found several problems    org apache wicket Component configure   calls org apache wicket Component setRenderAllowed  The problems is that configure   is called for each component in the hierarchy and setRenderAllowed   is overwritten in MarkupContainer to visit all children and call it for them  And the final result is that setRenderAllowed   is called for the parent and all its children  then for the first child and all its children again  and so on   The solution is to completely remove org apache wicket MarkupContainer setRenderAllowed     If you increase the number of components to  gt       in     we hit StackOverflowError in      org apache wicket MarkupContainer getMarkupType       org apache wicket Component getLocale       org apache wicket MarkupContainer internalMarkRendering boolean For     and     I suggest to add transient fields which will cache the calculated value after the first call of the get method For     I don t see a solution for now   ',1
'CheckGroupSelector  Select all  behavior broken when the CheckGroup contains a single check box     When CheckGroupSelector is used with a CheckGroup that contains a single checkbox  select all behavior is broken  The problem is in CheckGroupSelector js which assumes  gt   checkboxes in a CheckGroup    ',0
'ListView causes page ID increment    A ListView with setReuseItems false  causes the page ID to increment when the page is reloaded or the back button is pressed  This new ID is not reflected in the URL so Ajax actions against the new ID are lost when navigating away and back again  Steps to reproduce in quickstart   Load quickstart project in browser   Click  Link to Other  then click browser s back button    Notice the log statement indicates the HomePage ID is    yet the URL remains at ID     Click  Ajax Increment Link  a few times   Click  Link to Other  then click browser s back button   Notice the counter is at zero  and subsequent clicks to the  Ajax Increment Link  start from zero  The current page ID output in the log is      ',0
'MockHttpServletResponse addCookie Cookie  adds duplicate cookies    org apache wicket protocol http mock MockHttpServletResponse addCookie Cookie  makes a bad check whether the cookie to be added is already in the list of cookies Since javax servlet http Cookie doesn t implement  equals    cookies remove cookie   wont remove the previous cookie because the identity is different According to http   www ietf org rfc rfc     txt  p         If a user agent receives a Set Cookie response header whose NAME is the same as a pre existing cookie  and whose Domain and Path attribute values exactly  string  match those of a pre existing cookie  the new cookie supersedes the old  However  if the Set  Cookie has a value for Max Age of zero  the  old and new  cookie is discarded  Otherwise cookies accumulate until they expire  resources permitting   at which time they are discarded I e  the equality is on the name  path and domain    ',0
'FormTester doesn t handle nested forms correctly    While working on WICKET       I discovered that FormTester doesn t handle nested form submits correctly The browser will always submit the outermost form  because that is the only form it sees  Wicket will then determine the correct form by looking at the submitting component  If you create a FormTester on an inner form  however  the test request will point directly at that inner form  This is a problem for the new feature in WICKET       but also in general since it does not correctly model the actual interaction  Also the submitting component is not found due to the wrong form being looked at   form getRootForm      Form this in Form findSubmittingButton    This means that for a nested form  the submitting component could never be found  I think it s mostly luck that this is not a bigger issue in tests It is possible to have the correct handling in a test  if you do newFormTester outerForm  and then submit with a submit button in the inner form  formtester submit  inner submitButton    I think FormTester should do the correct thing on its own though  The fix is trivial  in submit   don t just use the form it s pointing at  but use form getRootForm    This fixes both the correct request handling  as well as the issue with not finding the submitting component I ll attach the appropriate patches    ',0
'StringValueConversionException for correct situation    StringValue toOptionalLong   produces org apache wicket util string StringValueConversionException if empty string was passed Let me suggest  that this behavior should be changes for all toOptionalXXX methods except getOptionalString method The problem in inner code The problem in following code public final Long toOptionalLong   throws StringValueConversionException   return  text    null    null   toLongObject     Should be something like this The problem in following code public final Long toOptionalLong   throws StringValueConversionException   return Strings isEmpty     null   toLongObject     But there is another problem  what to do if incorrect param was passed   for example  abc  for parameter of Long type    ',0
'Logic or Exception Message is incorrect in ModalWindow setCookieName    The logic of the compound conditional statement is incorrect or the message passed to the Exception is incorrect      Sets the name of the cookie that is used to remember window position  and size if the window is resizable     param cookieName Name of the cookie  return this    public StatelessModalWindow setCookieName String cookieName  Unknown macro    if  cookieName    null  amp  amp  cookieName indexOf  quot   quot          amp  amp  cookieName indexOf  quot   quot            throw new IllegalArgumentException  Cookie name may not contain     or     characters       this cookieName   cookieName  return this    The logic reads  If the String is not null and it contains a comma and it contains a pipe  then throw the exception    ',0
'Rerendering a page with WicketTester after you loose permission does not give access denied    Since WICKET      WicketTester does not give an access denied page when you try to rerender a page instance after loosing permission to render that page  A testcase is added to WicketTesterTest  rerenderNotAllowed  to demonstrate the problem    ',0
'BufferedWebResponse fails to add clear cookie in redirect    bufferedWebResponse addCookie  cookie   That fails under certain conditions      when called on the last of three     redirects during OpenID login  and     on single redirect immediately after container startup  though it later recovers  Failure confirmed in Firebug  no cookies sent in any of the response headers  My workaround is to bypass the buffered response  This works   HttpServletResponse bufferedWebResponse getContainerResponse    addCookie  cookie      ',0
'Markup Inheritance   getVariation    markup loading  and merging  order depends on whether the super constructor adds components or not     I have a web page  ChildPage  that inherits  java markup  from a  SuperPage    ChildPage     gt   SuperPage     ChildPage  now needs to override getVariation   to return a variation string  for example  test   The variation string is preferably set in the ChildPages constructor  maybe by a PageParameter I would expect the following markup  ChildPage test html merged with SuperPage html  This is the case  when SuperPage has no component added in its constructor  But when SuperPage has a component added in constructor  then I get ChildPage html merged with SuperPage html quickstart  myproject         wicket        shows ChildPage  inherits from SuperPage   no component added ChildPage  inherits from SuperPage   label added  Click on  load ChildPage  test html     gt  markup ok  ChildPage  test html merged with SuperPage  html Click on  load ChildPage  test html     gt  markup not ok  ChildPage  html merged with SuperPage  html   expected ChildPage  test html merged with SuperPage  htmlsame with  myproject           wicket         works fine At the moment I moved the logic into getVariation   with  return getPageParameters get  variation   toString   This works and that s why I m unsure if it is a bug at all Here is some debugging output from MarkupCache     hildPage  inherits from SuperPage   no component added child constructor        gt  Class ChildPage  variationString testDEBUG   MarkupCache   Load markup  cacheKey com mycompany ChildPage  test en US htmlDEBUG   MarkupCache   Loading markup from file  C  testumgebung eclipseWorkspace myproject target classes com mycompany ChildPage  test htmlDEBUG   AbstractMarkupParser   The markup file does not have a XML declaration prolog with  encoding  attribute file  C  testumgebung eclipseWorkspace myproject target classes com mycompany ChildPage  test html  It is more save to use it  E g   lt  xml version       encoding  UTF      gt DEBUG   WebAppClassLoader   loaded class com mycompany ChildPage  from sun misc Launcher AppClassLoader   b  e DEBUG   MarkupCache   Load markup  cacheKey com mycompany SuperPage  test en US htmlDEBUG   MarkupCache   Loading markup from file  C  testumgebung eclipseWorkspace myproject target classes com mycompany SuperPage  htmlDEBUG   AbstractMarkupParser   The markup file does not have a XML declaration prolog with  encoding  attribute file  C  testumgebung eclipseWorkspace myproject target classes com mycompany SuperPage  html  It is more save to use it  E g   lt  xml version       encoding  UTF      gt DEBUG   MergedMarkup   Merge markup  derived markup  ChildPage  test html  base markup  SuperPage  htmlDEBUG   WebAppClassLoader   loaded class com mycompany SuperPage  from sun misc Launcher AppClassLoader   b  e DEBUG   MergedMarkup   Merge markup  file  C  testumgebung eclipseWorkspace myproject target classes com mycompany ChildPage  test html   ChildPage  inherits from SuperPage   label added DEBUG   MarkupCache   Load markup  cacheKey com mycompany ChildPage  en US htmlDEBUG   MarkupCache   Loading markup from file  C  testumgebung eclipseWorkspace myproject target classes com mycompany ChildPage  htmlDEBUG   AbstractMarkupParser   The markup file does not have a XML declaration prolog with  encoding  attribute file  C  testumgebung eclipseWorkspace myproject target classes com mycompany ChildPage  html  It is more save to use it  E g   lt  xml version       encoding  UTF      gt DEBUG   WebAppClassLoader   loaded class com mycompany ChildPage  from sun misc Launcher AppClassLoader   b  e DEBUG   MarkupCache   Load markup  cacheKey com mycompany SuperPage  en US htmlDEBUG   MarkupCache   Loading markup from file  C  testumgebung eclipseWorkspace myproject target classes com mycompany SuperPage  htmlDEBUG   AbstractMarkupParser   The markup file does not have a XML declaration prolog with  encoding  attribute file  C  testumgebung eclipseWorkspace myproject target classes com mycompany SuperPage  html  It is more save to use it  E g   lt  xml version       encoding  UTF      gt DEBUG   MergedMarkup   Merge markup  derived markup  ChildPage  html  base markup  SuperPage  htmlDEBUG   WebAppClassLoader   loaded class com mycompany SuperPage  from sun misc Launcher AppClassLoader   b  e DEBUG   MergedMarkup   Merge markup  file  C  testumgebung eclipseWorkspace myproject target classes com mycompany ChildPage  html   child constructor        gt  Class ChildPage  variationString test   ',0
'Duplicate html ID for generated divs in modal js    using wicket s ModalWindow creates invalid markup since it creates two divs with id   wicket window       ',0
'Form components  name value are encoded in stateless form s action url    Stateless forms aren t working well as you can see on wicket examples  http   www wicket library com wicket examples stateless fooThe first time you submit   for example  the value      everything works as supposed to  If you now change the value  to    for example  and submit the form  the value wicket shows is    I think the problem is stateless forms are generating an action URL with submitted values on query string  and when you resubmit the form  this values on query string replace the POST or GET  values    ',0
'datatime extension s calendar min js appears to be corrupted   out of sync    In some cases  when including a datepicker as a component inside a modal window  Internet Explorer     throw a runtime exception This happens only in deployment mode  after re minifying calendar js and replacing calendar min js the problem goes away  the files seem to be out of sync or corrupted    ',0
'org apache wicket validation ValidatorAdapter class causes problem with validator properties to be loaded    PROBLEM  lt e nPL gt  hi I am having such problem   lt e nPL gt  I have implemented validator by implementing IValidator lt T gt  interface lt e nPL gt  and I have impelemnted the same validator by extending AbstractValidator lt T gt  classCODE                        VALIDATOR EXTENDED FROM AbstractValidator                       package com mycompany  import java util regex Pattern  import org apache wicket IClusterable  import org apache wicket util lang Classes  import org apache wicket validation IValidatable  import org apache wicket validation IValidator  import org apache wicket validation ValidationError  import org apache wicket validation validator AbstractValidator         author e n    public class PasswordPolicyValidator lt T gt  extends AbstractValidator lt T gt    private static final Pattern UPPER   Pattern compile       A Z         private static final Pattern LOWER   Pattern compile       a z         private static final Pattern NUMBER   Pattern compile                    Override public void onValidate IValidatable lt T gt  validatable    final String password    String validatable getValue    if   NUMBER matcher password  find      error validatable   no digit      if   LOWER matcher password  find      error validatable   no lower      if   UPPER matcher password  find      error validatable   no upper           Override public void error IValidatable lt T gt  validatable  String errorKey    ValidationError err   new ValidationError    err addMessageKey Classes simpleName getClass            errorKey   validatable error err                          VALIDATOR directly implementing IValidator interfce                      package com mycompany   import java util regex Pattern  import org apache wicket IClusterable  import org apache wicket util lang Classes  import org apache wicket validation IValidatable  import org apache wicket validation IValidator  import org apache wicket validation ValidationError  import org apache wicket validation validator AbstractValidator            author e n    public class PasswordPolicyValidator lt T gt  implements IValidator lt T gt     private static final Pattern UPPER   Pattern compile       A Z         private static final Pattern LOWER   Pattern compile       a z         private static final Pattern NUMBER   Pattern compile                    public void validate IValidatable lt T gt  validatable    final String password    String validatable getValue     if   NUMBER matcher password  find      error validatable   no digit      if   LOWER matcher password  find      error validatable   no lower      if   UPPER matcher password  find      error validatable   no upper        public void error IValidatable lt T gt  validatable  String errorKey    ValidationError err   new ValidationError    err addMessageKey Classes simpleName getClass            errorKey   validatable error err       lt e nPL gt  I also have properties file which is named after validator class lt e nPL gt  and placed in the same package lt e nPL gt  my problem is that when i use to validate my form field validator which implements IValidator interface it is not capable of loading error messages from properties file lt e nPL gt  but when i am using validator which is extending AbstractValidator class lt e nPL gt  properties file with error msgs gets loadedPOSSIBLE FIX  lt e nPL gt  ok i have found class which is responsible for my problem and it is probably a bug lt e nPL gt  org apache wicket validation ValidatorAdapter lt e nPL gt  which wraps classes that directly implements IValidator interface lt e nPL gt  then when resources are loaded  and properties file are searched in class path etc   loaders search in wrong path that is build against org apache wicket validation ValidatorAdapter PLACE WHER FIX SHOULD OCCOURorg apache wicket resource loader ValidatorStringResourceLoader  loadStringResource java lang Class java lang String java util Locale java lang String java lang String    ',0
'StringIndexOutOfBoundsException when forwarding requests    We re getting StringIndexOutOfBoundsException from wicket when forwarding a request from our servlet filter  using request dispatcher  to wicket The problem occurs whenever the original URI is shorter than the wicket filter mapping I created an example webapp  based on the quickstart  in which a ForwardFilter is mapped to  f   and it forwards all the requests to  wicket   see web xml snippet below  With this webapp a request to  http   localhost      wicket f   results in the following exception ERROR   RequestCycle   Error during processing error messagejava lang StringIndexOutOfBoundsException  String index out of range     at java lang String substring String java       at java lang String substring String java       at org apache wicket protocol http servlet ServletWebRequest getContextRelativeUrl ServletWebRequest java      at org apache wicket protocol http servlet ServletWebRequest getClientUrl ServletWebRequest java      at org apache wicket request UrlRenderer  lt init gt  UrlRenderer java     at org apache wicket request cycle RequestCycle newUrlRenderer RequestCycle java      at org apache wicket request cycle RequestCycle getUrlRenderer RequestCycle java      at org apache wicket request handler render WebPageRenderer respond WebPageRenderer java      at org apache wicket request handler RenderPageRequestHandler respond RenderPageRequestHandler java      at org apache wicket request cycle RequestCycle HandlerExecutor respond RequestCycle java      at org apache wicket request RequestHandlerStack execute RequestHandlerStack java     at org apache wicket request cycle RequestCycle executeExceptionRequestHandler RequestCycle java      at org apache wicket request cycle RequestCycle executeExceptionRequestHandler RequestCycle java      at org apache wicket request cycle RequestCycle executeExceptionRequestHandler RequestCycle java      at org apache wicket request cycle RequestCycle executeExceptionRequestHandler RequestCycle java      at org apache wicket request cycle RequestCycle executeExceptionRequestHandler RequestCycle java      at org apache wicket request cycle RequestCycle executeExceptionRequestHandler RequestCycle java      at org apache wicket request cycle RequestCycle executeExceptionRequestHandler RequestCycle java      at org apache wicket request cycle RequestCycle executeExceptionRequestHandler RequestCycle java      at org apache wicket request cycle RequestCycle executeExceptionRequestHandler RequestCycle java      at org apache wicket request cycle RequestCycle executeExceptionRequestHandler RequestCycle java      at org apache wicket request cycle RequestCycle executeExceptionRequestHandler RequestCycle java      at org apache wicket request cycle RequestCycle processRequest RequestCycle java      at org apache wicket request cycle RequestCycle processRequestAndDetach RequestCycle java      at org apache wicket protocol http WicketFilter processRequest WicketFilter java      at org apache wicket protocol http WicketFilter doFilter WicketFilter java      at org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java      at org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java      at org apache catalina core ApplicationDispatcher invoke ApplicationDispatcher java      at org apache catalina core ApplicationDispatcher processRequest ApplicationDispatcher java      at org apache catalina core ApplicationDispatcher doForward ApplicationDispatcher java      at org apache catalina core ApplicationDispatcher forward ApplicationDispatcher java      at org jfrog ForwardFilter doFilter ForwardFilter java     at org apache catalina core ApplicationFilterChain internalDoFilter ApplicationFilterChain java      at org apache catalina core ApplicationFilterChain doFilter ApplicationFilterChain java      at org apache catalina core StandardWrapperValve invoke StandardWrapperValve java      at org apache catalina core StandardContextValve invoke StandardContextValve java      at org apache catalina authenticator AuthenticatorBase invoke AuthenticatorBase java      at org apache catalina core StandardHostValve invoke StandardHostValve java      at org apache catalina valves ErrorReportValve invoke ErrorReportValve java      at org apache catalina valves AccessLogValve invoke AccessLogValve java      at org apache catalina core StandardEngineValve invoke StandardEngineValve java      at org apache catalina connector CoyoteAdapter service CoyoteAdapter java      at org apache coyote http   Http  AprProcessor process Http  AprProcessor java      at org apache coyote http   Http  AprProtocol Http  ConnectionHandler process Http  AprProtocol java      at org apache tomcat util net AprEndpoint SocketProcessor run AprEndpoint java       at java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java       at java util concurrent ThreadPoolExecutor Worker run ThreadPoolExecutor java      at java lang Thread run Thread java     web xml snippet  lt filter gt   lt filter name gt forward lt  filter name gt   lt filter class gt org jfrog ForwardFilter lt  filter class gt   lt  filter gt   lt filter gt   lt filter name gt wicket wicket lt  filter name gt   lt filter class gt org apache wicket protocol http WicketFilter lt  filter class gt   lt init param gt   lt param name gt applicationClassName lt  param name gt   lt param value gt org jfrog WicketApplication lt  param value gt   lt  init param gt   lt  filter gt   lt filter mapping gt   lt filter name gt forward lt  filter name gt   lt url pattern gt  f   lt  url pattern gt   lt  filter mapping gt   lt filter mapping gt   lt filter name gt wicket wicket lt  filter name gt   lt url pattern gt  wicket   lt  url pattern gt   lt dispatcher gt FORWARD lt  dispatcher gt   lt dispatcher gt REQUEST lt  dispatcher gt   lt  filter mapping gt This bug is opened here following a bug we found in Artifactory after upgrading to Wicket       ',0
'CheckGroup model in AjaxFormChoiceComponentUpdatingBehavior onUpdate contains only last checked item    CheckGroup model in AjaxFormChoiceComponentUpdatingBehavior onUpdate contains only last checked item P S  A model in Form onSubmit contains all selected items    ',0
'Unversioned pages don t get touched when created and cannot be found by ID later    When I tell Wicket not to version pages by default via IPageSettings setVersionPagesByDefault false   created pages cannot be found later by theirs ID  Versioned pages are touched upon creation in dirty boolean  method and thus stored in the page store  But unversioned ones are not  So when I create a Page  wrap it inside a PageProvider and RenderPageRequestHandler  then get its URL with urlFor  the URL is useless  because the page is referenced by its ID in the URL but it cannot be found by that URL later I ll give you an simple example PAGE    public class WicketMainPage extends WebPage    public WicketMainPage     PopupPage page   new PopupPage  Created      new Date        getSession   getPageManager   touchPage page   PageProvider pp   new PageProvider page   RenderPageRequestHandler rh   new RenderPageRequestHandler pp   add new Label  url   urlFor rh  toString          as you can see  I only create an instance of second page  which is not bookmarkable as it has some parameters   wrap it in page provider and request handler and simply output URL for it  of course it is an stateful URL   The second page is just simple outputting text from constructor PAGE    public class PopupPage extends WebPage    public PopupPage String text    add new Label  text   text        When I run this  the app outputs an relative part of URL to the second page    if I copy this into browser  everything works  when pages are versioned  But when I set setVersionPagesByDefault false  I start to get PageExpiredException whe trying to access the second page  When I uncomment the touchPage line  everythings works even with unversiones paged  I think  that instead of explicitly touching the page  it should be done by Wicket when retrieving the url for it  Somewhere in mapUrlFor or mapHandler  etc    Or maybe it should be touched in the dirty method just like versioned pages    ',0
'Wicket     rewrites template content where it should not    I have recently upgraded from Wicket        to        One issue that Iencountered is that  lt script gt  tags in panel templates are rewritten byWicket  even when the  lt script gt  tags in question have no wicket handlersattached to them  I e  the following panel template  notice that thereare no wicket id attributes whatsoever   lt wicket panel gt   lt script id  template upload  type  text x jquery tmpl  gt   lt span gt   name  lt  span gt   lt  script gt  lt  wicket panel gt Would render in the panel as  lt script id  template upload  type  text x jquery tmpl  gt   lt   CDATA    lt span gt   name  lt  span gt     gt   lt  script gt Imho this is unwanted behavior that is a regression from the behavior inWicket     x  or at least          Wicket should not add content to thebody of the script tags  or any other tags in a template  unless theircontent is provided programmatically   as it does not have the knowledgehow that affects the functionality of the page  Moreover  the contentthat Wicket adds to these script tags is only correct for Javascript hence incorrect for the scripts in the example as they are notjavascript   In the above example adding       will change the functionality of the script tag  If the    lt   CDATA   part was necessary in the script tags above  they should be added by theperson that provides the template  not magically added by Wicket I have attached a quickstart that demonstrates the issue  The quickstart has a  lt script id  script   gt Some Text lt  script gt  element in HomePage html that  by javascript  is shown in an alert box  Because of this bug  the alert will now start with    lt   CDATA     while it should simply show the text  See HomePage html in the provided quickstart    ',0
'executeAllTimerBehaviors does not find all timer behaviours    WicketTester tester   new WicketTester   tester startPage WaitPage class  tester assertRenderedPage WaitPage class  tester executeAllTimerBehaviors tester getLastRenderedPage     public WaitPage     Label message   new Label  message    Please wait       add message   add new AjaxSelfUpdatingTimerBehavior Duration milliseconds           Override protected void onPostProcessTarget AjaxRequestTarget target       wait for background thread to complete    if  task isDone          stop    setResponsePage NextPage class        The timer does not fire Problem    The code looks for MarkupContainers Problem    The code looks for AjaxSelfUpdatingTimerBehavior but should look for AbstractAjaxTimerBehavior   ',0
'PageProvider should create a new Page instance if PageParameters are changed  even if a stored page exists     The  getStoredPage int   method returns a stored page instance even if user changes parameter values encoded into URL  and the PageParameters object of the stored page instance is never changed  So same page is displayed always though user changes url on browser manually    HOW TO REPRODUCT        unpack the attached sample project  pagebug tar gz     mvn jetty run   access to http   localhost      user user You will see a form filled with information about user    The user s name is  user     age is    and country is  Japan  The mount path of this page is   user   userId    so  user   in the accessed url is a parameter value after accessing to the url  the url will be changed to http   localhost      user user      it contains the page id of the currently displayed page    change some values and submit the form  page id will be changed on every submit    change only parameter value in url to  user    Never change page id for example  if you now access to http   localhost      user user     change the url to http   localhost      user user        This program must display information about user   because the parameter value of url is changed  But you will see the information of user    Wicket always display the page of page id      even though user changed url manually  In this sample program  I use LoadableDetachableModel for retrieving current parameter value  But I don t get the new parameter value because pageParameters object in a page instance is never changed after the construction  pageParameters is fixed in the constructor of Page class I think that there are no easy way to retrieve parameter values encoded into mount path  Request getRequestParameters   does not contain parameters encoded into mount path  So there are no work around for this issue    HOW TO FIX THIS ISSUE     We must return null from getStoredPage int  method of PageProvider class  if current PageParameters is not same with the PageParameters of a stored page  In current code  getStoredPage int  checks only if the class of both pages are same  We must check the PageParameters of both pages    PATCH     I attached a pache for PageProvider class  try it    ',0
'processScript in Wicket Head Contributor doesn t remove CDATA   eval fails in IE    There s incosistency between org apache wicket util string JavaScriptUtils and wicket ajax jsEven though the source is marked with comment Script open tag  If this tag is changed  also update Wicket Head Contributor processScript   function from wicket ajax jsIn JavaScriptUtils there are public final static String SCRIPT CONTENT PREFIX     n  lt   CDATA   n  public final static String SCRIPT CONTENT SUFFIX     n    gt   n  in wicket ajax js  line      in       version  there are    get rid of prefix and suffix  they are not eval d correctlytext   text replace    lt Unable to render embedded object  File              gt  lt   not found  CDATA         gt  lt                  text   text replace            gt    gt                As you can see the sequences in java and javascript DO NOT MATCH  There are missing new lines in JS and there are extra HTML comments  lt        gt  that aren t added by the Java code The result is  that these extra lines aren t removed and IE fails to eval such a javascript  I could fix this issue by editing the wicket ajax js like this text   text replace    n        lt   CDATA         n       text   text replace   n          gt         n        But we need it fixed officially  because we use gradle for Wicket dependency    ',0
'Repaint the initial state of the page if the page is expired  a new one is freshly created and the requested component is not available    From the users  mailing list  http   markmail org thread ttox ymihtf y  iA ComponentNotFoundException is being thrown if the page is expired  a new page is freshly created and due to component replacement the requested sub component is not reachable The parent component depends on whether a user is logged in  The sub component has a link inside which is not reachable after page expiration because a different parent component is used in this case    ',0
'Autocomplete IE javascript error   target  is null or not an object    When I click to autocomplete textfield the javascript error bellow is shown Webpage error detailsUser Agent  Mozilla      compatible  MSIE      Windows NT      WOW    Trident      SLCC    NET CLR             NET CLR             NET CLR           Timestamp  Thu     Mar               UTCMessage   target  is null or not an objectLine    Char   Code   URI  http   xxx      wicket resource org apache wicket extensions ajax markup html autocomplete AutoCompleteBehavior wicket autocomplete ver C  E  D   C    E D  F   A      F jsWicket       works fine    ',0
'Inline Enclosure needs to check isVisibleInHierarchy  not only isVisible    If the Visibility of the child component from the inline enclure uses setVisibleAllowed  the enclosure is rendered if the component is not visible  Take a look to the updateVisibility method of the InlineEnclosure Class  In my opinion the method should check for isVisibleInHierarchy    ',0
'Component setDefaultModel   should call  modelChanging      Component setDefaultModel   should call  modelChanging   as  setDefaultModelObject   does It worked by chance so far because addStateChange   is called http   markmail org thread uxl uufusggqbb s   ',0
'wicket link component ids get too long    The resolve   method of org apache wicket markup parser filter WicketLinkTagHandler appends modifies the original tag id and appends the next autoId to it  The problem is that this is done during every render  the the component id gets longer and longer I had a situation on a production server where component ids were over   k  RepeatingView just added to the problem Long story short  I think resolve should just return the TransparentWebMarkupContainer with the modified id  and not set the original id    ',1
'TagUtils uses wrong separator in its  copyAttributes      org apache wicket markup TagUtils copyAttributes Component  ComponentTag  uses      as a separator for the attributes that it copies If the attribute is  class  then the separator should be      if it is  style  or  onclick  then it should be             ',0
'TextTemplate in RenderHead   on component doesn t Re Render for every page    I have a project that uses a menu thats repeated on every page  If I first view it on a mounted page  PageName and then look at it on a BookMarkable page wicket bookmarkable page class name foo the images referenced in my template do not appear  the javascript template image strings do not change    ',0
'HtmlHandler wrongly handles tags not requiring closed tags if the markup does not have  top  level tag    Hi  I have custom component  extends MarkupContainer implements IMarkupCacheKeyProvider  IMarkupResourceStreamProvider  which fetches its HTML markup from database  Following HTML markup   lt img alt    src  logo png  gt   lt br gt Some text  lt br gt Some more text causes following error                               http             ERROR  Unexpected error occurred Unable to find close tag for    lt img alt  logo  src  logo png  gt   in org apache wicket util resource StringResourceStream  d e  fc  MarkupStream       unknown       at org apache wicket markup MarkupFragment  lt init gt  MarkupFragment java       at org apache wicket markup MarkupStream getMarkupFragment MarkupStream java       at org apache wicket MarkupContainer autoAdd MarkupContainer java       at org apache wicket MarkupContainer renderNext MarkupContainer java        at org apache wicket MarkupContainer renderAll MarkupContainer java        at org apache wicket MarkupContainer renderComponentTagBody MarkupContainer java        at org apache wicket MarkupContainer onComponentTagBody MarkupContainer java       I think the problem is that org apache wicket markup parser filter HtmlHandler does not handle such markup correctly  It does not call ComponentTag setHasNoCloseTag true  for the img tag  Such call is missing in postProcess   method  I think that this problem can be fixed by inserting  top setHasNoCloseTag true   after line    in HtmlHandler java file  Michal   ',0
'NumberTextField renders its value in unsupported number format    The issue is similar to WICKET      but its fix doesn t help when the model object of the NumberTextField is a BigDecimal because BigDecimalConverter convertToString   produces something like                 and this is not supported by  lt input type  number  gt  s spec  http   dev w  org html  markup datatypes html common data float    ',0
'Make it easier to produce a page with links with absolute urls    We needed to create a page which links have absolute urls  protocol  host  port included   So I created a simple extension of MountedMapper that makes the relative url returned by super mapHandler   to an absolute one So far so far but later Wicket uses org apache wicket request UrlRenderer shouldRenderAsFull   to decide whether to actually render the url as full  i e  as absolute  and since the protocol  the host and the port matches with the current request s url attributes it decides to render the url as relative Since Url class is final it is not possible to create a custom AbsoluteUrl which  toString   delegates to  toString StringMode FULL  I see two solutions    provide AbsoluteUrl class which is again final and uses StringMode FULL   add a boolean flag to Url that is used by UrlRenderer shouldRenderAsFull   so I can force full modeDo you have other solutions     ',0
'AjaxLazyLoadPanel not replaced within AjaxTabbedPanel    An AjaxLazyLoadPanel is not replaced when added as panel of an AbstractTab within an AjaxTabbedPanel A set breakpoint in AjaxLazyLoadPanel constructor at AbstractDefaultAjaxBehavior respond method is never reached The attached quickstart will demonstrate the behavior This is reproducible with version       beta  and     SNAPSHOT    ',0
'AbstractTextComponent not escaping html data by default therefore user text is not redisplayed correctly    User input is not escaped in all text fields by default  and the default is not configurable  This leads to user entered text not being redisplayed correctly  You can replicate using the project from WICKET       Just enter the text my frac   companyname and press enter The field will not redisplay the text entered properly   ',0
'Fix missing in         was fixed in         Discrepancy between Button implementation of getForm and the code in Form findSubmittingButton      There is a discrepancy between Button implementation of getForm  derived from FromComponent  and the code in org apache wicket markup html form Form findSubmittingButton  Last one assumes form can be null while org apache wicket markup html form FormComponent getForm   throws an exception if it is soThis was fixed in       based on https   issues apache org jira browse WICKET       Please migrate the fix to     code line    ',0
'wicktTester getLastResponseAsString   returns wrong result after starting a Component     gt  This following test    Test public void test   throws Exception   WicketTester tester new WicketTester    tester startComponentInPage new Label  lableId    content      Override protected void onComponentTag ComponentTag tag    super onComponentTag tag   tag put  test                tester assertResultPage  icket id   lableId   test         gt content    assertEquals  icket id   lableId   test          gt content  tester getLastResponseAsString     assertEquals    tester getResponse   getDocument     exposes the wrong behaviour of test getLastResponseAsString   after starting a component It should return something such as   lt span gt        lt  span gt    bit it returns a string  cut in the middle    cket id   lableId   test         gt contentsee attached quickstart   ',0
'Spaces in path cause ModifcationWatcher to fail    The ModificationWatcher isn t able to reload resource files if there s a space in the path The problem is that Files getLocalFileFromUrl String  receives an URL encoded String in which spaces are encoded to      They are never decoded and passed to File    The fix is not to use the external representation of an URL but the file representation    ',0
'UrlRenderer produces wrong full urls when the passed parameter is not absolute  as Url understands  absolute      Code like Url baseUrl   Url parse  one two three   baseUrl setProtocol  http   baseUrl setHost  www example com   baseUrl setPort       UrlRenderer renderer   new UrlRenderer new MockWebRequest baseUrl   renderer setBaseUrl baseUrl      this is needed because MockWebRequest cuts dataString fullUrl   renderer renderFullUrl Url parse     four    Produces url  http   www example com    four while it has to be http   www example com one four   ',0
'Wicket example  forminput  is broken due to bad url for IOnChangeListener    http   localhost      forminput  wicket examples  doesn t change the locale of the labels when the locale select is changed The reason seems to be the produced url           IOnChangeListener inputForm localeSelect  This is parsed to a Url with one empty segment and thus HomePageMapper doesn t match it and doesn t handle it    ',0
'AjaxEditableLabel not selecting text or moving cursor on Firefox      or Safari          The class Javadoc for AjaxEditableLabel says    onEdit AjaxRequestTarget  is called when the label is clicked and the editor is to be displayed  The default implementation switches the label for the editor and places the caret at the end of the text  lt  li gt    However this does not happen on Firefox or Safari Looking at the code  it is actually trying to place the caret at the end of the line and selecting the text in the form field   This selecting the text is what I also want  and also the most common behavior of such ajax editable fields on other big websites on the Internet    put focus on the textfield and stupid explorer hack to move the   caret to the endtarget appendJavaScript    var el wicketGet      editor getMarkupId               if  el createTextRange          var v   el value  var r   el createTextRange          r moveStart  character   v length   r select          target focusComponent editor  However the  stupid explorer hack  as the code calls it  probably only works on explorer  because the el createTextRange method is quite old and deprecated  it s only needed on MSIE  lt   I m getting good results by just calling select   on the DOM element  I don t have MSIE available to test there but I think it will work there too    put focus on the textfield and stupid explorer hack to move the   caret to the endtarget appendJavaScript    var el wicketGet      editor getMarkupId               el select              target focusComponent editor     ',0
'Final methods on ResourceNameIterator prevent full customization of IResourceStreamLocator    IResourceStreamLocator contains the method newResourceNameIterator      which builds a ResourceNameIterator  Unfortunately ResourceNameIterator declares several getter methods  getLocale    getStyle    getVariation    getExtension    as final and thus ties the public API to the internal implementation of ResourceNameIterator  Therefore it s not possible to fully customize the behavior of ResourceNameIterator by subclassing    ',0
'AbstractDefaultAjaxBehavior getCallbackFunctionBody uses jQuery extend    Wicket components should not rely on jQuery  jQuery extend should be made available through the Wicket JS api and AbstractDefaultAjaxBehavior getCallbackFunctionBody should use that    ',0
'Unencoded ampersands in CSS  Javascript Reference    Ampersands in CSS  Javascript References are not encoded properly  see the source code  html  in http   www wicket library com wicket examples resourceaggregation  lt     BasicGroupingKey      group GLOBAL  loadOrder    css true         gt  lt link rel  stylesheet  type  text css  href    wicket resource org apache wicket Application merged resources refs org apache wicket examples resourcedecoration HomePage footer css  Corg apache wicket examples resourcedecoration HomePage header css amp type css    gt  lt     BasicGroupingKey      group APPLICATION  loadOrder    css true         gt  lt link rel  stylesheet  type  text css  href    wicket resource org apache wicket Application merged resources refs org apache wicket examples resourcedecoration HomePage app css amp type css    gt  lt     BasicGroupingKey      group PAGE  loadOrder    css true         gt  lt link rel  stylesheet  type  text css  href    wicket resource org apache wicket Application merged resources refs org apache wicket examples resourcedecoration HomePage HomePage css amp type css    gt    ',0
'Component getMarkupId   generates id that gets hidden by AdBlock    Component getMarkupId   generates ids containing string  ad   Element with such id  e g    buttonad   is then hidden by the AdBlock plugin  because it matches AdBlock s CSS selector  buttonad  Since AdBlock is quite a common plugin  this issue might affect most of the applications using Wicket Test project and screenshot is attached        Wicket       Firefox     AdBlock      Linux        x        ',0
'Wicket       duplicates segments in absolute URLs    Since we migrate our application to Wicket       some URLs from BookmarkablePageLinks have duplicate segements for indicating a Shop and a Language item from our persistence model  For indicating a Shop and Language item we use our own ShopMapper and LanguageMapper  subclass of AbstractComponentMapper   This was working until we migrate to       For instance    correct URL  host servlet shop en pagewrong URL  host servlet shop en shop en pageThis happens  for example  when the protocol of the linked URL is different from the current protocol  http https   So  basically  all links that point to pages that are annotated with  RequireHttps are wrong In our Application class we set the HttpsMapper as RootRequestMapper  e g  setRootRequestMapper new HttpsMapper new ShopMapper new LanguageMapper getRootRequestMapper      new HttpsConfig       Using a debugger  I ve tracked down the spot where wrong URL is rendered org apache wicket request Url resolveRelative     ',0
'Resource filtering breaks the calculation of rendered resources    The calculation of rendered resources at org apache wicket markup head internal HeaderResponse rendered field is broken when org apache wicket markup head filter FilteringHeaderResponse is in use The problem is that org apache wicket markup head filter FilteringHeaderResponse getContent String  creates its own instance of HeaderResponse and thus has its own  rendered  set If a filtered resource depends on a resource which is rendered in the head  i e  in the default filtered bucked named  headerBucket   then the latter is also rendered in the custom filter    ',0
'Shared Behavior s renderHead method called only for one component  not for all of them    When using a shared behavior among many components  its renderHead method is called only once  The reason is at the end of the Component renderHead HtmlHeaderContainer  method  for  Behavior behavior   getBehaviors      if  isBehaviorAccepted behavior     if  response wasRendered behavior     false      lt      check whether the behavior has been marked as rendered   behavior renderHead this  response   response markRendered behavior       lt      behavior marked as rendered      When calling this method of the first component  which contains given Behavior  the Behavior is added to the set of the already rendered elements  This means  its renderHead method is never called for the rest of the components  which contain it From documentation I suggest  Behaviors can be shared among more components  if they are not  attached  in bind   method   as written in Behavior class javadoc   They can be bound to a concrete component        but they don t need to   A Behavior method should behave the same way  as the same code placed directly in the component  in the corresponding method Moreover  in the documentation of the Behavior renderHead is written   Render to the web response whatever the component wants to contribute to the head section   So as I understand it  the information about component should also be the  key  whether to mark the Behavior rendered or not  More precisely  the proposed solution should be something like the following  Couple means something like a class with two fields   Behavior and Component   for  Behavior behavior   getBehaviors      if  isBehaviorAccepted behavior     Couple c   new Couple behavior  this       lt      create couple if  response wasRendered c     false      lt      check the couple   behavior renderHead this  response   response markRendered c       lt      mark the couple as rendered      Maybe this is not a bug  but a feature  In case of the feature I think  that it requires at least a clarification in the documentation  In  probably  all other usage of shared Behavior  the Behavior does not cause any troubles and it behaves as expected from the documentation  But this method has quite inconsistent effect  comparing to the other ones If an example is needed I need a Behavior to attach all components  which have to automatically contribute to HTML head a JavaScript and CSS file with the same name as the component  The Behavior does not hold any data  no fields  empty bind method   so I would like to make it singleton  or not directly pattern Singleton as such   for example let it overridable  but provide a default instance   Because creating new instances does not have much sense in this case and it brings many unnecessary objects on the heap Using of new instance per component works fine  of course  but the issue is in the situation  if I need the shared instance across the application    ',0
'ThreadContext does not properly remove the ThreadLocal from the current thread    Actually  I only checked       beta  and master        beta  is not in the drop down ThreadLocal get   returns the current value  if one is set  If not  it creates a new value using the initialValue   method  AND  importantly  registers the ThreadLocal in the Thread s Map of ThreadLocals In order for the get false  method to work as expected  we must actually call ThreadLocal remove   after a ThreadLocal get   that returned null Also  after the request was processed  we never properly remove the ThreadLocal from the Thread  we were simply setting it to the previous value  which was null most of the time  This is not enough  The ThreadLocal was still attached to the Thread  just the value it was storing was null Here s hoping that Jira is working again and I can attach a patch    ',0
'NumberTextField does not have default minimum and maximum    Javadoc of NumberTextField says A TextField for HTML   lt input gt  with type number Automatically validates the input against the configured min and max attributes  If any of them is null then Double MIN VALUE and Double MAX VALUE are used respectfully  Note  FormComponent setType Class  must be called explicitly It is not true  We have constructor which sets them to null  public NumberTextField String id  IModel lt N gt  model  Class lt N gt  type    super id  model  type   validator   null  minimum   null  maximum   null   and if I don t set them manually  in case of error nulls go to RangeValidator  line        error setVariable  minimum   min   error setVariable  maximum   max  causing java lang IllegalArgumentException  Argument  value  may not be null Nevertheless  I think reflection API should be used to determine if given Number has MAX VALUE MIN VALUE and this one should be used  In other case I think it is ok to use Double MAX VALUE MIN VALUE or maybe you have another ideas    ',0
'URLRenderer renderFullUrl    When using the following code to create an absolute url in wicket       from a page class and parameters  there are also duplicate segments in the url  the rendered absolute url is not correct final Url url   RequestCycle get   mapUrlFor  pageClass  pageParameters   final String result   RequestCycle get   getUrlRenderer   renderFullUrl  url   RequestCycle get   mapUrlFor     does not return an  absolute  url  first segment will not be empty  See also description in WICKET        ',0
'Closing  tag is incorrectly setup as autocomponent    The closing instance of the  lt wicket container gt  tag returns true when isAutoComponentTag   is called whereas the opening instance correctly returns false The problem lies probably in the WicketTagIdentifier class which simply checks if there is a wicket id attribute value and makes all tags  opening or closing  autocomponent tags if there is no wicket id Obviously any closing tag doesnt have a wicket id assigned    ',0
'WicketAjaxDebug logError used in Wicket Head addJavascript   JS error when wicket ajax debug js not loaded    Wicket Head addJavascript  defined in wicket ajax js  encapsulates javascript in this code content    try   content   catch e  WicketAjaxDebug logError e      However  WicketAjaxDebug can be undefined as it s declared in wicket ajax debug js which might not be included  As a consequence  catch block will fail and obfuscate any error catched I believe this catch block should call Wicket Log error e  instead    ',0
'DataTable toolbars do not handle dynamically changing columns in the table    All the packaged toolbars for the DataTables fail to handle dynamically changing column in the table HeadersToolbar   is new columns are added  they do not have headers  If columns are removed  the headers are not removed NoRecordsToolbar   colspan is static to the number of columns when the table was created  If more columns are added  or if columns are removed  then the incorrect colspan is used NavigationToolbar   incorrect static colspan  like NoRecordsToolbar FilterToolbar   same problem as HeadersToolbar  just s header filter    ',0
'ResourceStreamLocator vs ResourceFinder    I m a bit confused by the responsibilities of ResourceFinder vs ResourceStreamLocator  Looking around in the code  I found the following  IResourceFinder is apparently only implemented via its extension interface IResourcePath  Its two implementations Path and WebApplicationPath look through a list of filesystem folders for files  ResourceStreamLocator does two things  it loads resources  either via an IResourceFinder  which only finds filesystem resources  or via the classloader  it does this itself   it uses a ResourceNameIterator to generate all possible filename variations based on locale and style and then tries to load one of them via the above mechanisms Is this correct If so  I think we have some mixed up responsibilities here  I propose the following  add a third IResourcePath implementation  e g  ClassloaderPath  that handles loading of resources in classpaths  It should be able to try multiple paths  e g        META INF resources  etc   Instead of a single ResourceFinder  Application should have a list of them  by default containing WebApplicationPath  today s default  and the new ClassloaderPath  ResourceStreamLocator should not do any loading on its own at all and just use the ResourceFinders defined in this new list in Application This would also get rid of the hard coded  META INF resources  lookup that currently is done in ResourceStreamLocator  I ll write a second ticket about that  it s causing us some problems  I think this could still be done within      Objections    ',0
'WicketFilter unify the filterPath    WICKET      WicketFilter unify the filterPathUse of getter setter internally to limit read writes to filterPath field location Removed lazy initialization code from main code path Provide a new method  canonicaliseFilterPath String  to convert  wicket   into  wicket   as expected internally and maybe used byunit tests to further validate correct values for filterPath Added unit test for this new method and use method in setter    ',0
'ResourceStreamResource should use  getResourceStream   instead of directly using the  stream  field    org apache wicket request resource ResourceStreamResource newResourceResponse   resolves the IResourceStream by using  internalGetResourceStream   but later still uses the  stream  member field    ',0
'MultiFileUploadField after selecting a file does not hide properly input field    Component org apache wicket markup html form upload MultiFileUploadField in related javascript uses code    this style position    absolute   this style left         px    to hide a file input after selecting a file Unfortunately on my screen      x      if I put this component on the right side of a page then after selecting a file   the hidden input  is moved to the left of its container  but still visible for a user Changing style position to  fixed  should resolve the problem  so the input field will be positioned relative to the browser window  not to its ancestor    ',0
'AjaxFallbackLink and log a warning when there are several ajax event behaviors on the same event    When I was using an AjaxFallbackLink I got the warning about multiple Behaviours changing the  onclick  attribute I changed it to AjaxLink and the warning disappeared    ',0
'Atmosphere Modul not working on first page after Jetty restart    After Jetty is started if the very first page being visited is a page with AtmosphereBehavior  using  Subscribe   for some reason by the time the page is being registered by EventBus   registerPage String trackingId  Page page   the session is null and after the page has been rendered its not null any more thus having a different PageKey and so the events for the page are filtered out at line      or EventBusIf you just add Session get   bind   in the constructor method of your page  everything would work as expected    ',0
'encodeURL broken on Tomcat           During page transition wicket used to encode an        tisch  which results in an exception Caused by  java lang IllegalArgumentException at org apache catalina connector Response normalize Response java      The transition  within an ajax call   http   localhost      wicket bookmarkable de test pool manage ManagePool   http   localhost      tischIMHO the double parent      is correctThere exists already an bugzilla issue created but rejected as invalid https   issues apache org bugzilla show bug cgi id       If the wicket code works as expected there must be an error in the tomcat  Maybe the wicket development team has closer access to the tomcat developers   ',0
'LazyInitProxyFactory uses wrong ClassLoader in OSGi environment    The method LazyInitProxyFactory createProxy use Thread currentThread   getContextClassLoader   to create a new proxy instance  It seems that this is not correct in an OSGi environment Preferred is to use the ClassLoader provided by the AbstractClassResolver class  getClassResolver is not part of IClassResolver   Then it will be something like  ClassLoader classLoader  if  Application exists      AbstractClassResolver classResolver    AbstractClassResolver  Application get    getApplicationSettings    getClassResolver    classLoader   classResolver getClassLoader      else   classLoader   Thread currentThread   getContextClassLoader      try   return Proxy newProxyInstance classLoader  new Class     type  Serializable class  ILazyInitProxy class  IWriteReplace class    handler       ',0
'XmlPullParser doesn t parse correctly attributes with complex namespace    Having a markup like  lt a class  addthis button google plusone badge  g plusone size  smallbadge  g plusone href  https   plus google com         gt  lt  a gt  causes XmlPullParser to throw the following exception java text ParseException  Same attribute found twice  g plusone  line     column      at org apache wicket markup parser XmlPullParser parseTagText XmlPullParser java      at org apache wicket markup parser XmlPullParser next XmlPullParser java      at org apache wicket markup parser filter RootMarkupFilter nextElement RootMarkupFilter java            ',0
'AutoLinkResolver looks in the wrong scope    When turning on MarkupSettings automaticLinking  AutoLinkResolver is supposed to touch tags like  lt img gt  and  lt a gt  and set their src href attributes so that packaged resources are correctly referenced I found a situation where that does not work  If you have a panel  and e g  an  lt img gt  tag inside that panel  and the  lt img gt  tag is NOT enclosed in a container component  it looks for the resource in the scope of the surrounding component  not in the panel s scope  It obviously can t find it there  so it just dumps the raw attribute If you put that  lt img gt  tag into a MarkupContainer  like WMC  then it works correctly  So it looks like the scope is off by one or something like that  I ll investigate    ',0
'tag broken in certain situations when  reference added in page header section    Closing  lt  script gt  tag is swallowed in certain situations when external script reference is added   lt script src    gt  lt  script gt   to the page  lt head gt  lt  head gt  section in Wicket       beta  and beta  and SNAPSHOTOriginal source code for  lt head gt  section  lt head gt   lt meta charset  utf      gt   lt title gt Apache Wicket Quickstart lt  title gt   lt link href  http   fonts googleapis com css family Yanone Kaffeesatz regular bold  rel  stylesheet  type  text css    gt   lt link rel  stylesheet  href  style css  type  text css  media  screen  title  Stylesheet    gt   lt script type  text javascript  src  http   akuku something  js  gt  lt  script gt   lt script type  text javascript  src  http   akuku something  js  gt  lt  script gt   lt script type  text javascript  src  http   akuku something  js  gt  lt  script gt   lt script type  text javascript  src  akuku something  js  gt  lt  script gt   lt script type  text javascript  src   akuku something  js  gt  lt  script gt   lt script type  text javascript  src  akuku something  js  gt  lt  script gt Rendered HTML   lt head gt   lt meta charset  utf      gt   lt title gt Apache Wicket Quickstart lt  title gt   lt link href  http   fonts googleapis com css family Yanone Kaffeesatz regular bold  rel  stylesheet  type  text css    gt   lt link rel  stylesheet  href  style css  type  text css  media  screen  title  Stylesheet   gt   lt script type  text javascript  src  http   akuku something  js  gt  lt  script gt   lt script type  text javascript  src  http   akuku something  js  gt  lt script type  text javascript  src  http   akuku something  js  gt  lt script type  text javascript  src  akuku something  js  gt  lt  script gt  lt script type  text javascript  src   akuku something  js  gt  lt script type  text javascript  src  akuku something  js  gt  lt  script gt   lt  head gt    ',0
'Unescaped html in autocomplete    Create list of Strings with html keywords  List lt String gt  list   Arrays asList  a     lt td gt      lt li gt     lt  td gt    Let autocomplete display these values   Override protected Iterator getChoices String input    return list iterator     html is unescaped  strings are  copy and paste  d to htmlAjax response  from Firebug  looks like this  lt ul gt  lt li textvalue  a  gt a lt  li gt  lt li textvalue   lt td gt   gt  lt td gt  lt  li gt  lt li textvalue   lt li gt   gt  lt li gt  lt  li gt  lt li textvalue   lt  td gt   gt  lt  td gt  lt  li gt  lt  ul gt    ',0
'StringValidator exactLength has wrong variable in ErrorMessage    In error message for StringValidator exactLength is variable   exact    but in StringValidator decorate is added variable length to map and not exact  Exception when is error message interpolate for show in feedback Caused by  java lang IllegalArgumentException  Value of variable       exact       could not be resolved while interpolating      label   is not exactly   exact  characters long   property from application StringValidator exact    label   is not exactly   exact  characters long When I added same property in my own properties and change exact to length  it works    ',0
'tracking id retrieved in AtmosphereBehavior onRequest   is always      jquery atmosphere js will always use   as initial tracking id to send request and then reassign it from server response AtmosphereBehavior getUUID   shouldn t return the tracking id from request header  since the initial request s tracking id is   The correct way to retrieve tracking id is calling AtmosphereResource uuid     ',0
'ThreadContext should be detached before each subscribed page gets notified    Since the event subscriptions may cross different sessions  before entering request cycles of notified page  the ThreadContext should be detached except application instance In EventBus post Object event   ThreadContext detach   should be placed inside the for loop block of atmosphere resources otherwise Session   get   may return previous page s session    ',0
'CssPackageResource doesn t work if the extension isn t css    CssPackageResource processResponse is never called if the extension isn t css  It works for  css because PackageResourceReference getResource checks if the extension is css and then creates a CssPackageResource  For anything else than  css  js a PackageResource is created Actually the overridden processResponse method in CssPackageResource  instead of PackageResource  should get called  but ResourceReferenceRegistry createDefaultResourceReference installs a plain PackageResource which gets called later    ',0
'KittenCaptchaPanel is broken    The code from the KittenCaptchaPanel example works fine with wicket versions       and       beta   but fails to highlight kittens with versions       beta  and       beta     ',0
'SerializingObjectSizeOfStrategy do not use framework serializer    Currently default implementation of SerializingObjectSizeOfStrategy do not use FrameworkSettings  thus it causes a ObjectNotSerializableException if serializer have custom behaviours    ',0
'Resource bundles are not resolved on PriorityHeaderItems    If a bundle X provides resource A  and resource A is rendered as priority header item  the resource A is rendered  not bundle X    ',0
'  NEW VALUE  is not a valid Serializable  error during ajax form submission    I attached a quickstart with a test in TestHomePage formSubmitsSuccessfully The test throws   NEW VALUE  is not a valid Serializable  error when  NEW VALUE  string in  value  textField is submitted as a part of myForm ajax submission The problem is that a call to Objects convertValue nonNullNonArrayValue  Object class  will always return null if nonNullNonArrayValue is a value that is not null and not an array  Shouldn t it always return the first parameter when the second parameter is Object class Sven on Wicket forum suggested to fix this as by adding another if statement in Objects convertValue   if  toType isInstance value     result   toType cast value   See the following forum thread for more information http   apache wicket         n  nabble com Issues with default type conversion in     td        html   ',0
'FormComponents remain invalid forever if there is no feedback panel    if there is no feedback panel the error messages are not removed in ondetach and form component re validation is skipped so the form component  once marked as invalid  will remain invalid forever or at least until its error messages are rendered the error messages should be dropped and the form component should be re validated on every form submit    ',0
'DOM ids change of the input fields of FilterToolbar    The fix in WICKET      is not effective  https   fisheye  atlassian com changelog wicket cs        https   github com apache wicket blob master wicket core src main java org apache wicket Component java L    As one can see in Component internalRenderComponent    the method Component onComponentTag    where the markup id is written to the tag  is called before the behavior had a chance to call setOutputMarkupId true    The Behavior onComponentTag   is called in Component renderComponentTag   a few lines down  The behavior has to call setOutputMarkupId   earlier  like in onConfigure     ',0
'JavaScriptStripper fails with single line comments    The valid inputx     x  gets transformed tox   x  which is syntactically invalid  This breaks the unminified version of bootstrap       The problem doesn t occur with multiline comments because the linebreaks are preserved there    ',0
'Clicking on Label of Radio doesn t update component with Ajax update    We just upgraded a application from wicket     to wicket   We discovered that when clicking on the label of a radio button that has a AjaxFormChoiceComponentUpdatingBehavior attached the radio is not selected I ll attach   testcases  one for wicket     and one for wicket      ',0
'Wicket    modal windows in Safari are always in drag or resize mode    In Wicket   using Safari  a modal dialog will not allow interactions with form components  The whole dialog always seems to be in  drag  mode  Click anywhere on the panel and the dialog will drag Interaction works fine with all other browsers    ',0
'ComponentFeedbackPanel broken under Wicket       when RenderStrategy REDIRECT TO RENDER    Test case created on github  see https   github com danhaywood wicket     browse to http   localhost      wicket examples forminput and follow the instructions    ',0
'PageParameters mergeWith may loose values of the  other  PP    The code at org apache wicket request mapper parameter PageParameters mergeWith   looks like for  NamedPair curNamed   other getAllNamed    set curNamed getKey    curNamed getValue    may loose some values if  other  has a named parameter with several values With the current code only the last name value pair is preserved    ',0
'Using both MountedMapper and CryptoMapper causes warning    Having both MountedMapper and CryptoMapper causes WARN   WebPageRenderer   The Buffered response should be handled by BufferedResponseRequestHandler public void init     setRootRequestMapper new CryptoMapper getRootRequestMapper    this    mountPage   home   HomePage class   super init      public HomePage final PageParameters parameters    super parameters   add new Label  version   getApplication   getFrameworkSettings   getVersion      add new Form lt Void gt   form        HomePage html    lt form wicket id  form  gt  lt  form gt       ',0
'DOM ids change of the input fields of FilterToolbar    The fix in WICKET      is not effective  https   fisheye  atlassian com changelog wicket cs        https   github com apache wicket blob master wicket core src main java org apache wicket Component java L    As one can see in Component internalRenderComponent    the method Component onComponentTag    where the markup id is written to the tag  is called before the behavior had a chance to call setOutputMarkupId true    The Behavior onComponentTag   is called in Component renderComponentTag   a few lines down  The behavior has to call setOutputMarkupId   earlier  like in onConfigure     ',0
'URL rendering regression    The way URLs are encoded was changed  WICKET       and now the first request  with  jsessionid in path  generates invalid internal links My page is mounted to   Home   and I get redirected to   Home  jsessionid          fine   There s a Link on the page and the generated URL for it is     Home jsessionid          ILinkListener link   Note the missing      This results in a     and breaks basically all of my system tests I ll attach a simple quickstart which demonstrates the problem  It s important to delete the jsessionid cookie before accessing the page    ',0
'RfcCompliantEmailAddressValidator error message not defined    The error message of the RfcCompliantEmailAddressValidator seems not to be defined In case of validation error the following warning occurs  org apache wicket markup html form FormComponentCould not locate error message for component RequiredTextField description form id emailand error  ValidationError message      null      keys      RfcCompliantEmailAddressValidator      variables   pattern      r n     t             lt  gt               t      gt      r n     t        s       Tried keys email RfcCompliantEmailAddressValidator RfcCompliantEmailAddressValidator    ',0
'DatePickerTest fails because of java inconsistensy on localizing March german shortname Mrz vs M  r    The Oracle java  and older return Mrz as german march short name The Oracle java  seems to have switched to the official  see http   de wikipedia org wiki Vorlage Monat Name Nummer   three letter short name M  r Some googling showed that IBM java has used the offical short name at least since      I propose as a fix that the non english test language is changed to something other than Locale GERMAN in DatePickerTest method myTestExecution  For example Locale ITALIAN  which has had consistent localization in Java world  Plus of course the reference data in DatesPage  ExpectedResult html needs to be regenerated    ',0
'UrlDecoder should log a message when invalid input is provided    In the class  org apache wicket protocol http WicketURLDecoder there are two IllegalArgumentException which should be wrapped in WicketRuntimeException  otherwise they are caught by the exception handler form the servlet container  jetty  tomcat       which then uses their http     error code configuration instead of the exception handling of wicket Wrapping them would be good for consistency and help manage runtime exceptions  These are the two exceptions throw new IllegalArgumentException  URLDecoder  Incomplete trailing escape     pattern    throw new IllegalArgumentException  URLDecoder  Illegal hex characters in escape     pattern       e getMessage       ',0
'AjaxEditableChoiceLabel won t close select onblur    AjaxEditableChoiceLabel won  t close the select combo  showed after clicking in the asociated label  when it losses the focus  It s supossed to call the onCancel method like it does in AjaxEditableLabel but the select turns into a label only selecting a different value in the select combo  it doesn t work pressing Escape or clicking in other part of the page  I fix it localy adding this code editor add new AjaxEventBehavior  blur     protected void onEvent AjaxRequestTarget target    AjaxEditableChoiceLabel this onCancel target       For the editor declared as DropDownChoice in line     of AjaxEditableChoiceLabel  java    ',0
'CLONE   BaseWicketTester clickLink   does not work with a ResourceLink with ResourceReference    When using BaseWicketTester clickLink   with a ResourceLink with a ResourceReference  it does not work Clicking link in server  Jetty  it works and opens the resource  See attached quickstart When the ResourceLink is created with the Resource directly  BaseWicketTester clickLink   works   Test public void clickingLink        doesn t work tester clickLink  shared    Assert assertEquals tester getContentTypeFromResponseHeader     text plain       Test public void usingListener        doesn t work either tester executeListener tester getComponentFromLastRenderedPage  shared    IResourceListener INTERFACE   Assert assertEquals tester getContentTypeFromResponseHeader     text plain        ',0
'Modal panel mouse pointer in resize style for MSIE  and MSIE     In IE  and IE  the mouse pointer has the w resize or e resize style when hovering above a panel modal window  The wicket example does not have a doctype so Internet Explorer goes into quirks mode  Quirks mode is not an option for us http   www wicket library com wicket examples     x ajax modal windowI will attach a quickstart    ',0
'Return error code     when an Ajax request has no base url set in header request parameters     Hello currently we ve got a problem with faked ajax requests  these ajax requests misses some parameters  but the wicket ajax header flag is set  So ServletWebRequest throws an exception java lang IllegalStateException  Current ajax request is missing the base url header or parameter at org apache wicket util lang Checks notNull Checks java     at org apache wicket protocol http servlet ServletWebRequest getClientUrl ServletWebRequest java      at org apache wicket request UrlRenderer  lt init gt  UrlRenderer java    These faked requests are so massive  that our application is no longer monitorable  Our workaround rejects these requests via apache config  Instead of logging an exception  in deployment mode wicket should log a warning and reject the request   ',1
'AbstractResourceReferenceMapper doesn t escape separators in style variation names    org apache wicket request mapper AbstractResourceReferenceMapper encodeResourceReferenceAttributes   doesn t escape     character when generating the query string parameter with the locale style variation So using a style with name  a b  leads to parameter with name   a b  and later is decoded to style     a  and variation     b    ',0
'Integer overflow in AbstractToolbar    private static int counter     This counter will overflow anytime    Please remove static    ',1
'Page parameters not working with CryptoMapper    When CryptoMapper is used  page parameters do not work  This is because the incorrect request is set in the request cycle  The incorrect request contains the encrypted url  where the page parameters are encoded into the url segments  When the CryptoMapper maps a url to a request handler  it should set the request to the correct request when the request handler is selected This was reported on the users  list  but I have also fallen victim to it when getting urlFor resourceReference  pageParameters  and the pageParameters not comming out on the other end See http   mail archives apache org mod mbox wicket users        mbox   C     F           unknown za net  Ehttps   github com jesselong wicket commits for apache master pr      commits    ',0
'Wicket Atmosphere track message length    When activating a PerRequestBroadcastFilter  the methods annotated with  Subscribe are unable to contribute to the AjaxRequestTarget At the Filter level  the messages are OK but the client receives an empty  lt ajax response gt  A quickstart is attached where target WEB INF lib is provided because jquery atmosphere js has been modified in order to activate track message length Feel free to ask for more info Regards Pierre Goupil   ',0
'Rendering of feedback messages fails with DebugBar in page    After the page is detached to calculate its size  messages are no longer available for FeedbackPanel to get the CSS styling for messages  failing with a NullPointerException    ',0
'ValidationError messages for NumberTextFields with minimum maximum are always English    Although my Form s Locale is  e g   de DE  the error message generated from AbstractRangeValidator validate IValidatable  is always English My German custom message for resource key  RangeValidator range  in the Page s resource bundle gets ignored too   the default custom message from the resource bundle is used instead Reason might be that Component getLocale   invoked from Localizer getStringIgnoreSettings String  Component  IModel  Locale  String  String  always returns NumberTextField HTML  LOCALE  fix for WICKET       Pls  see attached quickstart I m a Wicket newbie  so could very well be that I m missing something    ',0
'UrlRenderer renderRelativeUrl misbehavior if the filterPath is composed     Using an application with a composed filterPath like  lt filter mapping gt   lt filter name gt wicket jsessionid lt  filter name gt   lt url pattern gt  demo test   lt  url pattern gt  lt  filter mapping gt  Wicket fails to properly render a bookmarkable link I ve debuged my app and the problem is here UrlRenderer removeCommonPrefixes  Line     String filterPath   request getFilterPath   if  filterPath    null  amp  amp  segments isEmpty      false   if  filterPath equals UrlUtils normalizePath segments get         LOG debug  Removing the filter path      from        filterPath  segments   segments remove       This code assumes that the filter path is a single segment path  not a composed path I ve only reached this bug browsing my website with the cookies disable  This is why it s not critical    ',0
'Form visitFormComponents can cause ClassCastException    The current method signature of Form visitComponents allows for passing in an implementation of IVisitor that will cause a ClassCastException  ExampleAdd a CheckBox and TextField to the Form  Pass in an IVisitor lt CheckBox gt  to visitComponents  There will be a ClassCastException when the IVisitor lt CheckBox gt  attempts to visit the TextField The method signature should be changed topublic final  lt R gt  R visitFormComponents final IVisitor lt FormComponent lt   gt   R gt  visitor or the method should be removed to prevent confusion    ',0
'Wrong charset or screwed up characters in Norwegian properties file    In Wicket    up to and including        the Application no properties file has mangled all the Norwegian special characters        and      Seems to be the only one of the Norwegian properties files with problems  as far as I could tell Edit  Also  the file is in UTF   format  which doesn t work      ',0
'org apache wicket util resource Patht find fails on Windows    Windows users report that test org apache wicket util resource PathTest loadFromRootUsingSubpathInFilename fails for them The suggested solution is to rework Path find to  Override public IResourceStream find final Class lt   gt  clazz  final String pathname    final File file   new File folder  pathname   final File pathOnlyFile   new File pathname   if  file exists      return new FileResourceStream file     if  pathOnlyFile exists      return new FileResourceStream pathOnlyFile     else   return null     but I m not quite sure in this solution    ',0
'Rendered Url on root context with cookies disabled might result in double slash       When a link is rendered on root context with cookies disabled  or on first access with container sending jsessionid   a rendered link url might be prepended with      thus resulting in a double slash             ',0
'CryptoMapper ignores original queryString parameters    When an AjaxRequest with parameters  e g   Autocomplete getChoices    arrives and CryptoMapper decrypts it  original queryString parameters dissapears Debugging CryptoMapper  I ve checked that this method private Url decryptUrl final Request request  final Url encryptedUrl        receives querystrings parameters  on field url parameter from  request  parameter  and the new Url returned by the method never adds them to its own list    ',0
'Header can not be set from IRequestCycleListener onEndRequest      Due to HeaderBufferingWebResponse a header can no longer be set from IRequestCycleListener onEndRequest   In     x this was possible because BufferedWebResponse just passed through all headers to HttpServletResponse    ',0
'Mounted page is not throwing ExpireException with setting setRecreateMountedPagesAfterExpiry false     We have a page that is both bookmarkable  and accessible with certain page parameters  and has a second constructor taking an object  When ever the session time out we want to show a session expired page  But we get a exception because Wicket is trying to rebuild the page with no page parameters  We have set the setting getPageSettings   setRecreateMountedPagesAfterExpiry false   This works when clicking on  ajax links  but it s not working when using the back forward button in the browser  or javascript history go      I ll attache a quickstart    ',0
'Rendered URL is resulting with double slash when using AuthenticatedWebApplication    When the application requires authentication and a page requiring authentication is the first page to be accessed the url for the Login page is including a double slash causing a      This only happens when the page locked down is mounted with mountPackage    ',0
'compareTo methods of Actions in BufferedWebResponse violate Comparable contract    I ve never seen this result in an exception so far  but the implementations of the methods is wrong and will fail on java   if multiple action instances of the same class are sorted using Collections sort  The sorting should return   if instances are of the same type    ',0
'AjaxFormChoiceComponentUpdatingBehavior cannot be triggered with BaseWicketTester executeAjaxEvent      BaseWicketTester executes AjaxFormComponentUpdatingBehavior only    ',0
'Rename Component renderHead HtmlHeaderContainer     It seems it happens somewhat often that users mistakenly override renderHead HtmlHeaderContainer  rather than renderHead IHeaderResponse   Code completion makes this a very easy mistake I propose renaming the somewhat internal method renderHead HtmlHeaderContainer  to renderIntoPageHeaderContainer or something like that  We can t just make the method package private  since it is needed by Panel  Border and FormComponentPanel to render the header sections of their associated markup    ',0
'client side memory leak on  date picker    Under certain conditions date picker component leaks memory at client side  More concretely DatePicker renderHead tries to clean up existing date pickers viaAjaxRequestTarget target   component getRequestCycle   find AjaxRequestTarget class   if  target    null    String escapedComponentMarkupId   getEscapedComponentMarkupId    String javascript    var e   Wicket        escapedComponentMarkupId    Dp         if  e    null  amp  amp  typeof e parentNode      undefined   amp  amp       typeof e parentNode parentNode     undefined          e parentNode parentNode removeChild e parentNode       YAHOO wicket     escapedComponentMarkupId    DpJs destroy    delete YAHOO wicket     escapedComponentMarkupId    DpJs     target prependJavaScript javascript    but this fails if  panel  containing date pickers is completely replaced via AJAX  E g  for date pickers placed on an AJAX navigated repeater  The result is that client side objectYAHOO wicketobject grows and grows    and for   Wicket     x and wicket     x this means time for creating new date pickers grows steadily    For wicket     x there seems not to have any performance hindrance  only the memory leak  I attach quick starts demonstrating this    ',1
'wicket ajax jquery js fails with  member not found  on IE for delayed ajax requests    Channel done   uses setTimeout   to execute delayed Ajax calls On IE when the delayed call is executed  jquery s  preventDefault   fails with  member not found  because the original event object s properties  here e returnValue  can no longer be accessed    ',0
'AbstractNumberConverter issue when used with NumberFormat getCurrencyInstance    Summary of the discussion on users  There is an issue when using AbstractNumberConverter when  getNumberFormat returns NumberFormat getCurrencyInstance  I think the problem is due to AbstractNumberConverter parse Object  double  double  Locale  if  value instanceof String      Convert spaces to no break space  U   A   to fix problems with    browser conversions     Space is not valid thousands separator  but no br space is  value     String value  replace        u  A     Which replace spaces  so a string like          is invalid while being parsed public class CurrencyConverter extends AbstractNumberConverter lt Double gt   private static final long serialVersionUID    L  public CurrencyConverter        Override protected Class lt Double gt  getTargetType     return Double class     Override public NumberFormat getNumberFormat Locale locale    return NumberFormat getCurrencyInstance locale      Override public Double convertToObject String value  Locale locale    locale   Locale FRANCE  return this parse value  Double MIN VALUE  Double MAX VALUE  locale     This does work    final NumberFormat format   this getNumberFormat locale     return this parse format  value  locale     As Sven indicates  there is  yet another  issue in Java currency formating  space as thousand separator http   matthiaswessendorf wordpress com            javas numberformat bug http   bugs sun com view bug do bug id        So will I let you decide whether or not you wish to fix it  the space before the currency symbol  Thanks  amp  best regards Sebastien    ',0
'WicketTester should send copies of its cookies    There are some bugs related to cookie handling in BaseWicketTester Problem    a cookie set in the request should not be in the response unless manually set by the server codeProblem    wicket tester sends the original cookie instance to the server  If the server code manipulates the cookie anyhow  e g  change its value  but do not send it back explicitly in the response then the original cookie in WicketTester  the request cookie  is updated while it shouldn t be A possible solutions for these problems can be found at https   github com apache wicket pull      ',0
'Wicket Enclosure fails with more than one component    An enclosure like  lt wicket enclosure child  message  gt   lt span wicket id  message    gt   lt a href     wicket id  link  gt  lt  a gt  lt  wicket enclosure gt fails with org apache wicket WicketRuntimeException  The component s  below failed to render  Possible reasons could be that     you have added a component in code but forgot to reference it in the markup  thus the component will never be rendered      if your components were added in a parent container then make sure the markup for the child container includes them in  lt wicket extend gt      ExternalLink      Component id   link      It will report failed rendering for all components within the enclosure except the child This works if I turn the enclosure into an inline enclosure  lt div wicket enclosure  message  gt   lt span wicket id  message    gt   lt a href     wicket id  link  gt  lt  a gt  lt  div gt I got this error when upgrading from Wicket       to       I also noticed that the AjaxEnclosureListener only visits the InlineEnclosures    ',0
'InlineEnclosureHandler always uses  wicket  namespace    The name of the wicket namespace is hardcoded in InlineEnclosureHandler public final static String INLINE ENCLOSURE ATTRIBUTE NAME    wicket enclosure  This constant is also used by InlineEnclosure and was probably never meant to be part of the public API These classes should respect the user defined namespace provided by the MarkupResourceStream    ',0
'Session exists   returns false when ThreadContext session is not set to current session    There are several places in Wicket which check for the existence of a Session before actually getting a reference to it  e g  FeedbackCollector  public final List lt FeedbackMessage gt  collect final IFeedbackMessageFilter filter        if  includeSession  amp  amp  Session exists      messages addAll Session get   getFeedbackMessages   messages filter       If no one has called Session get    all calls to Session exists   return false although a session might exist in the session store  i e  it might just not be set to ThreadContext session already    ',0
'Possible bug in org apache wicket util lang Packages when building path with repeating names    When trying to build the absolute path from package  com foo bar  with relative path  baz foo qux  in method org apache wicket util lang Packages absolutePath String  String  the block  else if  absolutePath size    lt   i    absolutePath get i  equals folder     false       Add to stack absolutePath add folder    doesn t run for the  foo  part of the relative path because absolutePath get       foo from the package    foo from the relative path So the resulting absolute path is  com foo bar baz qux  rather than the expected  com foo bar baz foo qux  Seems like the  else if  should just be a  else     ',0
'AutoComplete still triggers redundant events to registered change listener       ',0
'UrlRenderer removeCommonPrefixes   fails when contextPath filterPrefix has more segments than the argument    I get this exception when trying to create a URL with RequestCycle urlFor org apache wicket WicketRuntimeException  An error occurred while generating an Url for handler  ResourceReferenceRequestHandler resourceReference scope  org apache wicket Application  name  ImageResource  locale  null  style  null  variation  null  pageParameters publicId  f  df  d cbdb   db   e    e ea     e   type  sr    at org apache wicket request cycle RequestCycle urlFor RequestCycle java           wicket core       jar            at org apache wicket request cycle RequestCycle urlFor RequestCycle java           wicket core       jar            at xxx XXXWebApplication urlFor XXXWebApplication java            xxx web       SNAPSHOT jar       SNAPSHOT                  Caused by  java lang IndexOutOfBoundsException  Index     Size    at java util ArrayList rangeCheck ArrayList java            na               at java util ArrayList remove ArrayList java            na               at org apache wicket request UrlRenderer removeCommonPrefixes UrlRenderer java            wicket request       jar            at org apache wicket request UrlRenderer renderRelativeUrl UrlRenderer java            wicket request       jar            at org apache wicket request UrlRenderer renderUrl UrlRenderer java            wicket request       jar            at org apache wicket request cycle RequestCycle renderUrl RequestCycle java           wicket core       jar            at org apache wicket request cycle RequestCycle urlFor RequestCycle java           wicket core       jar                   common frames omittedThe app uses a context path and no filter path  I see that UrlRenderer removeCommonPrefixes receives an empty list and the code in the method assumes that context path   filter path is always a common prefix and tries to remove it later from the empty list    ',0
'form onSubmit   is called on just replaced nested forms    I use wizard api from wicket extensions Next button is implemented like org apache wicket extensions wizard NextButton It means  if step is complete wizardModel next   is called and step content is replaced I send you example   see attachment In the example Step Panel contains inner form  innerForm  The problem is when we leave step    click to next button    innerForm onSubmit from step   is called  Obversely when we leave step   innerForm onSubmit is not called One solution is to call form process null  manually in Nextbutton onClick before step content is replaced  It is wrong again becaouse innerForm onSubmit is called twice    ',0
'InlineEnclosure are piling up on each render    InlineEnclosureHandler resolve   uses an auto incremented id for its resolved InlineEnclosure  On the next render  a new instance will be resolved  since the id of the already resolved InlineEnclosure does not match the id in the markup But InlineEnclosures are not removed after render as other auto components  thus all instances pile up in the owning container of the markup    ',0
'FormTester throws an exception when a Palette component is added to a Form associated with a compound property model    FormTester throws an exception when a Palette component is added to a Form associated with a compound property model org apache wicket WicketRuntimeException  No get method defined for class     expression  choicesIt worked fine in Wicket        and works fine if the form is not associated with a compound property model    ',0
'AjaxSelfUpdatingTimerBehavior in hidden component in ModalWindow causes Ajax Response Error    I have a ModalWindow which shows a panel with a hidden label with an AjaxSelfUpdatingTimerBehavior  When the modal window is shown  the following error occurs in the Wicket Ajax Debug console ERROR  Wicket Ajax Call processEvaluation  Exception evaluating javascript  TypeError  Cannot read property  label   of undefined  text   function   clearTimeout Wicket TimerHandles  label      delete Wicket TimerHandles  label            ',0
'Wicket ignores allowDefault false attribute in multipart ajax requests       ',0
'Component continueToOriginalDestination   can redirect to        Following scenario Home page redirects to login page via RestartResponseException if no user is logged in The user logs in  and is led back to the originally called page via continueToOriginalDestination   If the original page was the home page  Wicket s UrlRenderer produces a target url of     here  which IE browsers can t handle     ',0
'SecurePackageResourceGuard is blocking access to web fonts       ',0
'Evaluation of returned data  which includes alot of javascript  very slow after ajax call in IE       We re using ajax to update a treetable  In IE    when the ajax call returns the data  which contains alot of javascript code  processEvaluation in wicket ajax jquery js stalls on var text   jQuery node  text   In jQuery procedure Sizzle getText is called  which eventually returns property elem textContent  In IE   this last statement takes about    seconds for our case while the same statement in chrome takes about   ms It seems strange that IE   takes this long to return the textContent of a node  but why is this necessary in the first place The purpose of var text   jQuery node  text   would be to get the text of the node  I think it would suffice to state var text   node childNodes            nodeValue instead of var text   Query node  text    because the text is in the node itself  and it s not necessary to get the text from its descendants  because it has no descendants In our case this modification improves the duration from       ms to   ms in IE      ',1
'wicket atmosphere EventBus constructor throws NullPointerException under invalid state    With invalid configuration  like the WebApplication not yet associated with the servlet  wicket atmosphere throws NPE Caused by  org springframework beans factory BeanCreationException  Error creating bean with name  atmosphereEventBus  defined in class id co bippo springapp AppConfig  Instantiation of bean failed  nested exception is org springframework beans factory BeanDefinitionStoreException  Factory method  public org apache wicket atmosphere EventBus id co bippo springapp AppConfig atmosphereEventBus    threw exception  nested exception is java lang NullPointerException at org springframework beans factory support ConstructorResolver instantiateUsingFactoryMethod ConstructorResolver java        spring beans       RELEASE jar       RELEASE  at org springframework beans factory support AbstractAutowireCapableBeanFactory instantiateUsingFactoryMethod AbstractAutowireCapableBeanFactory java         spring beans       RELEASE jar       RELEASE  at org springframework beans factory support AbstractAutowireCapableBeanFactory createBeanInstance AbstractAutowireCapableBeanFactory java        spring beans       RELEASE jar       RELEASE  at org springframework beans factory support AbstractAutowireCapableBeanFactory doCreateBean AbstractAutowireCapableBeanFactory java        spring beans       RELEASE jar       RELEASE  at org springframework beans factory support AbstractAutowireCapableBeanFactory createBean AbstractAutowireCapableBeanFactory java        spring beans       RELEASE jar       RELEASE  at org springframework beans factory support AbstractBeanFactory doGetBean AbstractBeanFactory java        spring beans       RELEASE jar       RELEASE  at org springframework beans factory support AbstractBeanFactory getBean AbstractBeanFactory java        spring beans       RELEASE jar       RELEASE  at org springframework beans factory support DefaultListableBeanFactory findAutowireCandidates DefaultListableBeanFactory java        spring beans       RELEASE jar       RELEASE  at org springframework beans factory support DefaultListableBeanFactory doResolveDependency DefaultListableBeanFactory java        spring beans       RELEASE jar       RELEASE  at org springframework beans factory support DefaultListableBeanFactory resolveDependency DefaultListableBeanFactory java        spring beans       RELEASE jar       RELEASE  at org springframework beans factory annotation AutowiredAnnotationBeanPostProcessor AutowiredFieldElement inject AutowiredAnnotationBeanPostProcessor java        spring beans       RELEASE jar       RELEASE          common frames omittedCaused by  org springframework beans factory BeanDefinitionStoreException  Factory method  public org apache wicket atmosphere EventBus id co bippo springapp AppConfig atmosphereEventBus    threw exception  nested exception is java lang NullPointerException at org springframework beans factory support SimpleInstantiationStrategy instantiate SimpleInstantiationStrategy java        spring beans       RELEASE jar       RELEASE  at org springframework beans factory support ConstructorResolver instantiateUsingFactoryMethod ConstructorResolver java        spring beans       RELEASE jar       RELEASE          common frames omittedCaused by  java lang NullPointerException  null at org apache wicket atmosphere EventBus  lt init gt  EventBus java        wicket atmosphere     jar      at id co bippo springapp SoluvasWebApplication getEventBus SoluvasWebApplication java        SoluvasWebApplication class na  at id co bippo springapp AppConfig atmosphereEventBus AppConfig java        AppConfig class na  at id co bippo springapp AppConfig  EnhancerByCGLIB  a c dc   CGLIB atmosphereEventBus    lt generated gt     spring core       RELEASE jar na  at id co bippo springapp AppConfig  EnhancerByCGLIB  a c dc    FastClassByCGLIB    a fc e invoke  lt generated gt     spring core       RELEASE jar na  at org springframework cglib proxy MethodProxy invokeSuper MethodProxy java        spring core       RELEASE jar       RELEASE  at org springframework context annotation ConfigurationClassEnhancer BeanMethodInterceptor intercept ConfigurationClassEnhancer java        spring context       RELEASE jar       RELEASE  at id co bippo springapp AppConfig  EnhancerByCGLIB  a c dc   atmosphereEventBus  lt generated gt     spring core       RELEASE jar na  at sun reflect NativeMethodAccessorImpl invoke  Native Method    na           at sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java       na           at sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java       na           at java lang reflect Method invoke Method java        na           at org springframework beans factory support SimpleInstantiationStrategy instantiate SimpleInstantiationStrategy java        spring beans       RELEASE jar       RELEASE          common frames omittedIt should wrap the NPE in a more descriptive error  Suggestion   Provided Wicket WebApplication is not associated with a ServletContext  Please ensure Wicket application is fully initialized before creating Atmosphere EventBus     ',0
'InterceptData never gets cleared from session after continueToOriginalDestination is called and another page is requested afterwards    We have the same problem as earlier described by Chris in WICKET       The above fix is great but we ve run into another problem  If an admin user attempts to go to a restricted page and gets redirected via a RedirectToInterceptException but then decides not to log on but then goes to the normal home page authentication and then successfully logs on as a standard user that authentication will redirect to where the admin initially wanted to go to   because they never authenticated as admin continueToOriginalDestination was never called and so Wicket still thinks that when continueToOriginalDestination is called after the standard user s authentication that it needs to redirect to the original admin page    fun Would it be possible to introduce an explicit  clearRedirect  method so that when the home page does a RestartResponseException to redirect to the standard user authentication page it can  at the same time  do a  clearRedirect  so that a subsequent call to continueToOriginalDestination does not attempt to go to the admin page I can t remove the continueToOriginalDestination from the standard user authentication page because it is still required to perform a continue when it was reached by a RedirectToIntercepException from restricted pages other than the home page      ',0
'Exception while rendering absolute URL with UrlResourceReference    While rendering absolute url UrlRenderer calls renderFullUrl on line     which causes error    ',0
'PageRequestHandlerTracker doesn t track resolves of handlers caused by Exception    PageRequestHandlerTracker should implement  onExceptionRequestHandlerResolved     ',0
'URL query parameter values containing equals sign get cut off    When calling a page with a query parameter like  param  val  val   the value of  param   obtained from PageParameters will be  val    Everything after the equals sign inside the parameter value gets cut off    ',0
'PageStoreManager SessionEntry keeps outdated sessionId when container changes sessionId    PageStoreManager keeps the initial sessionId for each SessionEntry If the container changes the sessionId later  e g  Tomcat s  Session Fixation Protection    all pages continue to be stored under the the initial sessionId  This is necessary to be able to access old pages even after a change to the sessionId However PageStoreManager sessionExpired String  passes the current sessionId to the PageStore  If it is not longer equal the original sessionId  the PageStore will fail to remove the stored pages for the session    ',0
'Incorrect signature of types which extend Comparable    AbstractRangeValidator has the following Signature public abstract class AbstractRangeValidator lt R extends Comparable lt R gt   amp  Serializable  V extends Serializable gt  extends Behavior implements IValidator lt V gt Because of this it cannot be used with DateMidnight as its Comparable implementation is in a base class I think the correct signature should be public abstract class AbstractRangeValidator lt R extends Comparable lt   super R gt   amp  Serializable  V extends Serializable gt  extends Behavior implements IValidator lt V gt    ',0
'Page redirects can fail when using url encoding    When url encoding is used instead of cookies for session management  some redirections do not work in Wicket        The problem appears to be in UrlRenderer renderRelativeUrl  which returns the  invalid  relative URL      demo app jsessionid  BFE       CFF BEBAE CBF C  B  F  when passed the URL  http   localhost      demo app jsessionid  BFE       CFF BEBAE CBF C  B  F and when the UrlRenderer s base URL is   wicket page     ILinkListener link This is because the removeCommonPrefixes method tries to compare segments between the encoded target URL and a URL parsed from  URLRenderer line      Url commonPrefix   Url parse request getContextPath     request getFilterPath    This second URL does not contain the  jsessionid     suffix and the removeCommonPrefixes method doesn t remove prefixes properly  The problem doesn t occur when using cookies for session management  of course This issue is new between Wicket version       and        When deployed into a servlet container using url encoding for session management  the following app works under Wicket       but fails  because of redirecting to an invalid URL  under Wicket                                     App javaimport org apache wicket protocol http WebApplication import org apache wicket Page public class App extends WebApplication    Override public Class lt   extends Page gt  getHomePage     return A class                                  A javaimport org apache wicket markup html WebPage import org apache wicket markup html link Link public class A extends WebPage   public A     add new Link lt Object gt   link      Override public void onClick     setResponsePage B class                                         B javaimport org apache wicket markup html WebPage import org apache wicket markup html link Link public class B extends WebPage   public B     add new Link lt Object gt   link      Override public void onClick     setResponsePage A class                                      Clicking the link on the home page A will successfully navigate to page B  Clicking the link on page B should navigate to page A  Under Wicket        or Wicket       with cookies  it works  With Wicket       and url encoding  it tries to redirect to an incorrect URL like http   localhost      demo app  demo app jsessionid  BFE       CFF BEBAE CBF C  B  Fwhich fails  note the double slash and repeated context filter in the URL   It is possible to configure Tomcat to use url encoding instead of cookies for session management by editing the conf context xml file within the Tomcat installation and making the root element of that file read   lt Context cookies  false  gt    ',0
'Base url is incorrect for error dispatched pages    The fix for https   issues apache org jira browse WICKET      includes the following code in org apache wicket protocol http servlet ServletWebRequest ServletWebRequest HttpServletRequest httpServletRequest  String filterPrefix  Url url  if  forwardAttributes    null    errorAttributes    null    if  LOG isDebugEnabled      LOG debug  Setting filterPrefix       to    because there is either an error or a forward           new Object    filterPrefix  forwardAttributes  errorAttributes         the filter prefix is not needed when the current request is internal    see WICKET      this filterPrefix      The filterPrefix is actually needed later when a request is made due to an error  e g       public Url getClientUrl     if  errorAttributes    null  amp  amp   Strings isEmpty errorAttributes getRequestUri       String problematicURI   Url parse errorAttributes getRequestUri    getCharset     toString    return getContextRelativeUrl problematicURI  filterPrefix  With filterPrefix     the urls for any resources in the error page are wrong    ',0
'AjaxEditableLabel not working well in form    Using quickstart I created new maven project  using       wicket   extensions  Code of my page ispackage net betlista import org apache wicket extensions ajax markup html AjaxEditableLabel import org apache wicket markup html WebPage import org apache wicket markup html form Form import org apache wicket model CompoundPropertyModel public class AjaxEditableLabelInFormTestPage extends WebPage   Form lt AjaxEditableLabelInFormTestPageModel gt  form   new Form  form    AjaxEditableLabel lt String gt  text   new AjaxEditableLabel lt String gt   text    public AjaxEditableLabelInFormTestPage     form setModel new CompoundPropertyModel lt AjaxEditableLabelInFormTestPage AjaxEditableLabelInFormTestPageModel gt  new AjaxEditableLabelInFormTestPageModel      form add text   add form     class AjaxEditableLabelInFormTestPageModel   String text    code for markup HTML is lt  DOCTYPE html PUBLIC     W C  DTD HTML      Transitional  EN   http   www w  org TR html  loose dtd  gt  lt html gt   lt head gt   lt meta http equiv  Content Type  content  text html  charset ISO         gt   lt title gt Insert title here lt  title gt   lt  head gt   lt body gt   lt form wicket id  form  gt   lt span wicket id  text  gt text lt  span gt   lt  form gt   lt  body gt  lt  html gt and when I edit the label and press tab  it changed to regular page text  span   but when I press enter  while editing  the component is still input instead of span and the content is not submitted also  It s not possible to change the component to span again      ',1
'Direct iframe removal not supported by Firefox  tab title stays as  Connecting     Hi When using the post via iframe feature of Wicket  for multipart Ajax request  with Firefox  the tab title is changed to  Connecting     and it doesn t get back to the original page title at all  even after the Ajax call returned The iframe is removed in the onload of the iframe   seehttps   github com apache wicket blob master wicket core src main java org apache wicket ajax res js wicket ajax jquery js L     and it seems to be problematic for Firefox Looks like there is some literature about it here http   stackoverflow com questions         never ending connecting message after ajax form submitand using a pattern like the following should fix it iframe onload   function       Do work with the content of the iframe   setTimeout function    iframe parentNode removeChild iframe          Quickstart coming with a way to reproduce the problem  Launch the application using Start java  Go to http   localhost       with Firefox  Upload a file via the Ajax submit button  The tab title stays as  Connecting     Now uncomment the resource replacement line in the WicketApplication file  restart the app and it should work correctly Patch using a setTimeout call coming too    ',0
'AjaxEditableLabel doesn t provide a way to configure Ajax attributes for its Ajax behaviors    AjaxEditableLabel uses EditorAjaxBehavior and LabelAjaxBehavior to change its modes At the moment there is no way to configure custom Ajax attributes for both behaviors    ',0
'ModalWindow is not visible in Safari when opened from a link at the bottom of a large page    I am not able to see a ModalWindow in Safari and I expect to see it centered on my view port Steps    Start with a large web page with a link to open the ModalWindow at the bottom of the page  You need a large page where you have to scroll down to find the link    Click the link   Observe that the mask for the ModalWindow displays  but the ModalWindow does not  Scrolling back up  re sizing  and maximizing will still not display the ModalWindow    ',0
'CDI integration fails in Glassfish     with WELD           When CDI is configured in the Application and a page has a non static inner class the page throws exception  regardless of whether there are any injected fields Caused by  org jboss weld exceptions DefinitionException  WELD        Simple bean      EnhancedAnnotatedTypeImpl      private class com inversebit HomePage AForm cannot be a non static inner class at org jboss weld injection producer BasicInjectionTarget checkType BasicInjectionTarget java     at org jboss weld injection producer BasicInjectionTarget  lt init gt  BasicInjectionTarget java     at org jboss weld injection producer BeanInjectionTarget  lt init gt  BeanInjectionTarget java     at org jboss weld manager InjectionTargetFactoryImpl createInjectionTarget InjectionTargetFactoryImpl java     at org jboss weld manager InjectionTargetFactoryImpl createInjectionTarget InjectionTargetFactoryImpl java            more   ',0
'use jquery  focusin   focusout  for ajax focus tracking    Focus tracking in wicket ajax jquery js can be simplified with jQuery bubbling  focusin   focusout     ',0
'Wicket generates invalid HTML by expanding col tags    hi I just noticed that wicket expands col tags  even though the  x html specifications forbids it take this markup as an example  lt table gt   lt colgroup gt   lt col width         gt   lt col width         gt   lt  colgroup gt   lt tbody gt   lt tr gt   lt td gt I take a fifth of the available space lt  td gt   lt td gt I take four fifth of the available space lt  td gt   lt  tr gt   lt  tbody gt  lt  table gt Instead of return this as is  it get s converted to  lt table gt   lt colgroup gt   lt col width       gt  lt  col gt   lt col width       gt  lt  col gt   lt  colgroup gt   lt tbody gt   lt tr gt   lt td gt I take a fifth of the available space lt  td gt   lt td gt I take four fifth of the available space lt  td gt   lt  tr gt   lt  tbody gt  lt  table gt But the specifications mention that col tags must not have end tags  This may be related to WICKET       as this seems to be the point when col was added to the OpenCloseTagExpander class  Note that it is ok to have a non closing col tag in html  self closing in xhtml   It s all about generating a separated end tag This happens in wicket      but I guess it s relevant to all versions down to wicket     Specs for reference http   www w  org TR      REC html             struct tables html edef COLhttp   www w  org TR html markup col htmlKind regards Konrad   ',0
'JS  High stack size in Function Executor causes  too much recursion     The Function Executor in wicket ajax jquery js uses recursion and deferred calls to the notify   function to ensure synchronous execution of all tasks contained in an AjaxResponse Each task calls notif   when it is finished  This causes a recursive call to processNext   thus raising the stack for each execution  If there are a lot of task to handle  the stack size will increase beyond the possible stack size in the client causing a  too much recursion  exception and increasingly low performance The deferred execution of notify is only necessary if the task executor has to wait for long running tasks to finish at some uncertain point in the future  Examples  downloading of external resources  js  css  images   These task can call back the executor as soon as they are really finished  e g  load event triggerd  The problem is that the majority of tasks don t need to wait but return instantly instead  Examples  exchanging components  executing custom javascripts that do not use the    syntax  to include the notify callback Current fix  The depth of the stack is counted and if a depth of  gt        is reached  a timeout will interrupt the synchronous task queue execution  A new executor will continue with an empty stack Problems with that approach   why       several ajax requests might interrupt each other because the synchronous execution is broken  if an executed custom javascript creates a big stack itself  e g  by using jquery a lot  the stack will add to the stack used by the Function Executor so that it may still be too big Proposal to fix this  see also the attached patch Another callback notifyContinue   is supported that can be called whenever the task will return instantly  This callback avoids the recursive call to processNext and continues in a simple loop over all the tasks    ',1
'Broken Link in Tomcat because of Page Mount    I post this message on the user mailing List  http   apache wicket         n  nabble com Broken Link in Tomcat because of Page Mount tt        html  and Martin Grigorov asked me  to create a ticket on Jira Broken Link in Tomcat because of Page MountFollowing situation  I have a Wicket Application        which runs under the context  webapp  on a Tomcat        I mount a Page with two parameters  this is important  in the WicketApplication  mountPage   mount   parameter     parameter     MountedPage class   The mounted Page MountedPage class  has only a simple Link There are two links on the HomePage to the mounted Page  They are declared as follows  add new Link lt Void gt   link      Override public void onClick     setResponsePage MountedPage class  linkParameters         add new Link lt Void gt   brokenLink      Override public void onClick     setResponsePage new MountedPage linkParameters         I deploy this Application as a war file on a Tomcat under the context  webapp  When I call the first Link on the HomePage and then the Link on the mounted Page  everything works fine But if I call the second Link and then the Link on the mounted Page  the link is broken The context is missing in the generated link http   localhost      wicket bookmarkable com mycompany LinkedPageDoes anyone have an idea  why the second link does not work on Tomcat I add a Quickstart and the war file as attachment Ps  Both links works fine in Jetty  Pss If I remove the mount command  both links will work in Tomcat too    ',0
'Allow configuring the resource used by ResourceStreamRequestHandler    During the migration from Wicket     to        I found out that the ResourceStreamResource respond   does not set the ContentType charset if the resource is of type StringResourceStream  Even though the stream holds the charset  it is not set  although quite a few other header parameters are  well this is understandable because not all ResourceStreams are StringResourceStreams  Also  it is difficult to call the resource setTextEncoding  because the current flow in resourceStreamRequestHandler respond does not allow easy overriding of any smaller piece of respond than the whole method  The practical issue was to download a CSV file by clicking a button  I managed to fix the issue by copy paste Overriding the ResourceStreamRequestHandler respond  but IMHO this is not nice  private void addCsvButton     Form lt   gt  form   new Form lt Void gt   form      Override protected void onSubmit     final String fileName   getFileName  csv    TableCsvResourceFactory factory   new TableCsvResourceFactory    final IResourceStream resourceStream   factory getResourceStream tableModel getObject     ResourceStreamRequestHandler resourceStreamRequestHandler   new ResourceStreamRequestHandler  resourceStream    final ContentDisposition contentDisposition   ContentDisposition ATTACHMENT   Override public void respond IRequestCycle requestCycle    Attributes attributes   new Attributes requestCycle getRequest    requestCycle getResponse     ResourceStreamResource resource   new ResourceStreamResource resourceStream   resource setFileName fileName   if  contentDisposition    null    resource setContentDisposition contentDisposition     else   resource setContentDisposition Strings isEmpty fileName    ContentDisposition INLINE   ContentDisposition ATTACHMENT     final Duration cacheDuration   getCacheDuration    if  cacheDuration    null    resource setCacheDuration cacheDuration      resource setTextEncoding  UTF      resource respond attributes        RequestCycle get   scheduleRequestHandlerAfterCurrent resourceStreamRequestHandler        form setVisible displayCsv   add form    There are a couple of problems with the current implementation of ResourceStreamRequestHandler    I didn t figure out yet any other way how to call the  resource setTextEncoding  UTF     except by copy pasting the whole ResourceStreamRequestHandler respond   code to the Override  It would be nice  if there would be some cleaner hook to override some smaller part of this method  such as an empty default implementation of setTextEncoding   that would be always called but would not do anything for other types    A second approach would be to create a StringResourceStreamRequestHandler extends ResourceStreamRequestHandler that would be otherwise the same  but would use IStringResource instead of IResource  and would also set the TextEncoding    However  third  I didn t yet find any good way to get the encoding from the StringResourceStream itself  because the AbstractStringResourceStream has a protected getCharset    This problem could be overcome by adding public version of getCharset   to StringResourceStream  or as I did  create a parallel subclass CharsetStringResourceStream that is a copy paste from StringResourceStream but is non final and has public getCharset    After this you could dynamically set the text encoding in ResourceStreamRequestHandler respond for example like this  if  getResourceStream   instanceof CharsetStringResourceStream    resource setTextEncoding   CharsetStringResourceStream getResourceStream    getCharsetName      Anyway  I think the usage of StringResourceStream with ResourceStreamRequestHandler should be improved somehow  at the moment I think it is a bit awkward to use    ',0
'Url can t parse urls with username and password    Url tries to parse the password as the portnumber  because it s after the    resulting in the following exception java lang NumberFormatException  For input string     dc   c  ffa  e    e         f c b  digdag rest dev  topicusonderwijs nl  java lang NumberFormatException forInputString NumberFormatException java     java lang Integer parseInt Integer java      java lang Integer parseInt Integer java      org apache wicket request Url parse Url java      org apache wicket request Url parse Url java      org apache wicket protocol http servlet ServletWebResponse encodeRedirectURL ServletWebResponse java      org apache wicket protocol http servlet ServletWebResponse sendRedirect ServletWebResponse java      org apache wicket protocol http BufferedWebResponse SendRedirectAction invoke BufferedWebResponse java      org apache wicket protocol http BufferedWebResponse writeTo BufferedWebResponse java      org apache wicket protocol http HeaderBufferingWebResponse stopBuffering HeaderBufferingWebResponse java     org apache wicket protocol http HeaderBufferingWebResponse flush HeaderBufferingWebResponse java     org apache wicket protocol http WicketFilter processRequestCycle WicketFilter java      org apache wicket protocol http WicketFilter processRequest WicketFilter java      org apache wicket protocol http WicketFilter doFilter WicketFilter java        ',0
'FilenameWithVersionResourceCachingStrategy breaks silently when the versionPrefix is contained in the original filename    If a resource name contains the character used as version prefix then FilenameWithVersionResourceCachingStrategy undecorateUrl   will split the decorated filename wrongly and the resource response will return      Not found     ',0
'ComponentRenderer renderComponent fails to render two components with different component IDs    After WICKET      was fixed   renderComponent now accepts component with any component ID  However since the markup of the RenderPage is cached  after calling  renderComponent for one component it will fail for components having different component ID This could be fixed as I suggested in WICKET       RenderPage could implement IMarkupCacheKeyProvider interface and return null in  getCacheKey    ',0
'XmlAjaxResponse restores wrong response    XmlAjaxResponse writeComponent   erroneously sets the passed response into the requestCycle  although it never was the old   original  response   Overrideprotected void writeComponent Response response               Restore original response RequestCycle get   setResponse response   AjaxRequestHandler respond      restores the correct old response afterwards  but temporarily the current response of the RequestCycle is wrong    ',0
'Wicket Tree rendering broken in   x    While testing WICKET       EventDelegationBehavior  I ve noticed that the Tree component renders with broken layout in Wicket   x It looks like a CSS related issue    ',0
'Tabindex overwritten in modal window for IE   Works in FF  Chrome    Attribute tabindex gets overwritten in ModalDialog  when using IE          It works fine in FF  Chrome This breaks chances of creating accessability by using tab See attachment for testproject  which works in ff chrome  fails in ie           Open modallink  lightbox    use tabbutton   in ff  chrome you ll tab between closebutton and content  in ie this fails cause tabindex gets overwritten by     I suspect it s this codepart in modal js that does it if  Wicket Browser isIE      this disabledTabsRevertList       for  var j      j  lt  this tabbableTags length  j      var tagElements   doc getElementsByTagName this tabbableTags     j        for  var k       k  lt  tagElements length  k         if this is not an iframe window and the element is child of window content     don t disable tab on it if  win isIframe       true    this isParent tagElements     k       win content      false    var element   tagElements k   element hiddenTabIndex   element tabIndex  element tabIndex       this disabledTabsRevertList push element             ',0
'o a w a AtmosphereBehavior onBroadcast should log DEBUG  not INFO    Logging of onBroadcast is too verbose to be on INFO level                 INFO   oryBean Worker     o a w a EventBus   pache wicket atmosphere EventBus       registering component for page   for session A D  FEE    F   C A     C  F  E   crumbHolder jobListPanel               INFO   Shared AsyncOp     o a w a AtmosphereBehavior   et atmosphere AtmosphereBehavior       onBroadcast        lt  msg  gt  lt  xml version       encoding  UTF     gt  lt ajax response gt  lt component id  jobListPanel ea    gt  lt   CDATA  lt div id  jobListPanel ea   gt  lt h  gt Device Presences lt  h  gt  lt div class  btn toolbar  gt   lt a href     class  btn btn danger  id  deleteAllBtn f    gt  lt i class  icon trash  gt  lt  i gt  Delete all lt  a gt  lt span style  display none   class  wicket ajax indicator  id  deleteAllBtn f    ajax indicator  gt  lt img src    wicket resource org apache wicket ajax AbstractDefaultAjaxBehavior indicator ver               gif  alt     gt  lt  span gt  lt  div gt  lt table id  devicePresenceTable f    class  table striped table bordered table  gt  lt thead gt   lt tr class  navigation  gt   lt td colspan     gt    It should be DEBUG level only   ',0
'Too deep recursion in AbstractHierarchyIterator    In application we have code as follows  MarkupContainer mc        ComponentHierarchyIterator iter   mc visitChildren FormComponent class   for  Component c   iter         However  when run  on many pages this causes java lang StackOverflowError  with lots of the stacktrace filled with lines like this     org apache wicket util iterator AbstractHierarchyIterator moveUp AbstractHierarchyIterator java      org apache wicket util iterator AbstractHierarchyIterator moveUp AbstractHierarchyIterator java      org apache wicket util iterator AbstractHierarchyIterator nextNode AbstractHierarchyIterator java      org apache wicket util iterator AbstractHierarchyIterator moveDown AbstractHierarchyIterator java      org apache wicket util iterator AbstractHierarchyIterator nextNode AbstractHierarchyIterator java      org apache wicket util iterator AbstractHierarchyIterator moveUp AbstractHierarchyIterator java      org apache wicket util iterator AbstractHierarchyIterator nextNode AbstractHierarchyIterator java      org apache wicket util iterator AbstractHierarchyIterator moveDown AbstractHierarchyIterator java      org apache wicket util iterator AbstractHierarchyIterator nextNode AbstractHierarchyIterator java      org apache wicket util iterator AbstractHierarchyIterator moveDown AbstractHierarchyIterator java      org apache wicket util iterator AbstractHierarchyIterator nextNode AbstractHierarchyIterator java      org apache wicket util iterator AbstractHierarchyIterator moveDown AbstractHierarchyIterator java      org apache wicket util iterator AbstractHierarchyIterator nextNode AbstractHierarchyIterator java      org apache wicket util iterator AbstractHierarchyIterator moveDown AbstractHierarchyIterator java      org apache wicket util iterator AbstractHierarchyIterator nextNode AbstractHierarchyIterator java      org apache wicket util iterator AbstractHierarchyIterator moveUp AbstractHierarchyIterator java      org apache wicket util iterator AbstractHierarchyIterator moveUp AbstractHierarchyIterator java      org apache wicket util iterator AbstractHierarchyIterator nextNode AbstractHierarchyIterator java        It seems that the search for next component in the iteration produces too deep recursion here  not infinite  but too deep for processing a typical page with relatively lots of components  and I suspect that the length of the stack used by the iterator is proportional to the total number of components in the page    ',1
'MarkupCache ignores enforceReload flag    MarkupCache ignores the enforceReload flag in the loadMarkupAndWatchForChanges   method  v      lines     to     should be wrapped in an  if   enforceReload         ',0
'AuthenticatedWebSession authenticate should be protected  not public    A common source of confusion in trainings is that when implementing security using wicket auth roles  you have to implement  authenticate in your own session class  but in the login form s  onSubmit you have to call  signIn Both  authenticate and  signIn are public and both have identical signatures  Their names mean basically the same thing too  This is rather error prone I propose changing the visibility of  authenticate to protected  That way  it will still work the same as it does now  except it won t show up in code completion anymore and won t compete with  signIn anymore This should not be an API break  since  authenticate is abstract anyway and is always implemented in user code  Raising visibility from protected to public is always legal  so user code should not break from this change Opinions    ',0
'No page id appended to some stateful pages using repeaters    My test case is a page containing a ListView with a single stateful child  In that case  there is no redirect done to append a pageId to the url because the page s statefulness check is erroneous Analysis This calls page isPageStateless   to dertermine whether a pageId should be addedBookmarkableMapper AbstractBookmarkableMapper  getPageInfo IPageRequestHandler  line     BookmarkableMapper AbstractBookmarkableMapper  mapHandler IRequestHandler  line     SystemMapper CompoundRequestMapper  mapHandler IRequestHandler  line     RequestCycle mapUrlFor IRequestHandler  line     WebPageRenderer respond RequestCycle  line     RenderPageRequestHandler respond IRequestCycle  line     RequestCycle HandlerExecutor respond IRequestHandler  line     RequestCycle HandlerExecutor RequestHandlerStack  execute IRequestHandler  line    RequestCycle execute IRequestHandler  line     The problem I see is that AbstractRepeater s onPopulate   is called during onBeforeRender   and this is not done when the stateless status of the page is first checked  Therefore  no pageId is added unless other components not located inside repeaters are also stateful  See thread http   wicket users markmail org thread  q dmns lqjgkok I will add a quickstart    ',0
'if wicket is an external lib  BundleStringResourceLoader doesn t work    We have got serveral Wicket based Wepapps on our server and in order to save space  we have move all shared libs  including wicket  into a shared folder which is included via the  common loader  of the catalina properties file   Using Apache Tomcat        The Problem is now  that StringResourceModel works normal  but the BundleStringResourceLoader doesn t work anymore  It always returns null How to reproduce Build attached quickstartRemove wicket libs from warDeploy in Tomcat   ',0
'PriorityHeaderItem OnDomReadyHeaderItem has no priority in Ajax response    PriorityHeaderItems OnDomReadyHeaderItem have no priority in Ajax responses org apache wicket ajax AbstractAjaxResponse AjaxHeaderResponse render   doesn t extract the wrapped header item and thus doesn t process OnDomReady OnLoad OnEvent header items properly    ',0
'Wicket doesn t encrypt links and Ajax URLs for mounted pages when CryptoMapper is used    URL encryption does not work in Wicket links and Ajax URLs For links the URL appears unencrypted in the href attribute value and is only later forwarded to the encrypted URL using a     response I am uploading a quickstart    ',0
'org apache wicket util string StringValue equals broken    The  equals implementation for org apache wicket util string StringValue is broken  The following throws an exception instead of just printing  false  StringValue val   StringValue valueOf  bla   Locale FRANCE  StringValue val    StringValue valueOf  bla   Locale CANADA  System out println val equals val    This part of  equalsObjects isEqual locale  stringValue locale should probably be replaced with something like locale    stringValue locale     locale    null  amp  amp  locale equals stringValue locale    gt  Objects isEqual is not suitable to determine equality of Locale   ',0
'ResourceAggregator looses information about priority filtering     when using a bundle    If a resource reference is part of a bundle and this resource reference is rendered with PriorityHeaderItem then the bundle is not rendered with priority    ',0
'SourcesPage fails on resources with non ASCII characters    When created with a String input argument  XhtmlRenderer uses the deprecated java io StringBufferInputStream  which  does not properly convert characters into bytes   javadoc  Thus the rendered output may contain invalid characters for the Ajax response    ',0
'wicket bean validation PropertyValidator fr properties xml   org xml sax SAXParseException    French translation for wicket bean validation was added in WICKET      It was a properties file that was working Unfortunatly in the source code it was changed in a XML file that is not weel formed java util InvalidPropertiesFormatException  org xml sax SAXParseException  lineNumber      columnNumber       The content of elements must consist of well formed character data or markup  at java util XMLUtils load XMLUtils java           na               at java util Properties loadFromXML Properties java            na                 ',0
'Behaviors internalAdd Behavior  erroneously gets id for stateless behaviors    see http   markmail org thread jtd zn   r   jbm   ',0
'BOM in UTF markup file breaks encoding detection    I have project with internationalization and experienced this problem with one of the pages with non english content  Page had UTF   encoding  but my JVM encoding is different  I always use   lt  xml encoding       gt   to specify encoding for markup pages  and  MarkupSettings defaultMarkupEncoding  is not set  Unexpectedly I got problem with bad encoding on page  After several hours of debugging I found what source of this issue was UTF BOM  Byte order mark  at the beggining of file and inability of  XmlReader  to process it   XmlReader getXmlDeclaration  tries to match xml declaration with regular expression  but fails because of BOM  After that encoding defaults to JVM encoding It s possible to use  org apache commons io input BOMInputStream  to handle BOM or you could handle it manually inside  XmlReader  PS  issue found with Wicket        and I see same code in        without BOM handling  so I added it to  Affects Version s   but no proof in code available from me at this moment    ',0
'this replaceWith is broken when called from onInitialize    When calling this replaceWith within the onInitialize method  wicket throws an exception  Last cause  org apache wicket Component has not been properly initialized  Something in the hierarchy of com mycompany PanelA has not called super onInitialize   in the override of onInitialize   method This happens because detach is called on the panel being replaced which clears Component request flags  sets to    which causes the exception on line     of Component java if   getRequestFlag RFLAG INITIALIZE SUPER CALL VERIFIED        throws here    ',0
'PropertyValidator ignoring groups with the  NotNull annotation only    When using groups in your JSR    compliant classes  Wicket does not honor the groups for the  NotNull annotation    ',0
'ComponentRenderer renderComponent   adds a page to DataStore    I m using ComponenetRenderer withing CustomTooltipBehavior  wicket jquery ui  to generate tooltip content  I add this to about    rows in my table so I run renderComponent   method as many times All worked fine but there was a problem with performance when I used Fragment component with markup attached to the WebPage  I did some digging and finally checked http   localhost      context wicket internal debug diskDataStore and it appeared that for one request  Wicket stores    pages in it  All of the size of the whole page  about    kB  and all of them named org apache wicket core util string ComponentRenderer RenderPage I changed implementation from Fragment to Panel componenet and the size was reduced to   kB  but still all of these items were stored in the DataStore It seems that this method is creating a dummy page in order to create the markup  but how can I avoid storing these pages    ',1
'Page isPageStateless   returning true in regular run but false in WicketTester    Motivation Healthcheck heartbeat pages must always be stateless to prevent significant amounts of session creation and storage Also each anonymously accessed page in a public site should be stateless due to the same reason  otherwise the site could easily be DoSsed down  It would be nice to verify these requirements by tests If I create an ought to be stateless page with an AjaxLink which is hidden by a behavior public class MyPage extends WebPage   public MyPage     add new AjaxLink lt Void gt   link      Override public void onClick AjaxRequestTarget target           add new Behavior      Override public void onConfigure Component c    c setVisible false          add new Label  isPageStateless   new AbstractReadOnlyModel lt Boolean gt       Override public Boolean getObject     return MyPage this isPageStateless             then checking through a web server the page correctly prints  true   and no HttpSessions are created However  when I try to verify statelessness through WicketTester  the following test passes  Testpublic void testName   throws Exception   WicketTester tester   new WicketTester new WebApplication      Override public Class lt   extends Page gt  getHomePage     return MyPage class        tester startPage MyPage class   tester assertLabel  isPageStateless    false    assertFalse tester getLastRenderedPage   isPageStateless     It seems that somehow due to WicketTester  isPageStateless   is being invoked before any behaviors are run  and thus the AjaxLink is still visible   and since stateless flag for the page is cached  it remains false If it s by design that isPageStateless should always return the same result during each request  then I guess that the statelessness resolution process must not depend on anything happening after the page constructor  I assume it s not by design Suggestions A  Obvious fix would be to remove stateless flag caching  since apparently it is causing problems  as also suggested by a hackish comment in Page init    In general  caching should always be used sparingly B  Or maybe whoever is invoking isPageStateless   at an early stage should actually be using Page peekPageStateless    But this doesn t really seem like a real fix  more like a temporary hack C  All caching could also be disabled during test runs  but this would not be a good thing since tests should reproduce the actual behavior as closely as possible D  In case this is a known issue without a proper fix  how then could I verify page statelessness through WicketTester  Currently I m clearing the stateless cache by reflection  which feels kind of bad      ',1
'WicketTester doesn t preserve the request cookies when  executeListener   is used    org apache wicket util tester BaseWicketTester executeListener org apache wicket Component  org apache wicket RequestListenerInterface  creates a new new MockHttpServletRequest but doesn t do the cookie management as in org apache wicket util tester BaseWicketTester setupNextRequestCycle    the only other place where a new MockHttpServletRequest is created     ',0
'PackageResource internalGetResourceStream   should return ProcessingResourceStream only when the resource is existing    The fix for WICKET      introduced ProcessingResourceStream   a resource stream that wraps another IResourceStream and processes its InputStream  e g  compresses it  There is a bug that even when the resource is not found  i e  the resource stream is null  Wicket still wraps it in ProcessingResourceStream Another inefficiency is that ResourceStreamWrapper  the parent of ProcessingResourceStream  declares its method  getDelegate   as protected  It should be public    ',0
'WebPageRenderer should honor RedirectPolicy ALWAYS REDIRECT more consistently    In WebPageRenderer shouldPreserveClientUrl   currently has precedence over RedirectPolicy ALWAYS REDIRECT This can lead to confusion or unexpected behavior when RedirectPolicy ALWAYS REDIRECT is explicitely set  but for some reason shouldPreserveClientUrl   returns true and thus no redirect is performed due to the logic in WebPageRenderer A fix for this particular problem could be implemented in WebPageRenderer as of Wicket        by changing line     to   shouldPreserveClientUrl  amp  amp  getRedirectPolicy      RedirectPolicy ALWAYS REDIRECT     Note that this problem is slightly related to WICKET       Both fixes combined the line could look like this   shouldPreserveClientUrl  amp  amp   isAjax  amp  amp  getRedirectPolicy      RedirectPolicy ALWAYS REDIRECT        ',0
'AuthenticatedWebApplication onUnauthorizedPage   should work with Component  not Page    As discussed at http   markmail org message o ayjxt vb dyjvf org apache wicket authroles authentication AuthenticatedWebApplication onUnauthorizedPage   should have a parameter with type  Component   not  Page  because this Page is partially constructed   on the constructor of org apache wicket Component is executed All other super constructors  e g  MarkupContainer  Page  WebPage  YourPage  are not    ',0
'WebApplication ignores a SecurityException when reading the configuration type    The WebApplication class has a piece of code in the method getConfigurationType    that ignores a SecurityException Code snippet  try   result   System getProperty  wicket     Application CONFIGURATION     catch  SecurityException e       Ignore   we re not allowed to read system properties   This apparently causes a performance problem at one of our customers  where they had shared classloading enabled  Permissions were set differently on shared classloader level  which caused the retrieval of the property to fail silently  while taking about   ms longer  This code is called everytime Component getMarkupId is called  which means with      components on a page  you get a delay of   seconds or more Ofcourse the problem can be  and has been  solved with a correct configuration  My request however is that the exception is atleast logged at some level  warning for example   so spotting the problem will become a lot easier  it took us   weeks to narrow it down     ',1
'Page is not touched during initialization    After migration from        to        our app stopped working I figured out that there is a new condition in Page dirty final boolean isInitialization  on line     if  isInitialization    false   pageManager touchPage this   That means that nely constructed page does not get touched thus is not stored in page store The problem is that when I do something like thisprintPage   new PrintPage event getFormId    event getFormData    PageProvider pp   new PageProvider printPage  RenderPageRequestHandler rh   new RenderPageRequestHandler pp  CharSequence url   RequestCycle get   urlFor rh  I get an URL pointing to page with id X   but that page is not found because it was not stored and I ends with nonsense PageExpired exception I notice that        version fixed some bugs with stateless   statefull pages  etc  so that may be the cause  Nevertheless I think it s a bug If you do not want to touch page during creation  then it must get touched whenever it is involved in some request handler    ',0
'DefaultPropertyResolver should resolve the Property according to the getter first    A domain model model  may extend a domain model model  and have JSR    annotations on one or more getter to override constraints  In such a case  DefaultPropertyResolver cannot detect the right domain model implementation since direct property analysis is done first  Indeed  with the current implementation  if a property is declared in model  and the getter is overriden in model   model  is systematically affected as the property class owner although model  is the actual implementation associated with the Wicket model  As a consequence  some constraints validations may never been thrown Swapping direct property analysis and getter analysis solves this problem Workaround  providing my own property resolver    ',0
'IE   returns false for Wicket Browser isIE      As of Internet Explorer    this statement returns false instead of true  like it did prior to version     typeof document all       undefined This statement is used on line    of wicket event jquery js which means Wicket Browser isIE   will return false in IE      ',0
'Failing HTTPS redirect to RequireHttps annotated pages with ONE PASS RENDER strategy    Activated JS  Start the quickstart   gt  Press the submit buttons   gt  See the secured page with https Deactivates JS   NoScript Firefox Plugin   Start the quickstart   gt  Press the submit buttons   gt  See the secured page BUT with HTTP There was no proper https redirect If I change the rendering strategy to REDIRECT TO BUFFER everything works fine  but if I change the strategy to ONE PASS RENDER the https forwarding does t work anymore  But only if I deactivate all scripts   Regards Dmitriy   ',1
'Ajax indicator not working when display is set to none in css    I created a simple quickstart with one AjaxLink and one div used as ajax indicator  id ajax indicator   When I set display  none to ajax indicator in css  is does not show up when pressing link  When I remove display none from css  it disappears after when ajax request is finished and works fine for next ajax requests    ',0
'Inefficient DefaultPageStore SerializedPagesCache    We have identified some problems in org apache wicket pageStore DefaultPageStore SerializedPagesCache Some history first  At https   cwiki apache org confluence display WICKET Page Storage I have explained how the page storage management works in Wicket      In brief First level cache store is the HttpSession   here Wicket saves the live instances of all touched pages in the last request cycle Second level cache store is DefaultPageStore SerializedPagesCache   here Wicket saves the last N  org apache wicket settings StoreSettings getInmemoryCacheSize  used pages in the whole application  by default    pages Third level cache store is DiskDataStore   here Wicket stores all pages and depending on org apache wicket settings StoreSettings getMaxSizePerSession it will  recycle  the file contentsThe identified problems  org apache wicket pageStore DefaultPageStore SerializedPagesCache uses ArrayList as a data structure to keep SerializedPage instances  When the limit N  StoreSettings getInmemoryCacheSize  is reached the ArrayList uses  remove   to remove the oldest entry  The  remove    operation internally uses System arraycopy   to compact the internal array structure  As you already realize this ArrayList is constantly being recompacted in any application in production  DefaultPageStore SerializedPagesCache cache  the same ArrayList  is used as synchronization monitor for every operation  read write remove   I e  we have synchronization on application level    at the moment DefaultPageStore SerializedPagesCache stores org apache wicket pageStore DefaultPageStore SerializedPage  This is a structure of  String sessionId  int pageId  byte   data  Since this data is stored in the application scope it is never replicated  so there is no need to serialize the live page instance to byte   at all  Only the third level cache  IDataStore  should work with byte  A workaround to avoid the slowness caused by this is to set   or negative value to org apache wicket settings StoreSettings setInmemoryCacheSize   ',1
'NPE calling PackageResource getResourceStream   if there is no RequestCycle defined    From my email on the list Since the introduction of the ProcessingResourceStream  it s notpossible to call PackageResource getResourceStream   anymore if thereis no RequestCycle defined Typically  we call it in our Application init   to prepare  mostlypreprocess and cache  a couple of resources before opening theapplication to the public We now have a NPE here https   github com apache wicket blob master wicket core src main java org apache wicket request resource PackageResource java L   This problem was introduced by this commit https   github com apache wicket commit   b  ffffdd   f e fe  aa d b  ff e d     diff    db d    d ac   e   efd   c c Thanks    ',0
'AbstractAutoCompleteBehavior WrappedHeaderItem should depend on wicket ajax js    Classorg apache wicket extensions ajax markup html autocomplete AbstractAutoCompleteBehavior WrappedHeaderItem inherits empty list from HeaderItem in public Iterable lt   extends HeaderItem gt  getDependencies     return Collections emptyList     Using JavaScriptFilteredIntoFooterHeaderResponse causes renderingWicket Event add window   domready   function event    new Wicket AutoComplete before jQuery refrence Please  add JQueryResourceReference  other if needed  into dependency list of org apache wicket extensions ajax markup html autocomplete AbstractAutoCompleteBehavior WrappedHeaderItem   ',0
'Don t cache the result of AuthenticatedWebApplication getWebSessionClass      Currently the AuthenticatedWebApplication constructor obtains and holds a reference to the AbstractAuthenticatedWebSession class  This makes it impossible for classes extending AuthenticatedWebApplication to use a class based upon something passed into their constructors  The only option is to provide a  static   constant  class from the getWebSessionClass   method I don t see any advantage to holding this reference  Instead I propose that the class is changed to simply calling getWebSessionClass   each time the class is needed    ',0
'Autolinking does not always work in inheritted markup    If you have auto linked auto components that point to package resource  like  lt wicket link gt  lt img src  myimage png   gt  lt  wicket link gt defined in the grandparent markup  where the grandparent and parent are from different packages  then they do get rendered correctly Problem is this  AutoLinkResolver checks that the package resource actually exists  It checks by creating a PackageResourceReference and attempts to get the reference from that  The class used as the context for the PackageResourceReference is the class which owns the markup in which the auto link appeared  The key is the original reference  href or src  in the tag  So far everything is correct Wicket knows which class owned the markup by using ComponentTag getMarkupClass    It is therefore important that ComponentTag getMarkupClass   always returns the correct class  But it doesn t When we have a three level merged markup  child  parent  grandparent   this happens  parent markup is merged into grandparent using MergedMarkup  All ComponentTags that were originally from grandparent are called   setMarkupClass GrandParent class   so that they will know they came from the grandparent  So far so good Now  in order to get the child markup stream  we merge child markup onto the parent markup  Now  all ComponentTags in the parent markup are setMarkupClass Parent class   Problem is  this is not true  Some of these ComponentTags actually came from the grandparent  so the ComponentTag ends up returning the incorrect class  Parent class instead of GrandParent class  in  getMarkupClass   Because ComponentTag getMarkupClass   can return the wrong value  if the Parent and GrandParent are in different packages  then a resource that would be loadable by the grandparent is no longer loadable  because we are using the parent  which cannot find it Solution  fix MergedMarkup to only setMarkupClass   if getMarkupClass      null    ',0
'Upgrade wicket atmosphere to the latest version of atmosphere    Wicket atmosphere should be upgraded to atmosphere       and js        It s guava dependency to        ',0
'Atmosphere  updates infinitly with long polling transport    I found a problem when I use long polling for the transport  When the EventBus loop to the list of AtmosphereResource  on post method  and if the update is too long of each AtmosphereResource  the list of AtmosphereResource is update and reorder  because atmosphere remove and registry the AtmosphereResource due to long polling  and then the loop on EventBus never stop and update is infinitie To solve the probleme I do that on line     of EventBus java  for  AtmosphereResource resource   ImmutableList copyOf broadcaster getAtmosphereResources    rather thanfor  AtmosphereResource resource   broadcaster getAtmosphereResources   Best regards   ',1
'CLONE   ModalWindow is not visible in Safari when opened from a link at the bottom of a large page    I am not able to see a ModalWindow in Safari and I expect to see it centered on my view port Steps    Start with a large web page with a link to open the ModalWindow at the bottom of the page  You need a large page where you have to scroll down to find the link    Click the link   Observe that the mask for the ModalWindow displays  but the ModalWindow does not  Scrolling back up  re sizing  and maximizing will still not display the ModalWindow    ',0
'Do not throw when WebSocket is not supported    When the browser does not support WebSocket   wicket websocket jquery js throws an  is not supported  string from the initialize   method  which runs in the DOM ready event  This break any other initialization of the page that takes place after the WebSocket initialization  leading to less than graceful degradation of functionality    ',0
'ConcatBundleResource reportError   doesn t print the resource attributes    org apache wicket resource bundles ConcatBundleResource reportError   prints just the scope and the name of the missing resource It will be much more useful if the attributes  locale  style and variation  are printed too    ',0
'Allow submitting with POST method for PhantomJS    With the PhantomJS browser form submit is done using get instead of post due to change             since       This is incorrect and fails with larger requests  PhantomJS only allows a limited get request size  For PhantomJS post must be used as for other browsers             https   git wip us apache org repos asf p wicket git a commitdiff h f b   e    ',0
'Fix the encoding of the Chinese translations for Wizard component    Reported on the users  mailing lists  http   markmail org message wbdffw llrxfjqlq   ',0
'WebPageRenderer should bind a Session if redirect is required and the session is temporary     WebApplication storeBufferedResponse does not check if sessionId is null  This could lead to wrong behaviors as it happens in the quickstart project  Let s say we have a stateless home page with page parameters that are populated inside page constructor  Under these conditions class WebPageRenderer will call storeBufferedResponse and will redirect the response to the final URL  line       But as the session is temporary  the buffered response is not consumed and WebPageRenderer will rise a warning  line      I think we should check for null sessionId inside WebApplication or inside WebPageRender    ',0
'missing generic cast causes compile error on OS X   jdk      when trying to compile wicket   from HEAD it fails under OS X   JDK           Casting a NULL to generic type  T  solves the issues  This seems like some odd case of failing type inference The problematic source line is  return getEnumImpl key  eClass  null  The compiler error is  Error           java  incompatible types  inference variable T has incompatible upper bounds java lang Enum lt T gt  TThis will fix the issue  return getEnumImpl key  eClass   T null  I found that there is a fix WICKET      which does not work in most current JDK          anymore   Could not change the wicket   branch since the change will break the clirr plugin  see WICKET           ',0
'Problem with setting of IComponentInheritedModel and FLAG INHERITABLE MODEL    Described in the mailing list http   mail archives apache org mod mbox wicket users        mbox   CCAF     c TOZjprV Md  KJpRET YQdXHe  DwRzF y G zAXcDg   mail gmail com  EI m aware of the another issue  https   issues apache org jira browse WICKET       which dealt with the exact same code   and I believe there was a mistake in the solution that leads to this issue Please see the attached quickstart  including a JUnit test  to reproduce the error    ',0
'PropertyResolver does not scan for NotNull in annotation tree    When annotating a field of a bean with e g  org hibernate validator constraints NotEmpty  this impliesjavax validation constraints NotNull  but PropertyValidator only checks for the annotations immediately on the filed not the tree of annotations  As a result Wicket does not mark the field as required in the UI  which it should Also PropertyResolver findNotNullConstraints   is not even protected  so cannot be patched in a simple way So as a solution I suggest changing findNotNullConstraints   to be protected and rather be something like findConstraints filter   or findConstraints clazz   and then in that method method recursively invoking getComposingConstraints to get all constraints  but collecting only those of interest  Possibly some care needs to be taken to prevent infinite recursion where constraints are composed of each other  if that compiles     ',0
'wicket autocomplete may fail after preceeding Ajax request    The following processing sequence leads to a JavaScript error  form is shown including an autoCompleteTextField user enters criteria and immediately presses enter actualUpdateChoices   is scheduled by the throttler form is submitted via ajax autoCompleteTextField is removed from DOM throttler executes actualUpdateChoices   wicket autocomplete fails with precondition  since element is no longer in DOM  var elementVal   Wicket   elementId  value    ',0
'RenderStrategy REDIRECT TO RENDER lets fail test with BaseWicketTester startComponentInPage    After changing the RenderStrategy from REDIRECT TO BUFFER to REDIRECT TO RENDER tests with BaseWicketTester startComponentInPage fail Stacktrace org apache wicket markup MarkupNotFoundException  Can not determine Markup  Component is not yet connected to a parent       Page class   org apache wicket util tester BaseWicketTester StartComponentInPage  id      render count          at org apache wicket Component getMarkup Component java      at org apache wicket util tester BaseWicketTester StartComponentInPage getMarkup BaseWicketTester java       at org apache wicket Component internalRender Component java       at org apache wicket Component render Component java       at org apache wicket Page renderPage Page java       at org apache wicket request handler render WebPageRenderer renderPage WebPageRenderer java      at org apache wicket request handler render WebPageRenderer respond WebPageRenderer java      at org apache wicket util tester BaseWicketTester LastPageRecordingPageRendererProvider   respond BaseWicketTester java       at org apache wicket core request handler RenderPageRequestHandler respond RenderPageRequestHandler java      at org apache wicket request cycle RequestCycle HandlerExecutor respond RequestCycle java      at org apache wicket request RequestHandlerStack execute RequestHandlerStack java     at org apache wicket request cycle RequestCycle execute RequestCycle java      at org apache wicket request cycle RequestCycle processRequest RequestCycle java      at org apache wicket request cycle RequestCycle processRequestAndDetach RequestCycle java      at org apache wicket util tester BaseWicketTester processRequest BaseWicketTester java      at org apache wicket util tester BaseWicketTester processRequest BaseWicketTester java      at org apache wicket util tester BaseWicketTester processRequest BaseWicketTester java      at org apache wicket util tester BaseWicketTester startPage BaseWicketTester java      at org apache wicket util tester BaseWicketTester startPage BaseWicketTester java      at org apache wicket util tester BaseWicketTester startComponentInPage BaseWicketTester java       at org apache wicket util tester BaseWicketTester startComponentInPage BaseWicketTester java       at org foo StatelessTest testComponents StatelessTest java       ',0
'Nested Redirects and REDIRECT TO BUFFER    When the render strategy is REDIRECT TO BUFFER  redirects cannot be nested  After the second redirect  Wicket renders the buffered first page in preference to the second page  The relevant code is in WebPageRenderer respond  if  bufferedResponse    null    logger warn  The Buffered response should be handled by BufferedResponseRequestHandler       if there is saved response for this URL render it bufferedResponse writeTo  WebResponse requestCycle getResponse      The attached quickstart demonstrates the issue  Simply navigate to the home page  The observed behavior is that Page  is displayed  but I expect Page  to be displayed I can work around the issue by calling WebApplication getAndRemoveBufferedResponse   to clear the render buffer  but I am uneasy with this solution since it seems like I am playing with Wicket internals  albeit the function is public    ',0
'ResourceUtils getLocaleFromFilename cannot handle filenames with classifiers    When I try to get PathLocale with ResourceUtils  than get wrong values  when the files contains     in name Example   jquery test js  PathLocale path jquery  PathLocale locale   nullor jquery test hu js  PathLocale path jquery  PathLocale locale   nullThat s why I d like to use jquery test hu js  as resource  the ResourceStreamLocator try to find jquery test hu hu HU js  jquery test hu hu js  and after jquery test hu js Because the ResourceStreamLocator locate PathLocale data   ResourceUtils getLocaleFromFilename path   if   data    null   amp  amp   data locale    null     path   data path  locale   data locale   doesn t work in this case Should change the ResourceUtils public static PathLocale getLocaleFromFilename String path    int pos   path indexOf                      To int pos   path lastIndexOf         ',0
'OnChangeAjaxBehavior should listen for both  inputchange  and  change  events for TextField and TextArea    WICKET      introduced a regression that a TextField using OnChangeAjaxBehavior doesn t work anymore when used as date picker  or Select  The problem is that usually extensions like DatePicker and Select  will fire  change  event when they update the text input OnChangeAjaxBehavior should use both  inputchange  and  change  events for TextField and TextArea components    ',0
'SecuritySettings setEnforceMounts   does not work when the mounted mapper is not in the root compound mapper    BookmarkableMapper isPageMounted   assumes that all mounted mappers are in Application getRootRequestMapperAsCompound    Sometimes the mappers make a tree structure  with multiple compounds existing  sometimes separated by wrappers  like HttpsMapper and CryptoMapper Because of this  BookmarkableMapper fails to realise that a page is mounted and so does not enforce mounting    ',0
'MockHttpServletRequest buildRequest   should work for parameters with multiple values with multipart content type    The following code in the method MockHttpServletRequest buildRequest   iterates over all values of a parameter  When writing the value to the outputstream it doesn t use the iteration variable  but instead retrieves the value with  post getParameterValue parameterName   which always returns the first element of the list  List lt StringValue gt  values   post getParameterValues parameterName   for  StringValue value   values    newAttachment out   out write    name     getBytes     out write parameterName getBytes     out write      getBytes     out write crlf getBytes     out write crlf getBytes     out write post getParameterValue parameterName  toString   getBytes     out write crlf getBytes      So for a given list of values          and      it actually writes          and        ',0
'wicket autocomplete prevents  change  listener when leaving input via mouse click    wicket autocomplete s ignoreChange is true initially  this prevents  change  events being fired when the user enters something and then clicks somewhere else   ',0
'Component queuing breaks with html tags that don t require close tag     Component queuing try to skip to close tag also for those tags that don t have one  This leads to a EmptyStackException  see ArrayListStack peek     ',0
'Dequeue auto component can t resolve components if they are nested in child markup    If a container has an auto component  ex  enclouse  in its markup but this later is nested inside a child  the autocomponent won t be resolved if child is a IQueueRegion  For example  taken from quickstart    lt span wicket id  myBorder  gt  bar  lt wicket enclosure gt   lt span wicket id  c  gt c lt  span gt   lt  wicket enclosure gt   lt  span gt    ',0
'ContextNotActiveException thrown when using both CDI   Native WebSocket    Native Websockets does not works anymore while used in conjunction with CDI  Repro step are quite simple  please see attached quickstart WARN      RequestCycleExtra      Handling the following exception  org jboss weld context ContextNotActiveException  WELD         No active contexts for scope type javax enterprise context RequestScoped at org jboss weld manager BeanManagerImpl getContext BeanManagerImpl java           weld core impl       Final jar                       at org jboss weld bean proxy ContextBeanInstance getInstance ContextBeanInstance java          weld core impl       Final jar                       at org jboss weld bean proxy ProxyMethodHandler invoke ProxyMethodHandler java          weld core impl       Final jar                       at org jboss weld proxies Conversation           Proxy     WeldClientProxy getId Unknown Source       weld core impl       Final jar       at org apache wicket cdi ConversationPropagator onRequestHandlerResolved ConversationPropagator java           wicket cdi                               jar       SNAPSHOT      at org apache wicket request cycle RequestCycleListenerCollection   notify RequestCycleListenerCollection java           wicket core                           jar       SNAPSHOT      at org apache wicket request cycle RequestCycleListenerCollection   notify RequestCycleListenerCollection java           wicket core                           jar       SNAPSHOT      at org apache wicket util listener ListenerCollection notify ListenerCollection java          wicket util                           jar       SNAPSHOT      at org apache wicket request cycle RequestCycleListenerCollection onRequestHandlerResolved RequestCycleListenerCollection java           wicket core                           jar       SNAPSHOT      at org apache wicket request cycle RequestCycleListenerCollection   notify RequestCycleListenerCollection java           wicket core                           jar       SNAPSHOT      at org apache wicket request cycle RequestCycleListenerCollection   notify RequestCycleListenerCollection java           wicket core                           jar       SNAPSHOT      at org apache wicket util listener ListenerCollection notify ListenerCollection java          wicket util                           jar       SNAPSHOT      at org apache wicket request cycle RequestCycleListenerCollection onRequestHandlerResolved RequestCycleListenerCollection java           wicket core                           jar       SNAPSHOT      at org apache wicket request cycle RequestCycleListenerCollection   notify RequestCycleListenerCollection java           wicket core                           jar       SNAPSHOT      at org apache wicket request cycle RequestCycleListenerCollection   notify RequestCycleListenerCollection java           wicket core                           jar       SNAPSHOT      at org apache wicket util listener ListenerCollection notify ListenerCollection java          wicket util                           jar       SNAPSHOT      at org apache wicket request cycle RequestCycleListenerCollection onRequestHandlerResolved RequestCycleListenerCollection java           wicket core                           jar       SNAPSHOT      at org apache wicket request cycle RequestCycle execute RequestCycle java           wicket core                           jar       SNAPSHOT      at org apache wicket request cycle RequestCycle processRequest RequestCycle java           wicket core                           jar       SNAPSHOT      at org apache wicket request cycle RequestCycle processRequestAndDetach RequestCycle java           wicket core                           jar       SNAPSHOT      at org apache wicket protocol ws api AbstractWebSocketProcessor broadcastMessage AbstractWebSocketProcessor java           wicket native websocket core       SNAPSHOT jar       SNAPSHOT      at org apache wicket protocol ws api AbstractWebSocketProcessor onClose AbstractWebSocketProcessor java           wicket native websocket core       SNAPSHOT jar       SNAPSHOT      at org apache wicket protocol ws javax WicketEndpoint onClose WicketEndpoint java          wicket native websocket javax       SNAPSHOT jar       SNAPSHOT      at io undertow websockets jsr UndertowSession close UndertowSession java           undertow websockets jsr        Final jar        Final      at io undertow websockets jsr ServerWebSocketContainer close ServerWebSocketContainer java           undertow websockets jsr        Final jar        Final      at io undertow websockets jsr Bootstrap WebSocketListener contextDestroyed Bootstrap java          undertow websockets jsr        Final jar        Final      at io undertow servlet core ApplicationListeners contextDestroyed ApplicationListeners java           undertow servlet        Final jar        Final      at io undertow servlet core DeploymentImpl destroy DeploymentImpl java           undertow servlet        Final jar        Final      at io undertow servlet core DeploymentManagerImpl undeploy DeploymentManagerImpl java           undertow servlet        Final jar        Final      at org wildfly extension undertow deployment UndertowDeploymentService stopContext UndertowDeploymentService java      at org wildfly extension undertow deployment UndertowDeploymentService stop UndertowDeploymentService java      at org jboss msc service ServiceControllerImpl StopTask stopService ServiceControllerImpl java       at org jboss msc service ServiceControllerImpl StopTask run ServiceControllerImpl java       at java util concurrent ThreadPoolExecutor runWorker ThreadPoolExecutor java            rt jar               at java util concurrent ThreadPoolExecutor Worker run ThreadPoolExecutor java           rt jar               at java lang Thread run Thread java           rt jar              Thanks  amp  best regards Sebastien   ',0
'Atmosphere Eventbus throws Concurrent Modification Exception    As already commented in WICKET      the problem of Concurrent Modification Exceptions are still valid like you can see on the following description when the exception occurs You have multiple users surfing a page  Page A  which has subscribes for an event  Event A   Now a user  User A  does an action which triggers the Event A to get posted to the Eventbus  While the eventbus posts the event to the registered listeners  a User B leaves the page and unregisters for the event  f e because he now want s surfs another page  which does not subscribe to the event  Now the ConcurrentModificationException occurs because the unregistering of User B changed the list of listeners while the eventbus is still posting the event to the different listeners  The interesting thing is  that not the initial starter of the event crashes  but all other users which are trying to surf other pages which are listening on the event gets the exception In my opinion this issue can be solved if the line   Collection lt EventSubscription gt  eventSubscriptions   subscriptions get key  subscriptionsForPage   Iterables filter eventSubscriptions  new EventFilter event    makes an copy of the EventSubscriptions an works on this copy instead on the original list  When the eventbus now trys to post the event on a component which does not exists anymore he could try to unregister the component from the original subscribers list  Also Iterable lt EventSubscription gt  subscriptionsForPage  synchronized  this    key   trackedPages get resource uuid     Collection lt EventSubscription gt  eventSubscriptions   subscriptions get key   subscriptionsForPage   Iterables filter eventSubscriptions  new EventFilter event     creates a lazy iterator on the the eventSubscriptions  and will be iterated outside the synchronized block You need to create a copy of the eventSubscriptions  because this might be changed during the unregistering process public synchronized void unregister Component component        Collection lt EventSubscription gt  subscriptionsForPage   subscriptions get pageKey   Iterator lt EventSubscription gt  it   subscriptionsForPage iterator    while  it hasNext      if  it next   getComponentPath   equals componentPath   it remove       it remove   changes the iterator within the lazy Iterator It is possible to have a quick look at it  This problem affected our productive system    ',1
'Wicket Ajax Click handling gets requeued in OnDomReady so fire out of order    While debugging some jquery script ordering  we noticed the following and I m looking for views on why this is done and or if it s a bug    Wicket assembles all ajax click handlers and writes them out into a single Wicket Event add window  domready  function event         script invocation written in to the  lt head gt  element of the page    For things like click handlers  Wicket writes out Wicket Ajax ajax    c    selection e     u            m   POST    calls that execute within the onDomReady function defined in       This invocation of     in turn invokes jquery  fn    This requeues the function invocation at the back of the jquery event queue for onDomReady processing   Any custom scripts that we added using OnDomReadyHeaderItem  regardless of where we put them on the page after the standard Wicket click handler JS  are now invoked  according to page order    The re queued functions from     now execute after my custom scripts  These custom scripts modify the DOM  table paging filtering etc  and this mechanism now results in Wicket JS errors since the Wicket click handler binding fail to find the required elements in the DOM Is this re queueing intentional  and is there a reason that we couldnt just execute the click handler additions in step     rather than re queuing the JS call A workaround for this is to wrap all of our application JS functions in a separate jQuery        invocation  so that we can requeue all of our functions after all the requeued Wicket ones  It works  but we dont understand the need for Wicket to perform this requeueing instead of just executing the function as and where defined on the page    ',0
'NullPointerException in IntHashMap    I was looking through a tester s log file to track down a separate issue  I came across a NullPointerException with IntHashMap  apparently when the server was shutting down See also WICKET       which also deals with a NullPointerException with IntHashMap  and also seems to relate to a null modCount  judging by the line number  INFO  ExampleServer                              com example server ExampleServer stopServer ExampleServer java       Stopping server INFO  ServerConnector                              org eclipse jetty server AbstractConnector doStop AbstractConnector java       Stopped ServerConnector  b d a   HTTP                   INFO  Application                              org apache wicket Application destroyInitializers Application java        org apache wicket protocol http WicketFilter   b dcab  destroy  Wicket core library initializerINFO  Application                              org apache wicket Application destroyInitializers Application java        org apache wicket protocol http WicketFilter   b dcab  destroy  Wicket extensions initializerERROR  DiskDataStore                              org apache wicket pageStore DiskDataStore saveIndex DiskDataStore java       Couldn t write DiskDataStore index to file C  Windows SERVIC   NETWOR   AppData Local Temp org apache wicket protocol http WicketFilter   b dcab filestore DiskDataStoreIndex java lang NullPointerException at org apache wicket util collections IntHashMap HashIterator  lt init gt  IntHashMap java      at org apache wicket util collections IntHashMap EntryIterator  lt init gt  IntHashMap java      at org apache wicket util collections IntHashMap EntryIterator  lt init gt  IntHashMap java      at org apache wicket util collections IntHashMap newEntryIterator IntHashMap java      at org apache wicket util collections IntHashMap EntrySet iterator IntHashMap java       at org apache wicket util collections IntHashMap writeObject IntHashMap java       at sun reflect NativeMethodAccessorImpl invoke  Native Method  at sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java     at sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java     at java lang reflect Method invoke Method java      at java io ObjectStreamClass invokeWriteObject ObjectStreamClass java      at java io ObjectOutputStream writeSerialData ObjectOutputStream java       at java io ObjectOutputStream writeOrdinaryObject ObjectOutputStream java       at java io ObjectOutputStream writeObject  ObjectOutputStream java       at java io ObjectOutputStream defaultWriteFields ObjectOutputStream java       at java io ObjectOutputStream writeSerialData ObjectOutputStream java       at java io ObjectOutputStream writeOrdinaryObject ObjectOutputStream java       at java io ObjectOutputStream writeObject  ObjectOutputStream java       at java io ObjectOutputStream defaultWriteFields ObjectOutputStream java       at java io ObjectOutputStream writeSerialData ObjectOutputStream java       at java io ObjectOutputStream writeOrdinaryObject ObjectOutputStream java       at java io ObjectOutputStream writeObject  ObjectOutputStream java       at java io ObjectOutputStream writeObject ObjectOutputStream java      at java util HashMap internalWriteEntries HashMap java       at java util HashMap writeObject HashMap java       at sun reflect NativeMethodAccessorImpl invoke  Native Method  at sun reflect NativeMethodAccessorImpl invoke NativeMethodAccessorImpl java     at sun reflect DelegatingMethodAccessorImpl invoke DelegatingMethodAccessorImpl java     at java lang reflect Method invoke Method java      at java io ObjectStreamClass invokeWriteObject ObjectStreamClass java      at java io ObjectOutputStream writeSerialData ObjectOutputStream java       at java io ObjectOutputStream writeOrdinaryObject ObjectOutputStream java       at java io ObjectOutputStream writeObject  ObjectOutputStream java       at java io ObjectOutputStream writeObject ObjectOutputStream java      at org apache wicket pageStore DiskDataStore saveIndex DiskDataStore java      at org apache wicket pageStore DiskDataStore destroy DiskDataStore java      at org apache wicket pageStore AsynchronousDataStore destroy AsynchronousDataStore java      at org apache wicket pageStore AbstractPageStore destroy AbstractPageStore java     at org apache wicket pageStore AbstractCachingPageStore destroy AbstractCachingPageStore java      at org apache wicket page PageStoreManager destroy PageStoreManager java      at org apache wicket Application internalDestroy Application java      at org apache wicket protocol http WebApplication internalDestroy WebApplication java      at org apache wicket protocol http WicketFilter destroy WicketFilter java      at org eclipse jetty servlet FilterHolder destroyInstance FilterHolder java      at org eclipse jetty servlet FilterHolder doStop FilterHolder java      at org eclipse jetty util component AbstractLifeCycle stop AbstractLifeCycle java     at org eclipse jetty util component ContainerLifeCycle stop ContainerLifeCycle java      at org eclipse jetty util component ContainerLifeCycle doStop ContainerLifeCycle java      at org eclipse jetty server handler AbstractHandler doStop AbstractHandler java     at org eclipse jetty servlet ServletHandler doStop ServletHandler java      at org eclipse jetty util component AbstractLifeCycle stop AbstractLifeCycle java     at org eclipse jetty util component ContainerLifeCycle stop ContainerLifeCycle java      at org eclipse jetty util component ContainerLifeCycle doStop ContainerLifeCycle java      at org eclipse jetty server handler AbstractHandler doStop AbstractHandler java     at org eclipse jetty security SecurityHandler doStop SecurityHandler java      at org eclipse jetty security ConstraintSecurityHandler doStop ConstraintSecurityHandler java      at org eclipse jetty util component AbstractLifeCycle stop AbstractLifeCycle java     at org eclipse jetty util component ContainerLifeCycle stop ContainerLifeCycle java      at org eclipse jetty util component ContainerLifeCycle doStop ContainerLifeCycle java      at org eclipse jetty server handler AbstractHandler doStop AbstractHandler java     at org eclipse jetty server session SessionHandler doStop SessionHandler java      at org eclipse jetty util component AbstractLifeCycle stop AbstractLifeCycle java     at org eclipse jetty util component ContainerLifeCycle stop ContainerLifeCycle java      at org eclipse jetty util component ContainerLifeCycle doStop ContainerLifeCycle java      at org eclipse jetty server handler AbstractHandler doStop AbstractHandler java     at org eclipse jetty server handler ContextHandler doStop ContextHandler java      at org eclipse jetty servlet ServletContextHandler doStop ServletContextHandler java      at org eclipse jetty util component AbstractLifeCycle stop AbstractLifeCycle java     at org eclipse jetty util component ContainerLifeCycle stop ContainerLifeCycle java      at org eclipse jetty util component ContainerLifeCycle doStop ContainerLifeCycle java      at org eclipse jetty server handler AbstractHandler doStop AbstractHandler java     at org eclipse jetty server Server doStop Server java      at org eclipse jetty util component AbstractLifeCycle stop AbstractLifeCycle java     at com example server ExampleServer stopServer ExampleServer java      at com example server ExampleServer stop ExampleServer java     INFO  ContextHandler                              org eclipse jetty server handler ContextHandler doStop ContextHandler java       Stopped o e j s ServletContextHandler   f   c    null UNAVAILABLE    ',0
